(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0]);}
installedChunks[chunkId]=0;}
for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId];}}
if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()();}};var installedModules={};var installedCssChunks={84:0}
var installedChunks={84:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+""+({}[chunkId]||chunkId)+"-"+{"10":"9be4ff477e6dc6f90aa8","88":"0a8e54163c708ff73ae3","89":"6227d7073501841520f2","90":"9cca0ff061b3c173fad1","91":"416368c5d9cf970932c3","95":"69b19d2e8b240b19151e","96":"c41ade2f57d28eebeeb6","97":"0d624f3cab66b75302d3","98":"c3a1253497778d752c69","99":"1d39bfeeaa010bc07d7a","100":"77564bd263e49396d13e","110":"3847bea31f077ec0c299","111":"91fc4ede47eab0ec51f3","113":"cb44f7d51e1fa1e6d3fb","114":"e23197f725bfaa940ce2","116":"d8bec3673b2187ee2106","117":"ef1e3d6f6c91d9ed8f33","176":"650e124574871d117da5"}[chunkId]+".js"}
function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var cssChunks={"10":1};if(installedCssChunks[chunkId])promises.push(installedCssChunks[chunkId]);else if(installedCssChunks[chunkId]!==0&&cssChunks[chunkId]){promises.push(installedCssChunks[chunkId]=new Promise(function(resolve,reject){var href=""+({}[chunkId]||chunkId)+"-"+{"10":"9be4ff477e6dc6f90aa8","88":"0a8e54163c708ff73ae3","89":"6227d7073501841520f2","90":"9cca0ff061b3c173fad1","91":"416368c5d9cf970932c3","95":"69b19d2e8b240b19151e","96":"c41ade2f57d28eebeeb6","97":"0d624f3cab66b75302d3","98":"c3a1253497778d752c69","99":"1d39bfeeaa010bc07d7a","100":"77564bd263e49396d13e","110":"3847bea31f077ec0c299","111":"91fc4ede47eab0ec51f3","113":"cb44f7d51e1fa1e6d3fb","114":"e23197f725bfaa940ce2","116":"d8bec3673b2187ee2106","117":"ef1e3d6f6c91d9ed8f33","176":"650e124574871d117da5"}[chunkId]+".css";var fullhref=__webpack_require__.p+href;var existingLinkTags=document.getElementsByTagName("link");for(var i=0;i<existingLinkTags.length;i++){var tag=existingLinkTags[i];var dataHref=tag.getAttribute("data-href")||tag.getAttribute("href");if(tag.rel==="stylesheet"&&(dataHref===href||dataHref===fullhref))return resolve();}
var existingStyleTags=document.getElementsByTagName("style");for(var i=0;i<existingStyleTags.length;i++){var tag=existingStyleTags[i];var dataHref=tag.getAttribute("data-href");if(dataHref===href||dataHref===fullhref)return resolve();}
var linkTag=document.createElement("link");linkTag.rel="stylesheet";linkTag.type="text/css";linkTag.onload=resolve;linkTag.onerror=function(event){var request=event&&event.target&&event.target.src||fullhref;var err=new Error("Loading CSS chunk "+chunkId+" failed.\n("+request+")");err.request=request;delete installedCssChunks[chunkId]
linkTag.parentNode.removeChild(linkTag)
reject(err);};linkTag.href=fullhref;var head=document.getElementsByTagName("head")[0];head.appendChild(linkTag);}).then(function(){installedCssChunks[chunkId]=0;}));}
var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2]);}else{var promise=new Promise(function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject];});promises.push(installedChunkData[2]=promise);var script=document.createElement('script');var onScriptComplete;script.charset='utf-8';script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc);}
script.src=jsonpScriptSrc(chunkId);var error=new Error();onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==='load'?'missing':event.type);var realSrc=event&&event.target&&event.target.src;error.message='Loading chunk '+chunkId+' failed.\n('+errorType+': '+realSrc+')';error.name='ChunkLoadError';error.type=errorType;error.request=realSrc;chunk[1](error);}
installedChunks[chunkId]=undefined;}};var timeout=setTimeout(function(){onScriptComplete({type:'timeout',target:script});},120000);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script);}}
return Promise.all(promises);};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter});}};__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if((mode&4)&&typeof value==='object'&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,'default',{enumerable:true,value:value});if(mode&2&&typeof value!='string')for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key];}.bind(null,key));return ns;};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="/assets/packs/";__webpack_require__.oe=function(err){console.error(err);throw err;};var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=1121);})
({1049:(function(module,exports){(function($){'use strict';$.support.fileInput=!(new RegExp('(Android (1\\.[0156]|2\\.[01]))'+'|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)'+'|(w(eb)?OSBrowser)|(webOS)'+'|(Kindle/(1\\.0|2\\.[05]|3\\.0))').test(window.navigator.userAgent)||$('<input type="file">').prop('disabled'));$.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);$.support.xhrFormDataFileUpload=!!window.FormData;$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);function getDragHandler(type){var isDragOver=type==='dragover';return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var dataTransfer=e.dataTransfer;if(dataTransfer&&$.inArray('Files',dataTransfer.types)!==-1&&this._trigger(type,$.Event(type,{delegatedEvent:e}))!==false){e.preventDefault();if(isDragOver){dataTransfer.dropEffect='copy';}}};}
$.widget('blueimp.fileupload',{options:{dropZone:$(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:'Uploaded bytes exceed file size'},i18n:function i18n(message,context){message=this.messages[message]||message.toString();if(context){$.each(context,function(key,value){message=message.replace('{'+key+'}',value);});}
return message;},formData:function formData(form){return form.serializeArray();},add:function add(e,data){if(e.isDefaultPrevented()){return false;}
if(data.autoUpload||data.autoUpload!==false&&$(this).fileupload('option','autoUpload')){data.process().done(function(){data.submit();});}},processData:false,contentType:false,cache:false},_specialOptions:['fileInput','dropZone','pasteZone','multipart','forceIframeTransport'],_blobSlice:$.support.blobSlice&&function(){var slice=this.slice||this.webkitSlice||this.mozSlice;return slice.apply(this,arguments);},_BitrateTimer:function _BitrateTimer(){this.timestamp=Date.now?Date.now():new Date().getTime();this.loaded=0;this.bitrate=0;this.getBitrate=function(now,loaded,interval){var timeDiff=now-this.timestamp;if(!this.bitrate||!interval||timeDiff>interval){this.bitrate=(loaded-this.loaded)*(1000/timeDiff)*8;this.loaded=loaded;this.timestamp=now;}
return this.bitrate;};},_isXHRUpload:function _isXHRUpload(options){return!options.forceIframeTransport&&(!options.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload);},_getFormData:function _getFormData(options){var formData;if($.type(options.formData)==='function'){return options.formData(options.form);}
if($.isArray(options.formData)){return options.formData;}
if($.type(options.formData)==='object'){formData=[];$.each(options.formData,function(name,value){formData.push({name:name,value:value});});return formData;}
return[];},_getTotal:function _getTotal(files){var total=0;$.each(files,function(index,file){total+=file.size||1;});return total;},_initProgressObject:function _initProgressObject(obj){var progress={loaded:0,total:0,bitrate:0};if(obj._progress){$.extend(obj._progress,progress);}else{obj._progress=progress;}},_initResponseObject:function _initResponseObject(obj){var prop;if(obj._response){for(prop in obj._response){if(obj._response.hasOwnProperty(prop)){delete obj._response[prop];}}}else{obj._response={};}},_onProgress:function _onProgress(e,data){if(e.lengthComputable){var now=Date.now?Date.now():new Date().getTime(),loaded;if(data._time&&data.progressInterval&&now-data._time<data.progressInterval&&e.loaded!==e.total){return;}
data._time=now;loaded=Math.floor(e.loaded/e.total*(data.chunkSize||data._progress.total))+(data.uploadedBytes||0);this._progress.loaded+=loaded-data._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(now,this._progress.loaded,data.bitrateInterval);data._progress.loaded=data.loaded=loaded;data._progress.bitrate=data.bitrate=data._bitrateTimer.getBitrate(now,loaded,data.bitrateInterval);this._trigger('progress',$.Event('progress',{delegatedEvent:e}),data);this._trigger('progressall',$.Event('progressall',{delegatedEvent:e}),this._progress);}},_initProgressListener:function _initProgressListener(options){var that=this,xhr=options.xhr?options.xhr():$.ajaxSettings.xhr();if(xhr.upload){$(xhr.upload).bind('progress',function(e){var oe=e.originalEvent;e.lengthComputable=oe.lengthComputable;e.loaded=oe.loaded;e.total=oe.total;that._onProgress(e,options);});options.xhr=function(){return xhr;};}},_isInstanceOf:function _isInstanceOf(type,obj){return Object.prototype.toString.call(obj)==='[object '+type+']';},_initXHRData:function _initXHRData(options){var that=this,formData,file=options.files[0],multipart=options.multipart||!$.support.xhrFileUpload,paramName=$.type(options.paramName)==='array'?options.paramName[0]:options.paramName;options.headers=$.extend({},options.headers);if(options.contentRange){options.headers['Content-Range']=options.contentRange;}
if(!multipart||options.blob||!this._isInstanceOf('File',file)){options.headers['Content-Disposition']='attachment; filename="'+encodeURI(file.name)+'"';}
if(!multipart){options.contentType=file.type||'application/octet-stream';options.data=options.blob||file;}else if($.support.xhrFormDataFileUpload){if(options.postMessage){formData=this._getFormData(options);if(options.blob){formData.push({name:paramName,value:options.blob});}else{$.each(options.files,function(index,file){formData.push({name:$.type(options.paramName)==='array'&&options.paramName[index]||paramName,value:file});});}}else{if(that._isInstanceOf('FormData',options.formData)){formData=options.formData;}else{formData=new FormData();$.each(this._getFormData(options),function(index,field){formData.append(field.name,field.value);});}
if(options.blob){formData.append(paramName,options.blob,file.name);}else{$.each(options.files,function(index,file){if(that._isInstanceOf('File',file)||that._isInstanceOf('Blob',file)){formData.append($.type(options.paramName)==='array'&&options.paramName[index]||paramName,file,file.uploadName||file.name);}});}}
options.data=formData;}
options.blob=null;},_initIframeSettings:function _initIframeSettings(options){var targetHost=$('<a></a>').prop('href',options.url).prop('host');options.dataType='iframe '+(options.dataType||'');options.formData=this._getFormData(options);if(options.redirect&&targetHost&&targetHost!==location.host){options.formData.push({name:options.redirectParamName||'redirect',value:options.redirect});}},_initDataSettings:function _initDataSettings(options){if(this._isXHRUpload(options)){if(!this._chunkedUpload(options,true)){if(!options.data){this._initXHRData(options);}
this._initProgressListener(options);}
if(options.postMessage){options.dataType='postmessage '+(options.dataType||'');}}else{this._initIframeSettings(options);}},_getParamName:function _getParamName(options){var fileInput=$(options.fileInput),paramName=options.paramName;if(!paramName){paramName=[];fileInput.each(function(){var input=$(this),name=input.prop('name')||'files[]',i=(input.prop('files')||[1]).length;while(i){paramName.push(name);i-=1;}});if(!paramName.length){paramName=[fileInput.prop('name')||'files[]'];}}else if(!$.isArray(paramName)){paramName=[paramName];}
return paramName;},_initFormSettings:function _initFormSettings(options){if(!options.form||!options.form.length){options.form=$(options.fileInput.prop('form'));if(!options.form.length){options.form=$(this.options.fileInput.prop('form'));}}
options.paramName=this._getParamName(options);if(!options.url){options.url=options.form.prop('action')||location.href;}
options.type=(options.type||$.type(options.form.prop('method'))==='string'&&options.form.prop('method')||'').toUpperCase();if(options.type!=='POST'&&options.type!=='PUT'&&options.type!=='PATCH'){options.type='POST';}
if(!options.formAcceptCharset){options.formAcceptCharset=options.form.attr('accept-charset');}},_getAJAXSettings:function _getAJAXSettings(data){var options=$.extend({},this.options,data);this._initFormSettings(options);this._initDataSettings(options);return options;},_getDeferredState:function _getDeferredState(deferred){if(deferred.state){return deferred.state();}
if(deferred.isResolved()){return 'resolved';}
if(deferred.isRejected()){return 'rejected';}
return 'pending';},_enhancePromise:function _enhancePromise(promise){promise.success=promise.done;promise.error=promise.fail;promise.complete=promise.always;return promise;},_getXHRPromise:function _getXHRPromise(resolveOrReject,context,args){var dfd=$.Deferred(),promise=dfd.promise();context=context||this.options.context||promise;if(resolveOrReject===true){dfd.resolveWith(context,args);}else if(resolveOrReject===false){dfd.rejectWith(context,args);}
promise.abort=dfd.promise;return this._enhancePromise(promise);},_addConvenienceMethods:function _addConvenienceMethods(e,data){var that=this,getPromise=function getPromise(args){return $.Deferred().resolveWith(that,args).promise();};data.process=function(resolveFunc,rejectFunc){if(resolveFunc||rejectFunc){data._processQueue=this._processQueue=(this._processQueue||getPromise([this])).pipe(function(){if(data.errorThrown){return $.Deferred().rejectWith(that,[data]).promise();}
return getPromise(arguments);}).pipe(resolveFunc,rejectFunc);}
return this._processQueue||getPromise([this]);};data.submit=function(){if(this.state()!=='pending'){data.jqXHR=this.jqXHR=that._trigger('submit',$.Event('submit',{delegatedEvent:e}),this)!==false&&that._onSend(e,this);}
return this.jqXHR||that._getXHRPromise();};data.abort=function(){if(this.jqXHR){return this.jqXHR.abort();}
this.errorThrown='abort';that._trigger('fail',null,this);return that._getXHRPromise(false);};data.state=function(){if(this.jqXHR){return that._getDeferredState(this.jqXHR);}
if(this._processQueue){return that._getDeferredState(this._processQueue);}};data.processing=function(){return!this.jqXHR&&this._processQueue&&that._getDeferredState(this._processQueue)==='pending';};data.progress=function(){return this._progress;};data.response=function(){return this._response;};},_getUploadedBytes:function _getUploadedBytes(jqXHR){var range=jqXHR.getResponseHeader('Range'),parts=range&&range.split('-'),upperBytesPos=parts&&parts.length>1&&parseInt(parts[1],10);return upperBytesPos&&upperBytesPos+1;},_chunkedUpload:function _chunkedUpload(options,testOnly){options.uploadedBytes=options.uploadedBytes||0;var that=this,file=options.files[0],fs=file.size,ub=options.uploadedBytes,mcs=options.maxChunkSize||fs,slice=this._blobSlice,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,_upload;if(!(this._isXHRUpload(options)&&slice&&(ub||mcs<fs))||options.data){return false;}
if(testOnly){return true;}
if(ub>=fs){file.error=options.i18n('uploadedBytes');return this._getXHRPromise(false,options.context,[null,'error',file.error]);}
_upload=function upload(){var o=$.extend({},options),currentLoaded=o._progress.loaded;o.blob=slice.call(file,ub,ub+mcs,file.type);o.chunkSize=o.blob.size;o.contentRange='bytes '+ub+'-'+(ub+o.chunkSize-1)+'/'+fs;that._initXHRData(o);that._initProgressListener(o);jqXHR=(that._trigger('chunksend',null,o)!==false&&$.ajax(o)||that._getXHRPromise(false,o.context)).done(function(result,textStatus,jqXHR){ub=that._getUploadedBytes(jqXHR)||ub+o.chunkSize;if(currentLoaded+o.chunkSize-o._progress.loaded){that._onProgress($.Event('progress',{lengthComputable:true,loaded:ub-o.uploadedBytes,total:ub-o.uploadedBytes}),o);}
options.uploadedBytes=o.uploadedBytes=ub;o.result=result;o.textStatus=textStatus;o.jqXHR=jqXHR;that._trigger('chunkdone',null,o);that._trigger('chunkalways',null,o);if(ub<fs){_upload();}else{dfd.resolveWith(o.context,[result,textStatus,jqXHR]);}}).fail(function(jqXHR,textStatus,errorThrown){o.jqXHR=jqXHR;o.textStatus=textStatus;o.errorThrown=errorThrown;that._trigger('chunkfail',null,o);that._trigger('chunkalways',null,o);dfd.rejectWith(o.context,[jqXHR,textStatus,errorThrown]);});};this._enhancePromise(promise);promise.abort=function(){return jqXHR.abort();};_upload();return promise;},_beforeSend:function _beforeSend(e,data){if(this._active===0){this._trigger('start');this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0;}
this._initResponseObject(data);this._initProgressObject(data);data._progress.loaded=data.loaded=data.uploadedBytes||0;data._progress.total=data.total=this._getTotal(data.files)||1;data._progress.bitrate=data.bitrate=0;this._active+=1;this._progress.loaded+=data.loaded;this._progress.total+=data.total;},_onDone:function _onDone(result,textStatus,jqXHR,options){var total=options._progress.total,response=options._response;if(options._progress.loaded<total){this._onProgress($.Event('progress',{lengthComputable:true,loaded:total,total:total}),options);}
response.result=options.result=result;response.textStatus=options.textStatus=textStatus;response.jqXHR=options.jqXHR=jqXHR;this._trigger('done',null,options);},_onFail:function _onFail(jqXHR,textStatus,errorThrown,options){var response=options._response;if(options.recalculateProgress){this._progress.loaded-=options._progress.loaded;this._progress.total-=options._progress.total;}
response.jqXHR=options.jqXHR=jqXHR;response.textStatus=options.textStatus=textStatus;response.errorThrown=options.errorThrown=errorThrown;this._trigger('fail',null,options);},_onAlways:function _onAlways(jqXHRorResult,textStatus,jqXHRorError,options){this._trigger('always',null,options);},_onSend:function _onSend(e,data){if(!data.submit){this._addConvenienceMethods(e,data);}
var that=this,jqXHR,aborted,slot,pipe,options=that._getAJAXSettings(data),send=function send(){that._sending+=1;options._bitrateTimer=new that._BitrateTimer();jqXHR=jqXHR||((aborted||that._trigger('send',$.Event('send',{delegatedEvent:e}),options)===false)&&that._getXHRPromise(false,options.context,aborted)||that._chunkedUpload(options)||$.ajax(options)).done(function(result,textStatus,jqXHR){that._onDone(result,textStatus,jqXHR,options);}).fail(function(jqXHR,textStatus,errorThrown){that._onFail(jqXHR,textStatus,errorThrown,options);}).always(function(jqXHRorResult,textStatus,jqXHRorError){that._onAlways(jqXHRorResult,textStatus,jqXHRorError,options);that._sending-=1;that._active-=1;if(options.limitConcurrentUploads&&options.limitConcurrentUploads>that._sending){var nextSlot=that._slots.shift();while(nextSlot){if(that._getDeferredState(nextSlot)==='pending'){nextSlot.resolve();break;}
nextSlot=that._slots.shift();}}
if(that._active===0){that._trigger('stop');}});return jqXHR;};this._beforeSend(e,options);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending){if(this.options.limitConcurrentUploads>1){slot=$.Deferred();this._slots.push(slot);pipe=slot.pipe(send);}else{this._sequence=this._sequence.pipe(send,send);pipe=this._sequence;}
pipe.abort=function(){aborted=[undefined,'abort','abort'];if(!jqXHR){if(slot){slot.rejectWith(options.context,aborted);}
return send();}
return jqXHR.abort();};return this._enhancePromise(pipe);}
return send();},_onAdd:function _onAdd(e,data){var that=this,result=true,options=$.extend({},this.options,data),files=data.files,filesLength=files.length,limit=options.limitMultiFileUploads,limitSize=options.limitMultiFileUploadSize,overhead=options.limitMultiFileUploadSizeOverhead,batchSize=0,paramName=this._getParamName(options),paramNameSet,paramNameSlice,fileSet,i,j=0;if(limitSize&&(!filesLength||files[0].size===undefined)){limitSize=undefined;}
if(!(options.singleFileUploads||limit||limitSize)||!this._isXHRUpload(options)){fileSet=[files];paramNameSet=[paramName];}else if(!(options.singleFileUploads||limitSize)&&limit){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i+=limit){fileSet.push(files.slice(i,i+limit));paramNameSlice=paramName.slice(i,i+limit);if(!paramNameSlice.length){paramNameSlice=paramName;}
paramNameSet.push(paramNameSlice);}}else if(!options.singleFileUploads&&limitSize){fileSet=[];paramNameSet=[];for(i=0;i<filesLength;i=i+1){batchSize+=files[i].size+overhead;if(i+1===filesLength||batchSize+files[i+1].size+overhead>limitSize||limit&&i+1-j>=limit){fileSet.push(files.slice(j,i+1));paramNameSlice=paramName.slice(j,i+1);if(!paramNameSlice.length){paramNameSlice=paramName;}
paramNameSet.push(paramNameSlice);j=i+1;batchSize=0;}}}else{paramNameSet=paramName;}
data.originalFiles=files;$.each(fileSet||files,function(index,element){var newData=$.extend({},data);newData.files=fileSet?element:[element];newData.paramName=paramNameSet[index];that._initResponseObject(newData);that._initProgressObject(newData);that._addConvenienceMethods(e,newData);result=that._trigger('add',$.Event('add',{delegatedEvent:e}),newData);return result;});return result;},_replaceFileInput:function _replaceFileInput(data){var input=data.fileInput,inputClone=input.clone(true);data.fileInputClone=inputClone;$('<form></form>').append(inputClone)[0].reset();input.after(inputClone).detach();$.cleanData(input.unbind('remove'));this.options.fileInput=this.options.fileInput.map(function(i,el){if(el===input[0]){return inputClone[0];}
return el;});if(input[0]===this.element[0]){this.element=inputClone;}},_handleFileTreeEntry:function _handleFileTreeEntry(entry,path){var that=this,dfd=$.Deferred(),errorHandler=function errorHandler(e){if(e&&!e.entry){e.entry=entry;}
dfd.resolve([e]);},successHandler=function successHandler(entries){that._handleFileTreeEntries(entries,path+entry.name+'/').done(function(files){dfd.resolve(files);}).fail(errorHandler);},readEntries=function readEntries(){dirReader.readEntries(function(results){if(!results.length){successHandler(entries);}else{entries=entries.concat(results);readEntries();}},errorHandler);},dirReader,entries=[];path=path||'';if(entry.isFile){if(entry._file){entry._file.relativePath=path;dfd.resolve(entry._file);}else{entry.file(function(file){file.relativePath=path;dfd.resolve(file);},errorHandler);}}else if(entry.isDirectory){dirReader=entry.createReader();readEntries();}else{dfd.resolve([]);}
return dfd.promise();},_handleFileTreeEntries:function _handleFileTreeEntries(entries,path){var that=this;return $.when.apply($,$.map(entries,function(entry){return that._handleFileTreeEntry(entry,path);})).pipe(function(){return Array.prototype.concat.apply([],arguments);});},_getDroppedFiles:function _getDroppedFiles(dataTransfer){dataTransfer=dataTransfer||{};var items=dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry||items[0].getAsEntry)){return this._handleFileTreeEntries($.map(items,function(item){var entry;if(item.webkitGetAsEntry){entry=item.webkitGetAsEntry();if(entry){entry._file=item.getAsFile();}
return entry;}
return item.getAsEntry();}));}
return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();},_getSingleFileInputFiles:function _getSingleFileInputFiles(fileInput){fileInput=$(fileInput);var entries=fileInput.prop('webkitEntries')||fileInput.prop('entries'),files,value;if(entries&&entries.length){return this._handleFileTreeEntries(entries);}
files=$.makeArray(fileInput.prop('files'));if(!files.length){value=fileInput.prop('value');if(!value){return $.Deferred().resolve([]).promise();}
files=[{name:value.replace(/^.*\\/,'')}];}else if(files[0].name===undefined&&files[0].fileName){$.each(files,function(index,file){file.name=file.fileName;file.size=file.fileSize;});}
return $.Deferred().resolve(files).promise();},_getFileInputFiles:function _getFileInputFiles(fileInput){if(!(fileInput instanceof $)||fileInput.length===1){return this._getSingleFileInputFiles(fileInput);}
return $.when.apply($,$.map(fileInput,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments);});},_onChange:function _onChange(e){var that=this,data={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;if(that.options.replaceFileInput){that._replaceFileInput(data);}
if(that._trigger('change',$.Event('change',{delegatedEvent:e}),data)!==false){that._onAdd(e,data);}});},_onPaste:function _onPaste(e){var items=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,data={files:[]};if(items&&items.length){$.each(items,function(index,item){var file=item.getAsFile&&item.getAsFile();if(file){data.files.push(file);}});if(this._trigger('paste',$.Event('paste',{delegatedEvent:e}),data)!==false){this._onAdd(e,data);}}},_onDrop:function _onDrop(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var that=this,dataTransfer=e.dataTransfer,data={};if(dataTransfer&&dataTransfer.files&&dataTransfer.files.length){e.preventDefault();this._getDroppedFiles(dataTransfer).always(function(files){data.files=files;if(that._trigger('drop',$.Event('drop',{delegatedEvent:e}),data)!==false){that._onAdd(e,data);}});}},_onDragOver:getDragHandler('dragover'),_onDragEnter:getDragHandler('dragenter'),_onDragLeave:getDragHandler('dragleave'),_initEventHandlers:function _initEventHandlers(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave});this._on(this.options.pasteZone,{paste:this._onPaste});}
if($.support.fileInput){this._on(this.options.fileInput,{change:this._onChange});}},_destroyEventHandlers:function _destroyEventHandlers(){this._off(this.options.dropZone,'dragenter dragleave dragover drop');this._off(this.options.pasteZone,'paste');this._off(this.options.fileInput,'change');},_setOption:function _setOption(key,value){var reinit=$.inArray(key,this._specialOptions)!==-1;if(reinit){this._destroyEventHandlers();}
this._super(key,value);if(reinit){this._initSpecialOptions();this._initEventHandlers();}},_initSpecialOptions:function _initSpecialOptions(){var options=this.options;if(options.fileInput===undefined){options.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]');}else if(!(options.fileInput instanceof $)){options.fileInput=$(options.fileInput);}
if(!(options.dropZone instanceof $)){options.dropZone=$(options.dropZone);}
if(!(options.pasteZone instanceof $)){options.pasteZone=$(options.pasteZone);}},_getRegExp:function _getRegExp(str){var parts=str.split('/'),modifiers=parts.pop();parts.shift();return new RegExp(parts.join('/'),modifiers);},_isRegExpOption:function _isRegExpOption(key,value){return key!=='url'&&$.type(value)==='string'&&/^\/.*\/[igm]{0,3}$/.test(value);},_initDataAttributes:function _initDataAttributes(){var that=this,options=this.options,data=this.element.data();$.each(this.element[0].attributes,function(index,attr){var key=attr.name.toLowerCase(),value;if(/^data-/.test(key)){key=key.slice(5).replace(/-[a-z]/g,function(str){return str.charAt(1).toUpperCase();});value=data[key];if(that._isRegExpOption(key,value)){value=that._getRegExp(value);}
options[key]=value;}});},_create:function _create(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers();},active:function active(){return this._active;},progress:function progress(){return this._progress;},add:function add(data){var that=this;if(!data||this.options.disabled){return;}
if(data.fileInput&&!data.files){this._getFileInputFiles(data.fileInput).always(function(files){data.files=files;that._onAdd(null,data);});}else{data.files=$.makeArray(data.files);this._onAdd(null,data);}},send:function send(data){if(data&&!this.options.disabled){if(data.fileInput&&!data.files){var that=this,dfd=$.Deferred(),promise=dfd.promise(),jqXHR,aborted;promise.abort=function(){aborted=true;if(jqXHR){return jqXHR.abort();}
dfd.reject(null,'abort','abort');return promise;};this._getFileInputFiles(data.fileInput).always(function(files){if(aborted){return;}
if(!files.length){dfd.reject();return;}
data.files=files;jqXHR=that._onSend(null,data);jqXHR.then(function(result,textStatus,jqXHR){dfd.resolve(result,textStatus,jqXHR);},function(jqXHR,textStatus,errorThrown){dfd.reject(jqXHR,textStatus,errorThrown);});});return this._enhancePromise(promise);}
data.files=$.makeArray(data.files);if(data.files.length){return this._onSend(null,data);}}
return this._getXHRPromise(false,data&&data.context);}});})(window.$);}),1066:(function(module,exports,__webpack_require__){__webpack_require__(1067);__webpack_require__(1068);__webpack_require__(1069);$(function(){if(typeof onAppModelViewDefined!='undefined')onAppModelViewDefined();});}),1067:(function(module,exports){(function(e){"use strict";e.fn.konami=function(t){var n,r,i,s;n=e.extend({},e.fn.konami.defaults,t);return this.each(function(){i=[];e(window).keyup(function(e){s=e.keyCode||e.which;if(n.code.length>i.push(s)){return;}if(n.code.length<i.length){i.shift();}if(n.code.toString()!==i.toString()){return;}n.cheat();});});};e.fn.konami.defaults={code:[38,38,40,40,37,39,37,39,66,65],cheat:null};})(jQuery);}),1068:(function(module,exports){(function(window,document,location,setTimeout,decodeURIComponent,encodeURIComponent){var global=this;var channelId=Math.floor(Math.random()*10000);var emptyFn=Function.prototype;var reURI=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/;var reParent=/[\-\w]+\/\.\.\//;var reDoubleSlash=/([^:])\/\//g;var namespace="";var easyXDM={};var _easyXDM=window.easyXDM;var IFRAME_PREFIX="easyXDM_";var HAS_NAME_PROPERTY_BUG;var useHash=false;var flashVersion;var HAS_FLASH_THROTTLED_BUG;function isHostMethod(object,property){var t=typeof object[property];return t=='function'||(!!(t=='object'&&object[property]))||t=='unknown';}
function isHostObject(object,property){return!!(typeof(object[property])=='object'&&object[property]);}
function isArray(o){return Object.prototype.toString.call(o)==='[object Array]';}
function hasFlash(){var name="Shockwave Flash",mimeType="application/x-shockwave-flash";if(!undef(navigator.plugins)&&typeof navigator.plugins[name]=="object"){var description=navigator.plugins[name].description;if(description&&!undef(navigator.mimeTypes)&&navigator.mimeTypes[mimeType]&&navigator.mimeTypes[mimeType].enabledPlugin){flashVersion=description.match(/\d+/g);}}
if(!flashVersion){var flash;try{flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");flashVersion=Array.prototype.slice.call(flash.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1);flash=null;}
catch(notSupportedException){}}
if(!flashVersion){return false;}
var major=parseInt(flashVersion[0],10),minor=parseInt(flashVersion[1],10);HAS_FLASH_THROTTLED_BUG=major>9&&minor>0;return true;}
var on,un;if(isHostMethod(window,"addEventListener")){on=function(target,type,listener){target.addEventListener(type,listener,false);};un=function(target,type,listener){target.removeEventListener(type,listener,false);};}
else if(isHostMethod(window,"attachEvent")){on=function(object,sEvent,fpNotify){object.attachEvent("on"+sEvent,fpNotify);};un=function(object,sEvent,fpNotify){object.detachEvent("on"+sEvent,fpNotify);};}
else{throw new Error("Browser not supported");}
var domIsReady=false,domReadyQueue=[],readyState;if("readyState"in document){readyState=document.readyState;domIsReady=readyState=="complete"||(~navigator.userAgent.indexOf('AppleWebKit/')&&(readyState=="loaded"||readyState=="interactive"));}
else{domIsReady=!!document.body;}
function dom_onReady(){if(domIsReady){return;}
domIsReady=true;for(var i=0;i<domReadyQueue.length;i++){domReadyQueue[i]();}
domReadyQueue.length=0;}
if(!domIsReady){if(isHostMethod(window,"addEventListener")){on(document,"DOMContentLoaded",dom_onReady);}
else{on(document,"readystatechange",function(){if(document.readyState=="complete"){dom_onReady();}});if(document.documentElement.doScroll&&window===top){var doScrollCheck=function(){if(domIsReady){return;}
try{document.documentElement.doScroll("left");}
catch(e){setTimeout(doScrollCheck,1);return;}
dom_onReady();};doScrollCheck();}}
on(window,"load",dom_onReady);}
function whenReady(fn,scope){if(domIsReady){fn.call(scope);return;}
domReadyQueue.push(function(){fn.call(scope);});}
function getParentObject(){var obj=parent;if(namespace!==""){for(var i=0,ii=namespace.split(".");i<ii.length;i++){obj=obj[ii[i]];}}
return obj.easyXDM;}
function noConflict(ns){window.easyXDM=_easyXDM;namespace=ns;if(namespace){IFRAME_PREFIX="easyXDM_"+namespace.replace(".","_")+"_";}
return easyXDM;}
function getDomainName(url){return url.match(reURI)[3];}
function getPort(url){return url.match(reURI)[4]||"";}
function getLocation(url){var m=url.toLowerCase().match(reURI);var proto=m[2],domain=m[3],port=m[4]||"";if((proto=="http:"&&port==":80")||(proto=="https:"&&port==":443")){port="";}
return proto+"//"+domain+port;}
function resolveUrl(url){url=url.replace(reDoubleSlash,"$1/");if(!url.match(/^(http||https):\/\//)){var path=(url.substring(0,1)==="/")?"":location.pathname;if(path.substring(path.length-1)!=="/"){path=path.substring(0,path.lastIndexOf("/")+1);}
url=location.protocol+"//"+location.host+path+url;}
while(reParent.test(url)){url=url.replace(reParent,"");}
return url;}
function appendQueryParameters(url,parameters){var hash="",indexOf=url.indexOf("#");if(indexOf!==-1){hash=url.substring(indexOf);url=url.substring(0,indexOf);}
var q=[];for(var key in parameters){if(parameters.hasOwnProperty(key)){q.push(key+"="+encodeURIComponent(parameters[key]));}}
return url+(useHash?"#":(url.indexOf("?")==-1?"?":"&"))+q.join("&")+hash;}
var query=(function(input){input=input.substring(1).split("&");var data={},pair,i=input.length;while(i--){pair=input[i].split("=");data[pair[0]]=decodeURIComponent(pair[1]);}
return data;}(/xdm_e=/.test(location.search)?location.search:location.hash));function undef(v){return typeof v==="undefined";}
var getJSON=function(){var cached={};var obj={a:[1,2,3]},json="{\"a\":[1,2,3]}";if(typeof JSON!="undefined"&&typeof JSON.stringify==="function"&&JSON.stringify(obj).replace((/\s/g),"")===json){return JSON;}
if(Object.toJSON){if(Object.toJSON(obj).replace((/\s/g),"")===json){cached.stringify=Object.toJSON;}}
if(typeof String.prototype.evalJSON==="function"){obj=json.evalJSON();if(obj.a&&obj.a.length===3&&obj.a[2]===3){cached.parse=function(str){return str.evalJSON();};}}
if(cached.stringify&&cached.parse){getJSON=function(){return cached;};return cached;}
return null;};function apply(destination,source,noOverwrite){var member;for(var prop in source){if(source.hasOwnProperty(prop)){if(prop in destination){member=source[prop];if(typeof member==="object"){apply(destination[prop],member,noOverwrite);}
else if(!noOverwrite){destination[prop]=source[prop];}}
else{destination[prop]=source[prop];}}}
return destination;}
function testForNamePropertyBug(){var form=document.body.appendChild(document.createElement("form")),input=form.appendChild(document.createElement("input"));input.name=IFRAME_PREFIX+"TEST"+channelId;HAS_NAME_PROPERTY_BUG=input!==form.elements[input.name];document.body.removeChild(form);}
function createFrame(config){if(undef(HAS_NAME_PROPERTY_BUG)){testForNamePropertyBug();}
var frame;if(HAS_NAME_PROPERTY_BUG){frame=document.createElement("<iframe name=\""+config.props.name+"\"/>");}
else{frame=document.createElement("IFRAME");frame.name=config.props.name;}
frame.id=frame.name=config.props.name;delete config.props.name;if(typeof config.container=="string"){config.container=document.getElementById(config.container);}
if(!config.container){apply(frame.style,{position:"absolute",top:"-2000px",left:"0px"});config.container=document.body;}
var src=config.props.src;config.props.src="javascript:false";apply(frame,config.props);frame.border=frame.frameBorder=0;frame.allowTransparency=true;config.container.appendChild(frame);if(config.onLoad){on(frame,"load",config.onLoad);}
if(config.usePost){var form=config.container.appendChild(document.createElement('form')),input;form.target=frame.name;form.action=src;form.method='POST';if(typeof(config.usePost)==='object'){for(var i in config.usePost){if(config.usePost.hasOwnProperty(i)){if(HAS_NAME_PROPERTY_BUG){input=document.createElement('<input name="'+i+'"/>');}else{input=document.createElement("INPUT");input.name=i;}
input.value=config.usePost[i];form.appendChild(input);}}}
form.submit();form.parentNode.removeChild(form);}else{frame.src=src;}
config.props.src=src;return frame;}
function checkAcl(acl,domain){if(typeof acl=="string"){acl=[acl];}
var re,i=acl.length;while(i--){re=acl[i];re=new RegExp(re.substr(0,1)=="^"?re:("^"+re.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"));if(re.test(domain)){return true;}}
return false;}
function prepareTransportStack(config){var protocol=config.protocol,stackEls;config.isHost=config.isHost||undef(query.xdm_p);useHash=config.hash||false;if(!config.props){config.props={};}
if(!config.isHost){config.channel=query.xdm_c.replace(/["'<>\\]/g,"");config.secret=query.xdm_s;config.remote=query.xdm_e.replace(/["'<>\\]/g,"");;protocol=query.xdm_p;if(config.acl&&!checkAcl(config.acl,config.remote)){throw new Error("Access denied for "+config.remote);}}
else{config.remote=resolveUrl(config.remote);config.channel=config.channel||"default"+channelId++;config.secret=Math.random().toString(16).substring(2);if(undef(protocol)){if(getLocation(location.href)==getLocation(config.remote)){protocol="4";}
else if(isHostMethod(window,"postMessage")||isHostMethod(document,"postMessage")){protocol="1";}
else if(config.swf&&isHostMethod(window,"ActiveXObject")&&hasFlash()){protocol="6";}
else if(navigator.product==="Gecko"&&"frameElement"in window&&navigator.userAgent.indexOf('WebKit')==-1){protocol="5";}
else if(config.remoteHelper){protocol="2";}
else{protocol="0";}}}
config.protocol=protocol;switch(protocol){case "0":apply(config,{interval:100,delay:2000,useResize:true,useParent:false,usePolling:false},true);if(config.isHost){if(!config.local){var domain=location.protocol+"//"+location.host,images=document.body.getElementsByTagName("img"),image;var i=images.length;while(i--){image=images[i];if(image.src.substring(0,domain.length)===domain){config.local=image.src;break;}}
if(!config.local){config.local=window;}}
var parameters={xdm_c:config.channel,xdm_p:0};if(config.local===window){config.usePolling=true;config.useParent=true;config.local=location.protocol+"//"+location.host+location.pathname+location.search;parameters.xdm_e=config.local;parameters.xdm_pa=1;}
else{parameters.xdm_e=resolveUrl(config.local);}
if(config.container){config.useResize=false;parameters.xdm_po=1;}
config.remote=appendQueryParameters(config.remote,parameters);}
else{apply(config,{channel:query.xdm_c,remote:query.xdm_e,useParent:!undef(query.xdm_pa),usePolling:!undef(query.xdm_po),useResize:config.useParent?false:config.useResize});}
stackEls=[new easyXDM.stack.HashTransport(config),new easyXDM.stack.ReliableBehavior({}),new easyXDM.stack.QueueBehavior({encode:true,maxLength:4000-config.remote.length}),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case "1":stackEls=[new easyXDM.stack.PostMessageTransport(config)];break;case "2":if(config.isHost){config.remoteHelper=resolveUrl(config.remoteHelper);}
stackEls=[new easyXDM.stack.NameTransport(config),new easyXDM.stack.QueueBehavior(),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case "3":stackEls=[new easyXDM.stack.NixTransport(config)];break;case "4":stackEls=[new easyXDM.stack.SameOriginTransport(config)];break;case "5":stackEls=[new easyXDM.stack.FrameElementTransport(config)];break;case "6":if(!flashVersion){hasFlash();}
stackEls=[new easyXDM.stack.FlashTransport(config)];break;}
stackEls.push(new easyXDM.stack.QueueBehavior({lazy:config.lazy,remove:true}));return stackEls;}
function chainStack(stackElements){var stackEl,defaults={incoming:function(message,origin){this.up.incoming(message,origin);},outgoing:function(message,recipient){this.down.outgoing(message,recipient);},callback:function(success){this.up.callback(success);},init:function(){this.down.init();},destroy:function(){this.down.destroy();}};for(var i=0,len=stackElements.length;i<len;i++){stackEl=stackElements[i];apply(stackEl,defaults,true);if(i!==0){stackEl.down=stackElements[i-1];}
if(i!==len-1){stackEl.up=stackElements[i+1];}}
return stackEl;}
function removeFromStack(element){element.up.down=element.down;element.down.up=element.up;element.up=element.down=null;}
apply(easyXDM,{version:"2.4.19",query:query,stack:{},apply:apply,getJSONObject:getJSON,whenReady:whenReady,noConflict:noConflict});easyXDM.DomHelper={on:on,un:un,requiresJSON:function(path){if(!isHostObject(window,"JSON")){document.write('<'+'script type="text/javascript" src="'+path+'"><'+'/script>');}}};(function(){var _map={};easyXDM.Fn={set:function(name,fn){_map[name]=fn;},get:function(name,del){if(!_map.hasOwnProperty(name)){return;}
var fn=_map[name];if(del){delete _map[name];}
return fn;}};}());easyXDM.Socket=function(config){var stack=chainStack(prepareTransportStack(config).concat([{incoming:function(message,origin){config.onMessage(message,origin);},callback:function(success){if(config.onReady){config.onReady(success);}}}])),recipient=getLocation(config.remote);this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy();};this.postMessage=function(message){stack.outgoing(message,recipient);};stack.init();};easyXDM.Rpc=function(config,jsonRpcConfig){if(jsonRpcConfig.local){for(var method in jsonRpcConfig.local){if(jsonRpcConfig.local.hasOwnProperty(method)){var member=jsonRpcConfig.local[method];if(typeof member==="function"){jsonRpcConfig.local[method]={method:member};}}}}
var stack=chainStack(prepareTransportStack(config).concat([new easyXDM.stack.RpcBehavior(this,jsonRpcConfig),{callback:function(success){if(config.onReady){config.onReady(success);}}}]));this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy();};stack.init();};easyXDM.stack.SameOriginTransport=function(config){var pub,frame,send,targetOrigin;return(pub={outgoing:function(message,domain,fn){send(message);if(fn){fn();}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:location.protocol+"//"+location.host+location.pathname,xdm_c:config.channel,xdm_p:4}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);easyXDM.Fn.set(config.channel,function(sendFn){send=sendFn;setTimeout(function(){pub.up.callback(true);},0);return function(msg){pub.up.incoming(msg,targetOrigin);};});}
else{send=getParentObject().Fn.get(config.channel,true)(function(msg){pub.up.incoming(msg,targetOrigin);});setTimeout(function(){pub.up.callback(true);},0);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.FlashTransport=function(config){var pub,frame,send,targetOrigin,swf,swfContainer;function onMessage(message,origin){setTimeout(function(){pub.up.incoming(message,targetOrigin);},0);}
function addSwf(domain){var url=config.swf+"?host="+config.isHost;var id="easyXDM_swf_"+Math.floor(Math.random()*10000);easyXDM.Fn.set("flash_loaded"+domain.replace(/[\-.]/g,"_"),function(){easyXDM.stack.FlashTransport[domain].swf=swf=swfContainer.firstChild;var queue=easyXDM.stack.FlashTransport[domain].queue;for(var i=0;i<queue.length;i++){queue[i]();}
queue.length=0;});if(config.swfContainer){swfContainer=(typeof config.swfContainer=="string")?document.getElementById(config.swfContainer):config.swfContainer;}
else{swfContainer=document.createElement('div');apply(swfContainer.style,HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0});document.body.appendChild(swfContainer);}
var flashVars="callback=flash_loaded"+encodeURIComponent(domain.replace(/[\-.]/g,"_"))
+"&proto="+global.location.protocol
+"&domain="+encodeURIComponent(getDomainName(global.location.href))
+"&port="+encodeURIComponent(getPort(global.location.href))
+"&ns="+encodeURIComponent(namespace);swfContainer.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+id+"' data='"+url+"'>"+
"<param name='allowScriptAccess' value='always'></param>"+
"<param name='wmode' value='transparent'>"+
"<param name='movie' value='"+
url+
"'></param>"+
"<param name='flashvars' value='"+
flashVars+
"'></param>"+
"<embed type='application/x-shockwave-flash' FlashVars='"+
flashVars+
"' allowScriptAccess='always' wmode='transparent' src='"+
url+
"' height='1' width='1'></embed>"+
"</object>";}
return(pub={outgoing:function(message,domain,fn){swf.postMessage(config.channel,message.toString());if(fn){fn();}},destroy:function(){try{swf.destroyChannel(config.channel);}
catch(e){}
swf=null;if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=config.remote;easyXDM.Fn.set("flash_"+config.channel+"_init",function(){setTimeout(function(){pub.up.callback(true);});});easyXDM.Fn.set("flash_"+config.channel+"_onMessage",onMessage);config.swf=resolveUrl(config.swf);var swfdomain=getDomainName(config.swf);var fn=function(){easyXDM.stack.FlashTransport[swfdomain].init=true;swf=easyXDM.stack.FlashTransport[swfdomain].swf;swf.createChannel(config.channel,config.secret,getLocation(config.remote),config.isHost);if(config.isHost){if(HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle){apply(config.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"});}
apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:6,xdm_s:config.secret}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);}};if(easyXDM.stack.FlashTransport[swfdomain]&&easyXDM.stack.FlashTransport[swfdomain].init){fn();}
else{if(!easyXDM.stack.FlashTransport[swfdomain]){easyXDM.stack.FlashTransport[swfdomain]={queue:[fn]};addSwf(swfdomain);}
else{easyXDM.stack.FlashTransport[swfdomain].queue.push(fn);}}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.PostMessageTransport=function(config){var pub,frame,callerWindow,targetOrigin;function _getOrigin(event){if(event.origin){return getLocation(event.origin);}
if(event.uri){return getLocation(event.uri);}
if(event.domain){return location.protocol+"//"+event.domain;}
throw "Unable to retrieve the origin of the event";}
function _window_onMessage(event){var origin=_getOrigin(event);if(origin==targetOrigin&&event.data.substring(0,config.channel.length+1)==config.channel+" "){pub.up.incoming(event.data.substring(config.channel.length+1),origin);}}
return(pub={outgoing:function(message,domain,fn){callerWindow.postMessage(config.channel+" "+message,domain||targetOrigin);if(fn){fn();}},destroy:function(){un(window,"message",_window_onMessage);if(frame){callerWindow=null;frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){var waitForReady=function(event){if(event.data==config.channel+"-ready"){callerWindow=("postMessage"in frame.contentWindow)?frame.contentWindow:frame.contentWindow.document;un(window,"message",waitForReady);on(window,"message",_window_onMessage);setTimeout(function(){pub.up.callback(true);},0);}};on(window,"message",waitForReady);apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:1}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);}
else{on(window,"message",_window_onMessage);callerWindow=("postMessage"in window.parent)?window.parent:window.parent.document;callerWindow.postMessage(config.channel+"-ready",targetOrigin);setTimeout(function(){pub.up.callback(true);},0);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.FrameElementTransport=function(config){var pub,frame,send,targetOrigin;return(pub={outgoing:function(message,domain,fn){send.call(this,message);if(fn){fn();}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null;}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:5}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);frame.fn=function(sendFn){delete frame.fn;send=sendFn;setTimeout(function(){pub.up.callback(true);},0);return function(msg){pub.up.incoming(msg,targetOrigin);};};}
else{if(document.referrer&&getLocation(document.referrer)!=query.xdm_e){window.top.location=query.xdm_e;}
send=window.frameElement.fn(function(msg){pub.up.incoming(msg,targetOrigin);});pub.up.callback(true);}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.NameTransport=function(config){var pub;var isHost,callerWindow,remoteWindow,readyCount,callback,remoteOrigin,remoteUrl;function _sendMessage(message){var url=config.remoteHelper+(isHost?"#_3":"#_2")+config.channel;callerWindow.contentWindow.sendMessage(message,url);}
function _onReady(){if(isHost){if(++readyCount===2||!isHost){pub.up.callback(true);}}
else{_sendMessage("ready");pub.up.callback(true);}}
function _onMessage(message){pub.up.incoming(message,remoteOrigin);}
function _onLoad(){if(callback){setTimeout(function(){callback(true);},0);}}
return(pub={outgoing:function(message,domain,fn){callback=fn;_sendMessage(message);},destroy:function(){callerWindow.parentNode.removeChild(callerWindow);callerWindow=null;if(isHost){remoteWindow.parentNode.removeChild(remoteWindow);remoteWindow=null;}},onDOMReady:function(){isHost=config.isHost;readyCount=0;remoteOrigin=getLocation(config.remote);config.local=resolveUrl(config.local);if(isHost){easyXDM.Fn.set(config.channel,function(message){if(isHost&&message==="ready"){easyXDM.Fn.set(config.channel,_onMessage);_onReady();}});remoteUrl=appendQueryParameters(config.remote,{xdm_e:config.local,xdm_c:config.channel,xdm_p:2});apply(config.props,{src:remoteUrl+'#'+config.channel,name:IFRAME_PREFIX+config.channel+"_provider"});remoteWindow=createFrame(config);}
else{config.remoteHelper=config.remote;easyXDM.Fn.set(config.channel,_onMessage);}
var onLoad=function(){var w=callerWindow||this;un(w,"load",onLoad);easyXDM.Fn.set(config.channel+"_load",_onLoad);(function test(){if(typeof w.contentWindow.sendMessage=="function"){_onReady();}
else{setTimeout(test,50);}}());};callerWindow=createFrame({props:{src:config.local+"#_4"+config.channel},onLoad:onLoad});},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.HashTransport=function(config){var pub;var me=this,isHost,_timer,pollInterval,_lastMsg,_msgNr,_listenerWindow,_callerWindow;var useParent,_remoteOrigin;function _sendMessage(message){if(!_callerWindow){return;}
var url=config.remote+"#"+(_msgNr++)+"_"+message;((isHost||!useParent)?_callerWindow.contentWindow:_callerWindow).location=url;}
function _handleHash(hash){_lastMsg=hash;pub.up.incoming(_lastMsg.substring(_lastMsg.indexOf("_")+1),_remoteOrigin);}
function _pollHash(){if(!_listenerWindow){return;}
var href=_listenerWindow.location.href,hash="",indexOf=href.indexOf("#");if(indexOf!=-1){hash=href.substring(indexOf);}
if(hash&&hash!=_lastMsg){_handleHash(hash);}}
function _attachListeners(){_timer=setInterval(_pollHash,pollInterval);}
return(pub={outgoing:function(message,domain){_sendMessage(message);},destroy:function(){window.clearInterval(_timer);if(isHost||!useParent){_callerWindow.parentNode.removeChild(_callerWindow);}
_callerWindow=null;},onDOMReady:function(){isHost=config.isHost;pollInterval=config.interval;_lastMsg="#"+config.channel;_msgNr=0;useParent=config.useParent;_remoteOrigin=getLocation(config.remote);if(isHost){apply(config.props,{src:config.remote,name:IFRAME_PREFIX+config.channel+"_provider"});if(useParent){config.onLoad=function(){_listenerWindow=window;_attachListeners();pub.up.callback(true);};}
else{var tries=0,max=config.delay/50;(function getRef(){if(++tries>max){throw new Error("Unable to reference listenerwindow");}
try{_listenerWindow=_callerWindow.contentWindow.frames[IFRAME_PREFIX+config.channel+"_consumer"];}
catch(ex){}
if(_listenerWindow){_attachListeners();pub.up.callback(true);}
else{setTimeout(getRef,50);}}());}
_callerWindow=createFrame(config);}
else{_listenerWindow=window;_attachListeners();if(useParent){_callerWindow=parent;pub.up.callback(true);}
else{apply(config,{props:{src:config.remote+"#"+config.channel+new Date(),name:IFRAME_PREFIX+config.channel+"_consumer"},onLoad:function(){pub.up.callback(true);}});_callerWindow=createFrame(config);}}},init:function(){whenReady(pub.onDOMReady,pub);}});};easyXDM.stack.ReliableBehavior=function(config){var pub,callback;var idOut=0,idIn=0,currentMessage="";return(pub={incoming:function(message,origin){var indexOf=message.indexOf("_"),ack=message.substring(0,indexOf).split(",");message=message.substring(indexOf+1);if(ack[0]==idOut){currentMessage="";if(callback){callback(true);}}
if(message.length>0){pub.down.outgoing(ack[1]+","+idOut+"_"+currentMessage,origin);if(idIn!=ack[1]){idIn=ack[1];pub.up.incoming(message,origin);}}},outgoing:function(message,origin,fn){currentMessage=message;callback=fn;pub.down.outgoing(idIn+","+(++idOut)+"_"+message,origin);}});};easyXDM.stack.QueueBehavior=function(config){var pub,queue=[],waiting=true,incoming="",destroying,maxLength=0,lazy=false,doFragment=false;function dispatch(){if(config.remove&&queue.length===0){removeFromStack(pub);return;}
if(waiting||queue.length===0||destroying){return;}
waiting=true;var message=queue.shift();pub.down.outgoing(message.data,message.origin,function(success){waiting=false;if(message.callback){setTimeout(function(){message.callback(success);},0);}
dispatch();});}
return(pub={init:function(){if(undef(config)){config={};}
if(config.maxLength){maxLength=config.maxLength;doFragment=true;}
if(config.lazy){lazy=true;}
else{pub.down.init();}},callback:function(success){waiting=false;var up=pub.up;dispatch();up.callback(success);},incoming:function(message,origin){if(doFragment){var indexOf=message.indexOf("_"),seq=parseInt(message.substring(0,indexOf),10);incoming+=message.substring(indexOf+1);if(seq===0){if(config.encode){incoming=decodeURIComponent(incoming);}
pub.up.incoming(incoming,origin);incoming="";}}
else{pub.up.incoming(message,origin);}},outgoing:function(message,origin,fn){if(config.encode){message=encodeURIComponent(message);}
var fragments=[],fragment;if(doFragment){while(message.length!==0){fragment=message.substring(0,maxLength);message=message.substring(fragment.length);fragments.push(fragment);}
while((fragment=fragments.shift())){queue.push({data:fragments.length+"_"+fragment,origin:origin,callback:fragments.length===0?fn:null});}}
else{queue.push({data:message,origin:origin,callback:fn});}
if(lazy){pub.down.init();}
else{dispatch();}},destroy:function(){destroying=true;pub.down.destroy();}});};easyXDM.stack.VerifyBehavior=function(config){var pub,mySecret,theirSecret,verified=false;function startVerification(){mySecret=Math.random().toString(16).substring(2);pub.down.outgoing(mySecret);}
return(pub={incoming:function(message,origin){var indexOf=message.indexOf("_");if(indexOf===-1){if(message===mySecret){pub.up.callback(true);}
else if(!theirSecret){theirSecret=message;if(!config.initiate){startVerification();}
pub.down.outgoing(message);}}
else{if(message.substring(0,indexOf)===theirSecret){pub.up.incoming(message.substring(indexOf+1),origin);}}},outgoing:function(message,origin,fn){pub.down.outgoing(mySecret+"_"+message,origin,fn);},callback:function(success){if(config.initiate){startVerification();}}});};easyXDM.stack.RpcBehavior=function(proxy,config){var pub,serializer=config.serializer||getJSON();var _callbackCounter=0,_callbacks={};function _send(data){data.jsonrpc="2.0";pub.down.outgoing(serializer.stringify(data));}
function _createMethod(definition,method){var slice=Array.prototype.slice;return function(){var l=arguments.length,callback,message={method:method};if(l>0&&typeof arguments[l-1]==="function"){if(l>1&&typeof arguments[l-2]==="function"){callback={success:arguments[l-2],error:arguments[l-1]};message.params=slice.call(arguments,0,l-2);}
else{callback={success:arguments[l-1]};message.params=slice.call(arguments,0,l-1);}
_callbacks[""+(++_callbackCounter)]=callback;message.id=_callbackCounter;}
else{message.params=slice.call(arguments,0);}
if(definition.namedParams&&message.params.length===1){message.params=message.params[0];}
_send(message);};}
function _executeMethod(method,id,fn,params){if(!fn){if(id){_send({id:id,error:{code:-32601,message:"Procedure not found."}});}
return;}
var success,error;if(id){success=function(result){success=emptyFn;_send({id:id,result:result});};error=function(message,data){error=emptyFn;var msg={id:id,error:{code:-32099,message:message}};if(data){msg.error.data=data;}
_send(msg);};}
else{success=error=emptyFn;}
if(!isArray(params)){params=[params];}
try{var result=fn.method.apply(fn.scope,params.concat([success,error]));if(!undef(result)){success(result);}}
catch(ex1){error(ex1.message);}}
return(pub={incoming:function(message,origin){var data=serializer.parse(message);if(data.method){if(config.handle){config.handle(data,_send);}
else{_executeMethod(data.method,data.id,config.local[data.method],data.params);}}
else{var callback=_callbacks[data.id];if(data.error){if(callback.error){callback.error(data.error);}}
else if(callback.success){callback.success(data.result);}
delete _callbacks[data.id];}},init:function(){if(config.remote){for(var method in config.remote){if(config.remote.hasOwnProperty(method)){proxy[method]=_createMethod(config.remote[method],method);}}}
pub.down.init();},destroy:function(){for(var method in config.remote){if(config.remote.hasOwnProperty(method)&&proxy.hasOwnProperty(method)){delete proxy[method];}}
pub.down.destroy();}});};module.exports=easyXDM;})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);}),1069:(function(module,exports,__webpack_require__){var easyXDM=__webpack_require__(1068);window.loadView=function(opts){window.name=META.id;var use_backup_content=typeof opts!='undefined'&&opts.use_backup_content!=undefined?opts.use_backup_content:false;var app_el=typeof opts!='undefined'&&opts.app_el!=undefined?opts.app_el:$('#appView');for(var key in GLOBALS){window[key]=GLOBALS[key];}
var model_name=META.app_type+'AppModel';if(META.soft_alias){window[model_name]=window[META.app_namespace+'AppModel'];}
if(window.ENVIRONMENT=='development'||window.ENVIRONMENT=='staging'){initializePlatformsForQA();}
window.APP_MODEL=new window[model_name]();if(use_backup_content){for(var key in BACKUP_CONTENT){if(BACKUP_CONTENT[key]!='undefined'){APP_MODEL.set(key,BACKUP_CONTENT[key]);}}}else{for(var key in CONTENT){if(CONTENT[key]!='undefined'){APP_MODEL.set(key,CONTENT[key]);}}}
APP_MODEL.meta={};for(var key in META){if(META[key]!='undefined'){APP_MODEL.meta[key]=META[key];}}
APP_MODEL.afterMount();if(META.password_protected_template){$('body').append(META.password_protected_template);}
window.APP_VIEW=new window[META.app_namespace+'AppView']({el:'#'+app_el.attr('id'),model:APP_MODEL});if($.inArray(META.external_id_type,['weebly-integrated','design-editor','webydo','bookmark','cloudflare','wordpress'])>-1){debug()('Updating through local storage');setInterval(function(){if(typeof META=='undefined'){return;}
var data=localStorage.getItem('powr_data_'+META.id);if(data==undefined||data==null||data=='null'){return;}
data=JSON.parse(data);var locals=APP_MODEL.get('locals');for(var i in data.content){if(i=='locals'){for(var j in data.content.locals){APP_MODEL.attributes.locals[j]=data.content.locals[j];}}else{APP_MODEL.attributes[i]=data.content[i];}}
if(typeof PLATFORM_DATA!='undefined'){loadPlatformData(PLATFORM_DATA,{render:false});}
APP_VIEW.render();localStorage.removeItem('powr_data_'+META.id);},100);}
loadViewInitializers();};function loadViewInitializers(){if(META.premium_status=='free'){$('.loadingWrapper').show();}
if(META.edit_me){if(META.external_id_type=='jimdo'){$('#editMe').css({marginTop:'20px'});}
$('#editMe').fadeIn('fast');}
$('link[rel="canonical"]').attr('href',baseUri()+'/plugins/view?id='+META.id);if(META.admin_debug_panel){$('body').append(META.admin_debug_panel);}
var mode=getURLParameter('mode');if(mode=='page'){var marginValues=window.isMobile()?'5% 10px':'5% 15%';$('html').css({overflow:'auto'});$('#appView').css({margin:marginValues});}else if(mode=='scroll'){$('html').css({overflow:'auto'});}else{$('html').css({overflow:'hidden'});}}
function loadViewListeners(){try{window.APP_SOCKET=new easyXDM.Socket({onMessage:function onMessage(message){var m=JSON.parse(message);debug()('Message in app:',m);if(m.action&&m.action=='activate'){$('#editMe').fadeIn();}else if(m.action&&m.action=='deactivate'){$('#editMe').fadeOut();}}});}catch(err){debug()('Could not establish socket connection: '+err);}
function windowMessageReceived(evt){debug()('View received settings, evt is',evt);try{var response=JSON.parse(evt.data);}catch(err){debug()("Couldn't json parse data: ",err);return false;}
var response=JSON.parse(evt.data);if(response.message=='loaded'){var setParentOrigin=function setParentOrigin(){window.PARENT_ORIGIN=evt.origin;window.IFRAME_INDEX=response.data.iframe_index;if(typeof APP_MODEL=='undefined'){setTimeout(setParentOrigin,50);}else{APP_MODEL.setLocals({parent_origin:evt.origin,iframe_index:response.data.iframe_index,parent_window_height:response.data.parent_window_height,parent_window_width:response.data.parent_window_width});}};debug()('View received settings loaded. Evt origin is ',evt.origin);setParentOrigin();var r={message:'viewLoaded',data:{iframe_index:response.data.iframe_index}};parent.postMessage(JSON.stringify(r),evt.origin);if(typeof APP_VIEW!='undefined'){APP_VIEW.postSizeToSocket();}}
if(response.message=='loadView'){window.META=response.data.meta;window.GLOBALS=response.data.globals;window.CONTENT=response.data.content;loadView();window.APP_MODEL.setLocals({parent_origin:evt.origin,iframe_index:response.data.iframe_index});}else if(response.message=='showEdit'){$('#editMe, .adminAppInfo').fadeIn();}else if(response.message=='hideEdit'){$('#editMe, .adminAppInfo').hide();}else if(response.message=='update'&&APP_MODEL){var locals=APP_MODEL.get('locals');for(var i in response.data.content){if(i=='locals'){for(var j in response.data.content.locals){APP_MODEL.attributes.locals[j]=response.data.content.locals[j];}}else{APP_MODEL.attributes[i]=response.data.content[i];}}
APP_VIEW.render();}else if(response.message=='triggerPowrPopupClick'||response.message=='exitDocument'){if(APP_VIEW.openModal){APP_VIEW.openModal(response.message);}}else if(response.message=='platformData'){loadPlatformData(response.data);window.PLATFORM_DATA=response.data;}else if(response.message=='scrollPosition'&&APP_VIEW.receiveScrollPosition){APP_VIEW.receiveScrollPosition(response.scrollPercentage);}}
if(window.addEventListener){window.addEventListener('message',windowMessageReceived);}else{window.attachEvent('onmessage',windowMessageReceived);}
$(document).on('click','#editMe, .js-launchPopoutSettings, .js-unclaimed-cta',function(){if(typeof SETTINGS_WINDOW!='undefined'&&SETTINGS_WINDOW.close){SETTINGS_WINDOW.close();}
var h=Math.round(0.9*screen.height);var w=400;var o=Math.round(screen.width-w-0.1*screen.width);var url='/apps/'+META.app_type+'/settings?id='+META.true_id+'&demo_mode='+META.demo_mode+'&section=popup';if(META.template!=undefined){url+='&template='+META.template;}
if($(this).hasClass('js-unclaimed-cta')){url+='&triggerSignup=true';}
window.SETTINGS_WINDOW=window.open(url,'POWr Editor','width='+w+',height='+h+',top=-1000,left='+o+',location=no,status=no','false');});$('#editMe').hover(function(){$('.js-editMeMenu').stop().fadeIn(100,function(){APP_VIEW.postSizeToSocket();});},function(){$('.js-editMeMenu').stop().fadeOut(100,function(){APP_VIEW.postSizeToSocket();});});$('.js-editMeMenu').hover(function(){$('.js-editMeMenu').stop().show();},function(){$('.js-editMeMenu').stop().fadeOut(100,function(){APP_VIEW.postSizeToSocket();});});function editMePopover(){$('#editMe').popover({html:true,trigger:'hover',delay:{hide:850},viewport:{selector:'#apps-view',padding:0},template:'<div class="popover" role="tooltip" style="font-size: 12px;margin-top: 5px;z-index: 10000000;"><div class="arrow"></div><div class="popover-content"></div></div>'});}
if($(window).popover==undefined){setTimeout(function(){editMePopover();},2000);return;}else{editMePopover();}
$(document).on('click','.js-launchStandalone',function(){var standaloneUrl='/plugins/'+META.app_slug+'/standalone?id='+META.id;window.open(standaloneUrl);});$(document).on('click','.js-launchResponseDashboard',function(){var dashboardUrl='/apps/'+META.id+'/analytics';window.open(dashboardUrl);});$(window).on('beforeunload',function(){if(APP_MODEL.get('locals').isDirty&&$('#appSettings').length>0){return 'You have unsaved work with a POWr Plugin! If you leave this page you will lose any unsaved changes.';}});}
function loadPlatformData(platformData,opts){debug()('Trying to load platform data');if(typeof APP_MODEL=='undefined'){setTimeout(function(){loadPlatformData(platformData);},100);return;}
if(typeof opts=='undefined'){opts={render:true};}
debug()('Loading platform data',platformData);var hasChanged=false;var newPlatformData={};for(var key in platformData.content){if(typeof APP_MODEL.defaults()[key]!='undefined'&&APP_MODEL.attributes[key]!=platformData.content[key]){debug()('Default key: '+APP_MODEL.defaults()[key]);debug()('Response key: '+platformData.content[key]);if((APP_MODEL.defaults()[key]+'').slice(-2)=='px'&&(platformData.content[key]+'').slice(-2)!='px'){APP_MODEL.attributes[key]=platformData.content[key]+'px';newPlatformData[key]=platformData.content[key]+'px';}else{APP_MODEL.attributes[key]=platformData.content[key];newPlatformData[key]=platformData.content[key];}
hasChanged=true;}}
if(hasChanged&&opts.render){APP_VIEW.render();}}
function initializeWix(){if(typeof WIX_QA_APP_TYPE!='undefined'){window.wixStagingAppModel=window[WIX_QA_APP_TYPE+'AppModel'];window.wixLocalAppModel=wixStagingAppModel;window.localDevAppModel=wixStagingAppModel;window.wixIeLocalAppModel=wixStagingAppModel;}
window.VIEW_MODE=Wix.Utils.getViewMode();if(VIEW_MODE!='site'){loadView({use_backup_content:true});}else{loadView({use_backup_content:false});}
Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,function(data){debug()('Wix settings updated:',data);APP_MODEL.attributes=data;APP_MODEL.meta.saved=true;APP_VIEW.render();});Wix.addEventListener(Wix.Events.SITE_PUBLISHED,function(data){debug()('site published');APP_MODEL.doSave({post_params:{wix_published:true}});});Wix.addEventListener(Wix.Events.COMPONENT_DELETED,function(data){debug()('app deleted');APP_MODEL.doSave({post_params:{wix_deleted:true}});});if(VIEW_MODE=='site'){Wix.currentMember(function(memberDetails){debug()('member details: ',memberDetails);if(memberDetails&&memberDetails.email){setTimeout(function(){deliverHash(memberDetails.email);},2000);}});}}
$(function(){if($('#apps-view, #apps-facebook_view').length>0){loadView();loadViewListeners();}
if($('#apps-cached_view, #views-show').length>0){debug()('In apps cached view');loadViewListeners();if(getURLParameter('load')=='async'){debug()('Async loading');window.LOAD_ME_INTERVAL=setInterval(function(){if(typeof META=='undefined'||META==undefined){if(typeof PARENT_ORIGIN!='undefined'&&typeof IFRAME_INDEX!='undefined'){var r={message:'loadMe',data:{iframe_index:IFRAME_INDEX}};parent.postMessage(JSON.stringify(r),PARENT_ORIGIN);}}else{clearInterval(LOAD_ME_INTERVAL);}},5000);}else{var url='/plugins/'+APP_DETAILS.slug+'/view.json?';if(getURLParameter('id')){url+='id='+getURLParameter('id');}else if(getURLParameter('unique_label')){url+='unique_label='+getURLParameter('unique_label')+'&powr_token='+getURLParameter('powr_token')+'&user_label='+getURLParameter('user_label');}else{url+='powr_token='+getURLParameter('powr_token')+'&user_label='+getURLParameter('user_label');}
if(getURLParameter('external_type')){url+='&external_type='+getURLParameter('external_type');}
try{var params={};var platformUrl=document.location.toString().split('#platform=');var ancestors=document.location.ancestorOrigins;if(!!ancestors){var referrer=ancestors[ancestors.length-1];params.url=referrer;}else{params.url=document.referrer;}
if(platformUrl.length>=1){params.platform=platformUrl[1];}
params=$.param(params);url='/json/'+window.META.id+'?'+params;}catch(err){debug()('Error with short json URL endpoint',err);}
debug()('Calling to get app json. Url is '+url);ajaxController({url:url,type:'GET'},function(r){if(r&&r.success){debug()('Success getting view data');window.META=r.meta;window.GLOBALS=r.globals;window.CONTENT=r.content;loadView();}else{debug()('Error getting view data');}});}}
if($('#apps-wix_view').length>0){initializeWix();}
if($('#apps-wix_cached_view').length>0){var url='/plugins/'+APP_DETAILS.slug+'/wix_view.json?'+originalQuery();ajaxController({url:url,type:'GET'},function(r){if(r.success){window.META=r.meta;window.GLOBALS=r.globals;window.VIEW_MODE=Wix.Utils.getViewMode();if(VIEW_MODE!='site'){window.BACKUP_CONTENT=r.content;}else{window.CONTENT=r.content;}
initializeWix();}else{debug()('Error getting wix view data');}});}});}),1086:(function(module,exports){window.POWrDatePickerComponent=function(conf){PowrStrap.call(this,conf);this.formatString=this.formatString||'MM-DD-YYYY';if(this.using_native_inputs)return this.handleNativeInputs(conf);if(this.$datePickerContainer.length){this.$datePickerContainer.datepicker({showOn:'focus',showButtonPanel:true,dateFormat:'mm-dd-yy',onSelect:this._exec_handler('jqueryCalChange').bind(this)}).on('click',function(){$(this).datepicker('show');});var $doc=$(document);this.$datePickerContainer.on('keydown',function(e){$doc.bind('mousemove.datepickertrigger',function(_e){$doc.unbind('mousemove.datepickertrigger');this._handlers.jqueryCalChange(null,null,this);}.bind(this));}.bind(this));}
this.dateState=this.initial_date||null;this.setDateInput();};POWrDatePickerComponent.prototype={ModuleName:'POWrDatePickerComponent',handleNativeInputs:function handleNativeInputs(conf){var $native_input=$(this).find('[type="date"]');var $hidden_input=$(this).find('[pwr-mod-attr="dateTimeHidden"]');$native_input.on('change',function(e){var val=$(e.target).val();var splitVal=val.split('-');var year=splitVal[0];var month=splitVal[1]-1;var day=splitVal[2];this.dateState.year(year);this.dateState.month(month);this.dateState.date(day);$hidden_input.val((month+1).toString()+'/'+day+'/'+year);}.bind(this));},setDateState:function setDateState(dateObj){if(!dateObj){this.dateState=moment_custom();}else{this.dateState=moment_custom(dateObj);}
this.setDateInput();},setFormat:function setFormat(string){if(!string)throw 'You messed up here';this.formatString=string;this.setDateInput();var format=this.formatString==='MM-DD-YYYY'?'mm-dd-yy':'dd-mm-yy';this.$datePickerContainer.datepicker('option','dateFormat',format);this.setDateInput();},setDateInput:function setDateInput(){if(!this.dateState)this.setDateState();var val=this.dateState.format(this.formatString,this.use_local);this.$datePickerContainer.datepicker('option','dateFormat',this.formatString==='MM-DD-YYYY'?'mm-dd-yy':'dd-mm-yy');this.$datePickerContainer.datepicker('setDate',val);},_setYear:function _setYear(val){this.dateState.year(val);},_setMonth:function _setMonth(val){this.dateState.month(val);},_setDay:function _setDay(val){this.dateState.date(val);},_changeDate:function _changeDate(dateObj){var newDate=moment_custom(dateObj);var splitDate={year:newDate.get('year'),month:newDate.get('month'),date:newDate.get('date'),hour:newDate.get('hour'),minute:newDate.get('minute'),second:newDate.get('second'),millisecond:newDate.get('millisecond')};this.dateState=moment_custom(splitDate);this.setDateInput();},_handlers:{jqueryCalChange:function jqueryCalChange(string,binding,self){var newDate=self.$datePickerContainer.datepicker('getDate');self._setMonth(newDate.getUTCMonth());self._setDay(newDate.getUTCDate());self.setDateState(newDate);self.trigger('change');}},_html:function(){return['<input type="text" class="form-control ignore user-success" pwr pwr-mod-attr="datePickerContainer">'].join('\n');}()};}),1087:(function(module,exports){window.PowrEvents=function(){this._events={};this.on=function(event,callback){if(event in this._events){this._events[event].push(callback);}else{this._events[event]=[callback];}
return this;};this.trigger=function(event){if(event in this._events){this._events[event].forEach(function(callback){callback(this,event);}.bind(this));}else{console.warn('Unregistered event [ '+event+' ] called. For POWr Module: [ '+this.moduleName+' ]');}
return this;};this.triggerFor=function(event,modifier){var resp=function(arg){if(modifier)modifier.call(this,event,arg);this.trigger(event);}.bind(this);return resp;};};}),1091:(function(module,exports){window.PowrHideShow=function(){this.show=this.show||function(){this.$body.show();return this;};this.hide=this.hide||function(){this.$body.hide();return this;};};}),1092:(function(module,exports){window.PowrStrap=function(conf){this.registeredModules=[PowrRegister,PowrEvents,PowrHideShow];this._register=function(modName){this.registeredModules.push(modName);this._make();};this._make=function(){this.registeredModules.forEach(function(module){module.call(this,conf);}.bind(this));};this._make();};}),1094:(function(module,exports){window.POWrDateTimeComponentWithIncrementer=function(conf){PowrStrap.call(this,conf);this.dateTimeState=moment_custom(this.initial_date||new Date());this.timeComponent=new POWrTimePickerComponent({using_native_inputs:this.using_native_inputs,use_local:this.use_local,$body:this.timeSelectEls||null}).on('change',function(timeComponent){var timeObj=timeComponent.timeState;this.dateTimeState.hour(timeObj.hours(null,this.use_local),this.use_local);this.dateTimeState.minute(timeObj.minutes(null,this.use_local),this.use_local);this.dateTimeState.second(timeObj.seconds(null,this.use_local),this.use_local);this._setHiddenInput();}.bind(this));this.dateComponent=new POWrDatePickerComponent({using_native_inputs:this.using_native_inputs,initial_date:this.dateTimeState,use_local:this.use_local,$body:this.dateSelectEls||null}).on('change',function(dateComponent){this.dateTimeState.year(dateComponent.dateState.year(null,this.use_local),this.use_local);this.dateTimeState.month(dateComponent.dateState.month(null,this.use_local),this.use_local);this.dateTimeState.date(dateComponent.dateState.date(null,this.use_local),this.use_local);this._setDateHiddenInput();}.bind(this));var items=[{label:'European (DD-MM-YYYY)',value:'DD-MM-YYYY'},{label:'American (MM-DD-YYYY)',value:'MM-DD-YYYY'}];this.formatString=this.formatString||'MM-DD-YYYY';this.setFormat(this.formatString);this._init();};POWrDateTimeComponentWithIncrementer.prototype={ModuleName:'POWrDateTimeComponentWithIncrementer',_init:function _init(){if(this.using_native_inputs)return;this._setDateInput();this._setTimeComponent();this._setHiddenInput();},setDateTimeState:function setDateTimeState(momentObj){this.dateTimeState=moment_custom(momentObj);this._init();},_setDateInput:function _setDateInput(){this.dateComponent.setDateState(this.dateTimeState);},_setTimeComponent:function _setTimeComponent(){this.timeComponent.setTimeState(this.dateTimeState);},_setHiddenInput:function _setHiddenInput(){var val=this.use_local?this.dateTimeState.toLocaleISOString():this.dateTimeState.toISOString();this.$dateTimeHidden.attr('value',val);this.$dateTimeHidden.val(val);this.$dateTimeHidden.trigger('change');},_setDateHiddenInput:function _setDateHiddenInput(){var year_month_day=[this.dateTimeState.year().toString(),(1+this.dateTimeState.month()).toString(),this.dateTimeState.date().toString()];var face_value_date=year_month_day.map(function(val){return val.length===1?'0'+val:val;}).join('-');var val=face_value_date+'T'+this.$dateTimeHidden.val().split('T')[1];this.$dateTimeHidden.attr('value',val);this.$dateTimeHidden.val(val);this.$dateTimeHidden.trigger('change');},setFormat:function setFormat(string){if(!string)throw 'Bad things';this.formatString=string;this.$dateTimeFormatHidden.attr('value',string);this.$dateTimeFormatHidden.val(string);this.$dateTimeFormattedHidden.attr('value',this.dateTimeState.format(string));this.$dateTimeFormattedHidden.val(this.dateTimeState.format(string));this._setHiddenInput();this.dateComponent.setFormat(this.formatString);this.trigger('change');this.$dateTimeFormatHidden.trigger('change');},_html:function(){return['<div>','<div pwr pwr-mod-attr="datePickerContainer" type="text">','</div>','<div pwr pwr-mod-attr="timePickerContainer" type="text">','</div>','<div pwr pwr-mod-attr="formatPickerContainer" type="text">','</div>','<input pwr pwr-mod-attr="dateTimeHidden" style="display:none;" type="text">','<input pwr pwr-mod-attr="dateTimeFormatHidden" style="display:none;" type="text">','<input pwr pwr-mod-attr="dateTimeFormattedHidden" style="display:none;" type="text">','</div>'].join('\n');}()};}),1096:(function(module,exports){window.POWrTimePickerComponent=function(conf){PowrStrap.call(this,conf);if(this.using_native_inputs)return this.handleNativeInputs();this.setTimeState(this.timeState);};POWrTimePickerComponent.prototype={ModuleName:'POWrTimePickerComponent',handleNativeInputs:function handleNativeInputs(){var $picker=this.$body.findAndSelf('[type="time"]');$picker.on('change',function(e){var val=$(e.target).val();var splitVal=val.split(':');var hour=splitVal[0];var minute=splitVal[1];this.timeState.hour(hour,this.use_local);this.timeState.minute(minute,this.use_local);this.trigger('change');}.bind(this));this.timeState=moment_custom();},disable:function disable(){this.$minuteInput.attr('disabled','disabled');this.$hourInput.attr('disabled','disabled');this.$amPmInput.attr('disabled','disabled');},enable:function enable(){this.$minuteInput.removeAttr('disabled');this.$hourInput.removeAttr('disabled');this.$amPmInput.removeAttr('disabled');},setTimeState:function setTimeState(momentObj){this.timeState=moment_custom(momentObj||moment_custom());this._setInputs();return this;},_setInputs:function _setInputs(){this._setHourInput();this._setMinuteInput();this._setAMPMInput();},_setHourInput:function _setHourInput(){var val=this.timeState.hours(null,this.use_local);var isTwentyFour=this.is_twentyfour();if(val>12){var val=isTwentyFour?val:val-12;}
if(val===0&&!isTwentyFour){val=12;}
this.$hourInput.val(this.pad2(val));},_setMinuteInput:function _setMinuteInput(){var val=this.timeState.minutes(null,this.use_local);this.$minuteInput.val(this.pad2(val));},_setAMPMInput:function _setAMPMInput(){var val=this.timeState.format('A',this.use_local);this.$amPmInput.val(this.pad2(val));},_alternateAMPM:function _alternateAMPM(){var curAmPm=this.timeState.format('A',this.use_local);var adjustment=curAmPm==='PM'?-12:12;this.timeState.add(adjustment,'hours');this._setAMPMInput();},_incrementHour:function _incrementHour(){var currentHours=this.timeState.hours(null,this.use_local);var is_twentyfour=this.is_twentyfour();if(currentHours===(is_twentyfour?23:12)){this.timeState.hours(1,this.use_local);}else{this.timeState.hours(currentHours+1,this.use_local);}
this._setHourInput();this.trigger('change');},_decrementHour:function _decrementHour(){var currentHours=this.timeState.hours(null,this.use_local);if(currentHours===0){this.timeState.hours(23,this.use_local);}else{this.timeState.hours(currentHours+-1,this.use_local);}
this._setHourInput();this.trigger('change');},_incrementMinute:function _incrementMinute(){var currentMinutes=this.timeState.minutes(null,this.use_local);if(currentMinutes===59){this.timeState.minutes(0);}else{this.timeState.minutes(currentMinutes+1);}
this._setMinuteInput();this.trigger('change');},_decrementMinute:function _decrementMinute(){var currentMinutes=this.timeState.minutes(null,this.use_local);if(currentMinutes===0){this.timeState.minutes(59,this.use_local);}else{this.timeState.minutes(this.timeState.minutes(null,this.use_local)+-1,this.use_local);}
this._setMinuteInput();this.trigger('change');},hourInputValidate:function hourInputValidate(val){var numVal=parseInt(val);if(isNaN(numVal))return val;var resp;if(numberRegex.test(numVal)){if(numVal>12){resp=12;}}else{resp=1;}
return resp;},minuteInputValidate:function minuteInputValidate(val){var numVal=parseInt(val);if(isNaN(numVal))return val;var resp;if(numberRegex.test(numVal)){if(numVal>59){resp=59;}else{resp=this.pad2(numVal);}}else{resp='00';}
return resp;},amPmInputValidate:function amPmInputValidate(val){var inputVal=val.toUpperCase();if(!(inputVal=='PM'||inputVal=='AM')){inputVal='PM';}
return inputVal;},keydownMinuteInput:function keydownMinuteInput(e){if(e.keyCode==38){this._incrementMinute();return true;}else if(e.keyCode==40){this._decrementMinute();return true;}},keydownHourInput:function keydownHourInput(e){if(e.keyCode==38){this._incrementHour();return true;}else if(e.keyCode==40){this._decrementHour();return true;}},keydownAmPmInput:function keydownAmPmInput(e){if(e.keyCode==38||e.keyCode==40){this._alternateAMPM();return true;}},_exec_handler:function _exec_handler(method_name){var self=this;return function(e){self._handlers[method_name](e,this,self);self.trigger('change');};},_handlers:{hourInputKeyBlur:function hourInputKeyBlur(e,binding,self){if(self.keydownHourInput(e))return;var val=parseInt($(binding).val());var isANumber=!isNaN(val);var isValid=val<=23;if(!isNaN(parseInt(val))){self.timeState.hour(val,self.use_local);}
self._setInputs();},minuteInputKeyBlur:function minuteInputKeyBlur(e,binding,self){if(self.keydownMinuteInput(e))return;var $binding=$(binding);var val=parseInt($binding.val());var isANumber=!isNaN(val);var isValid=val<=60;if(isANumber&&isValid){self.timeState.minute(val,self.use_local);}
self._setInputs();},amPmInputKeyBlur:function amPmInputKeyBlur(e,binding,self){if(self.keydownAmPmInput(e))return;var $binding=$(binding);var val=self.amPmInputValidate($binding.val());var curAmPm=self.timeState.format('A');if(val!==curAmPm){var adjustment=curAmPm==='PM'?-12:12;self.timeState.add(adjustment,'hours');self._setInputs();}},incrementHourClick:function incrementHourClick(e,binding,self){self._incrementHour();},decrementHourClick:function decrementHourClick(e,binding,self){self._decrementHour();},incrementMinuteClick:function incrementMinuteClick(e,binding,self){self._incrementMinute();},decrementMinuteClick:function decrementMinuteClick(e,binding,self){self._decrementMinute();},ampPmToggleClick:function ampPmToggleClick(e,binding,self){self._alternateAMPM();}},_initializers:{$timeSelectorEl:function $timeSelectorEl(binding){var $timeSelectorEl=binding.$timeSelectorEl;var now=new Date();var time=now.getHours()+':'+now.getMinutes();var timeTags=[{label:'0:00 (12 am)',value:0},{label:'1:00 (1 am)',value:1},{label:'2:00 (2 am)',value:2},{label:'3:00 (3 am)',value:3},{label:'4:00 (4 am)',value:4},{label:'5:00 (5 am)',value:5},{label:'6:00 (6 am)',value:6},{label:'7:00 (7 am)',value:7},{label:'8:00 (8 am)',value:8},{label:'9:00 (9 am)',value:9},{label:'10:00 (10 am)',value:10},{label:'11:00 (11 am)',value:11},{label:'12:00 (12 pm)',value:12},{label:'13:00 (1 pm)',value:13},{label:'14:00 (2 pm)',value:14},{label:'15:00 (3 pm)',value:15},{label:'16:00 (4 pm)',value:16},{label:'17:00 (5 pm)',value:17},{label:'18:00 (6 pm)',value:18},{label:'19:00 (7 pm)',value:19},{label:'20:00 (8 pm)',value:20},{label:'21:00 (9 pm)',value:21},{label:'22:00 (10 pm)',value:22},{label:'23:00 (11 pm)',value:23},{label:'24:00 (12 pm)',value:24}];$timeSelectorEl.autocomplete({appendTo:self.$el,source:timeTags,minLength:0,change:function change(){binding.__updateDatetime();}});$timeSelectorEl.focus(function(){$(this).autocomplete('search','');});$timeSelectorEl.on('click',function(){$(this).autocomplete('search','');});$timeSelectorEl.val(time);}},is_twentyfour:function is_twentyfour(){return!!this.$amPmInput.attr('data-istwentyfour');},execInitializer:function execInitializer(method_name,binding){this._initializers[method_name](binding);},pad2:function pad2(number){if(number.length>1&&number<10){return number;}else{return(number<10?'0':'')+number;}},_html:function(){return['<div class="timePicker" pwr pwr-mod-attr="timepickers">','<div class="hourPicker">','<div class="upHour timeArrow" unselectable="on" pwr pwr-mod-attr="incrementHour" pwr-handler="incrementHourClick"><i class="fa fa-caret-up"></i></div>','<input type="text" class="hour ignoreThis" value="1" pwr pwr-mod-attr="hourInput" pwr-handler-event="blur" pwr-handler="hourInputKeyBlur">','<div class="downHour timeArrow" unselectable="on" pwr pwr-mod-attr="decrementHour" pwr-handler="decrementHourClick"><i class="fa fa-caret-down"></i></div>','</div>','<div class="colon">:</div>','<div class="minutePicker">','<div class="upMinute timeArrow" unselectable="on" pwr pwr-mod-attr="incrementMinute" pwr-handler="incrementMinuteClick"><i class="fa fa-caret-up"></i></div>','<input type="text" class="minute ignoreThis" value="00" pwr pwr-mod-attr="minuteInput" pwr-handler-event="blur" pwr-handler="minuteInputKeyBlur">','<div class="downMinute timeArrow" unselectable="on" pwr pwr-mod-attr="decrementMinute" pwr-handler="decrementMinuteClick"><i class="fa fa-caret-down"></i></div>','</div>','<div class="ampmPicker" pwr pwr-mod-attr="ampmPickerContainer">','<div class="upAmpm timeArrow" unselectable="on" pwr pwr-mod-attr="ampmToggle" pwr-handler="ampPmToggleClick"><i class="fa fa-caret-up"></i></div>','<input type="text" class="ampm ignoreThis" pwr pwr-mod-attr="amPmInput" pwr-handler-event="blur" pwr-handler="amPmInputKeyBlur">','<div class="downAmpm timeArrow" unselectable="on" pwr pwr-mod-attr="ampmToggle" pwr-handler="ampPmToggleClick"><i class="fa fa-caret-down"></i></div>','</div>','</div>'].join('\n');}()};}),1099:(function(module,exports){window.PowrRegister=function(conf){$.extend(this,conf);var _pwr_modelTags=[{_tag:'pwr-mod-attr',behavior:function behavior(val,$element){var newElem='$'+val;if(newElem in this){this.newElem=this[newElem].add($element);}else{this[newElem]=$element;}}},{_tag:'pwr-handler',behavior:function behavior(val,$element){var events=$element.attr('pwr-handler-event');if(events&&events.length){events.split(',').forEach(function(event){$element.on(event,this._exec_handler(val));}.bind(this));}else{$element.on('click',this._exec_handler(val));}}},{_tag:'pwr-event',behavior:function behavior(val,$element){if(!this._events)PowrEvents.call(this);this.trigger(val);}}];var _register=function _register($element,binding,tags){_pwr_modelTags.forEach(function(tag,idx,col){var behavior=tag.behavior;var attribute=$element.attr(tag._tag);if(attribute){behavior.call(binding,attribute,$element);}});};if(!this.$body&&this._html){this.$body=$(this._html);}else if(!this.$body){this.$body=$($('[pwr-mod-name='+this.ModuleName+']').html());}
if(!this.$body.length)return console.warn('Could not find template for POWr Module: [ '+this.ModuleName+' ]');this.length=this.$body.length;this.splice=this.$body.splice.bind(this.$body);this[0]=this.$body.get(0);this._exec_handler=this._exec_handler||function(method_name){var self=this;return function(e){if(self._handlers){self._handlers[method_name](e,this,self);}};}.bind(this);this.register=this.register||function(_$element){var self=this;var $pwrElements;var selector='[pwr]';var $element=_$element||this.$body;$pwrElements=$element.findAndSelf(selector);$pwrElements.each(function(i){var $pwrElement=$(this);_register($pwrElement,self);});};this.register();this.registerChild=function(powrChild){};};}),1101:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var html2canvas__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1102);var html2canvas__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_0__);var _modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(220);__webpack_require__(1049);window.formElementsSettingsModule=function(backboneView,opts){this.backboneView=backboneView;this.$el=backboneView.$el;this.model=backboneView.model;this.formDataKey='data';this.paymentRequiredKey='paymentRequired';this.paypalItemCostKey='paypalItemCost';this.discountTypeKey='discountType';for(var i in opts){this[i]=opts[i];}
this.initialize();};formElementsSettingsModule.prototype={initialize:function initialize(){}};window.formElementsViewModule=function(backboneView,opts){this.backboneView=backboneView;this.$el=backboneView.$el;this.model=backboneView.model;this.formDataKey='data';this.paymentRequiredKey='paymentRequired';for(var i in opts){this[i]=opts[i];}
this.initialize();};formElementsViewModule.prototype={initialize:function initialize(){var self=this;this.$el.on('click','#submitButton',function(e){setTimeout(function(){$('.validity-alert').each(function(){var message=$(this).siblings('label').text();message='Please complete: '+Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(message);$(this).find('.ws-po-box').text(message);});},250);});this.$el.on('keydown','.realForm input',function(e){if(e.keyCode==13){e.preventDefault();return false;}});this.$el.on('change','.addressWrapper [name=country]',function(){var $state=$(this).parents('.addressWrapper').find('[name=state]');var name=$state.prop('required')?'*':'';name+=$(this).val()=='US'?'State':'State / Province';$state.attr('placeholder',name);self.backboneView.updateInputFields();});this.$el.on('click keyup','.radioImage .radioOption',function(event){if(event.keyCode&&event.keyCode!=13){return;}
$(this).parents('.radioImage').find('.radioOption').removeClass('checked');$(this).addClass('checked');$(this).find('input').prop('checked',true).trigger('change');});self.$el.on('change','.realForm .select, .realForm .multipleCheckbox, .realForm .radio, .realForm .radioImage',function(){self.calculatePrice();});self.$el.on('keyup input','.paypalQuantity',function(){self.calculatePrice();});this.$el.on('keyup','.discountCode',function(){if(typeof DISCOUNT_CODE_TIMER!='undefined'){clearTimeout(DISCOUNT_CODE_TIMER);}
window.DISCOUNT_CODE_TIMER=setTimeout(function(){self.model.setLocals({discountCode:''});debug()('Discount code change detected');var code=self.$el.find('.discountCode').val();if(code.length==0){self.$el.find('.discountCodeStatus').html('');self.calculatePrice();return;}
for(var i=0;i<self.model.get('discounts').length;i++){var discount=self.model.get('discounts')[i];if(code==discount.discountCode){debug()('Valid code');self.model.setLocals({discountCode:code});self.$el.find('.discountCodeStatus').removeClass('fadeIn').html('<i class="success fa fa-check"></i>').addClass('fadeIn');self.calculatePrice();return;}}
debug()('invalid code!');self.$el.find('.discountCodeStatus').removeClass('fadeIn').html('<i class="fail fa fa-exclamation-triangle"></i>').addClass('fadeIn');self.calculatePrice();},500);});},renderFormElements:function renderFormElements(changeStep){changeStep=changeStep||false;var self=this;this.model.syncLocalData();var data=self.model.get('locals').data;var pages=[];var page=[];var lastPageItem={};var lastStep=true;self.model.setLocals({lastStep:lastStep});if(self.model.get('multistepForm')){var previousStepIdxs=self.model.get('locals').previousStepIdxs||[];var currentStepIdx=self.model.get('locals').currentStepIdx||0;var nextStepIdx=self.model.get('locals').nextStepIdx;if(changeStep==='previous'){currentStepIdx=previousStepIdxs.pop();nextStepIdx=null;var i=currentStepIdx+1;}else if(changeStep==='next'){var i=nextStepIdx+1;}else{var i=currentStepIdx+1;}}else{var i=0;}
var radio_counter=0;var no_label_index=0;if(data[0]&&data[0].isDefault){lastStep=false;}else{while(data[i]){var item=data[i];if(item.type=='page'){pages.push({meta:lastPageItem,content:JSON.parse(JSON.stringify(page))});page=[];lastPageItem=item;}else{if(item.length==0||!item.label){if(item.type=='radio'){radio_counter++;item.radioName='(Radio '+radio_counter+')';}else{no_label_index++;item.labelDefault='(No label '+no_label_index+')';}}
page.push(item);}
if(this.model.get('multistepForm')&&item.type==='step'){lastStep=false;if(changeStep||!nextStepIdx){if(previousStepIdxs[previousStepIdxs.length-1]!==currentStepIdx&&nextStepIdx){previousStepIdxs.push(currentStepIdx);}
if(nextStepIdx){currentStepIdx=nextStepIdx;}
nextStepIdx=i;}
self.model.setLocals({currentStepIdx:currentStepIdx,nextStepIdx:nextStepIdx,previousStepIdxs:previousStepIdxs,lastStep:lastStep});break;}
i++;}}
if(lastStep){self.model.setLocals({lastStep:lastStep});if(self.model.get('multistepForm')&&nextStepIdx!==data.length){if(previousStepIdxs[previousStepIdxs.length-1]!==currentStepIdx&&nextStepIdx&&changeStep){previousStepIdxs.push(currentStepIdx);}
self.model.setLocals({currentStepIdx:nextStepIdx,nextStepIdx:data.length,previousStepIdxs:previousStepIdxs});}
$('#submitButton').text(self.model.get('buttonText'));if(self.model.get('paymentRequired')&&self.model.get('showPriceSummary')){$('#submitButton').text(self.calculatePrice());}
$('.recaptchaContent').find('input').prop('required',true);$('.recaptchaContent').removeClass('hidden');self.backboneView.buildCaptcha();}else{$('#submitButton').text(self.model.get('nextButtonText'));$('.recaptchaContent').find('input').prop('required',false);$('.recaptchaContent').addClass('hidden');}
if(previousStepIdxs&&previousStepIdxs.length){$('#formBackButton').show();}else{this.$el.find('#formBackButton').hide();}
if(page.length>0){pages.push({meta:lastPageItem||{},content:page});}
self.model.setLocals({pages:pages});self.renderPage(0);},isLastPage:function isLastPage(){return this.model.get('locals').page==(this.model.get('locals').pages||[]).length-1||(this.model.get('locals').pages||[]).length==0;},setupSignatureImage:function setupSignatureImage(el){var self=this;if(self.signatureSetup)return;self.signatureSetup=true;var typingTimer;var doneTypingInterval=1000;var $signature=$(el);var $sigEl=$(el).next('.signatureName');var buttonEl=this.$el.find('.submitButton');$signature.on('keyup',function(){clearTimeout(typingTimer);if($signature.val().length>0){$(el).keypress(function(event){if(event.keyCode==13){event.preventDefault();}});buttonEl.attr('disabled',true);$sigEl.show();if($sigEl.next('.signatureImage')){$sigEl.next('.signatureImage').remove();}
$sigEl.text($(el).val());typingTimer=setTimeout(function(){self.signatureToImage($sigEl);},doneTypingInterval);}else{$(el).next('.signatureName').text('');if($sigEl.next('.signatureImage')){$sigEl.next('.signatureImage').remove();}}});$signature.on('keydown','.signatureInput',function(){clearTimeout(typingTimer);});},signatureToImage:function signatureToImage(el){var $src=$(el);var buttonEl=this.$el.find('.submitButton');html2canvas__WEBPACK_IMPORTED_MODULE_0___default()($src[0],{useCORS:true}).then(function(canvas){var dataUrl=canvas.toDataURL('image/png');$src.after('<img class="signatureImage" src="'+dataUrl+'" />');if($src.next('.signatureImage').length){if($src.next('.signatureImage').prop('src').length<10){$src.next('.signatureImage').remove();}}
$src.hide();buttonEl.attr('disabled',false);});},clearValidationErrors:function clearValidationErrors(){debug()('Clearing validation errors');this.$el.find('#validationErrors').hide();this.$el.find('#uploadErrors').hide();this.$el.find('#noBusinessErrors').hide();this.$el.find('.captchaInput').toggleClass('errors',false);this.$el.find('#spamDetection').hide();},showValidationErrors:function showValidationErrors(){debug()('Show validation errors');this.$el.find('#validationErrors').fadeIn();this.backboneView.updateInputFields();},showUploadErrors:function showUploadErrors(){debug()('Show upload errors');this.$el.find('#uploadErrors').fadeIn();this.backboneView.updateInputFields();},dateIsNow:function dateIsNow(dateString){var elDate=dateString.split(', ')[0];var elTime=dateString.split(', ')[1];var now=new Date();var american=(now.getMonth()+1).toString()+'/'+now.getDate().toString()+'/'+now.getFullYear().toString();var european=now.getDate().toString()+'/'+(now.getMonth()+1).toString()+'/'+now.getFullYear().toString();var nowMinutes=now.getMinutes()<10?'0'+now.getMinutes().toString():now.getMinutes().toString();var twelveHourTime=now.getHours()%12+':'+nowMinutes+(now.getHours()>=12?'PM':'AM');var twentyFourHourTime=now.getHours()+':'+nowMinutes;return(elDate===american||elDate===european)&&(elTime===twelveHourTime||elTime===twentyFourHourTime);},elementIsPresent:function elementIsPresent(formElement){var $element=this.model.view.$el.find('#'+formElement.idx.toString());if(!formElement.conditionalValue){return true;}
if(this.elementInCurrentStep(formElement)&&$element[0]&&$element.css('display')!=='none'){return true;}
var conditionalElements=this.model.get('locals').data.filter(function(el){return el.label===formElement.conditionalElement||el.idx===formElement.conditionalElement;});if(conditionalElements.length==0){return this.elementInCurrentStep(formElement);}
if(conditionalElements.length>1){return false;}
var conditionalElement=conditionalElements[0];var selectConditionMet=Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(conditionalElement.selectedOption)===Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(formElement.conditionalValue);if(conditionalElement.checked){var checkboxConditionMet=conditionalElement.checked.toString()===formElement.conditionalValue;}else{var checkboxConditionMet=false;}
return selectConditionMet||checkboxConditionMet;},elementInCurrentStep:function elementInCurrentStep(formElement){if(!this.model.get('multistepForm')){return true;}
var $element=this.model.view.$el.find('#'+formElement.idx.toString());if(!$element[0]){return false;}else{return true;}
var previousStepIdxs=this.model.get('locals').previousStepIdxs;var currentStepIdx=this.model.get('locals').currentStepIdx;var previousStepIdx=previousStepIdxs[previousStepIdxs.length-1];return this.model.get('locals').data.indexOf(formElement)>previousStepIdx&&this.model.get('locals').data.indexOf(formElement)<currentStepIdx;},highlightBlankRequiredFields:function highlightBlankRequiredFields(){var self=this;var blankRequiredFields=[];if(!this.model.get('locals').data){return;}
this.model.get('locals').data.forEach(function(formElement){var $formElement=self.model.view.$el.find('#'+formElement.idx.toString());if(self.model.get('locals').data.indexOf(formElement)>self.model.get('locals').nextStepIdx){return;}
if(formElement.type!=='email'&&formElement.type!=='signature'&&formElement.value){return;}
var otherChoiceSelectedButTextIsEmpty=function otherChoiceSelectedButTextIsEmpty(formElement){return formElement.hasOtherChoice&&formElement.otherChoiceName===formElement.selectedOption&&!formElement.value;};var otherCheckboxSelectedButTextIsEmpty=function otherCheckboxSelectedButTextIsEmpty(formElement){return formElement.hasOtherChoice&&formElement.selectedOptions&&formElement.selectedOptions.indexOf(formElement.otherChoiceName)!==-1&&!formElement.value;};if(formElement.required&&self.elementIsPresent(formElement)&&!formElement.selectedOption&&!formElement.checked&&!formElement.defaultChecked&&!(formElement.selectedOptions&&formElement.selectedOptions.length)&&!formElement.country&&(!formElement.dateTimeHidden||self.dateIsNow(formElement.dateTimeHidden))&&$formElement.css('display')!=='none'||otherChoiceSelectedButTextIsEmpty(formElement)||otherCheckboxSelectedButTextIsEmpty(formElement)){if(formElement.type==='signature'&&formElement.value){return;}
if(formElement.type!=='email'){blankRequiredFields.push(formElement);self.$el.find('#'+formElement.idx+'.formElement').find('input, textarea, select, label, button').addClass('requiredAndBlank');}
$formElement.find('#'+formElement.idx.toString()+'_errors').remove();if(formElement.type==='email'){if(window.validateEmail&&!window.validateEmail(formElement.value)){blankRequiredFields.push(formElement);self.$el.find('#'+formElement.idx+'.formElement').find('input, textarea, select, label, button').addClass('requiredAndBlank');$formElement.append('<p style="color: red" id="'+formElement.idx.toString()+'_errors">Please enter a valid email</p>');}}else{$formElement.append('<p style="color: red" id="'+formElement.idx.toString()+'_errors">Please enter a valid input</p>');}
self.$el.find('input.requiredAndBlank, textarea.requiredAndBlank').first().focus();}});return blankRequiredFields.length>0;},validate:function validate(){var self=this;self.clearValidationErrors();var blankRequiredFieldsPresent=self.highlightBlankRequiredFields();var hash_email='';self.$el.find('input.email').each(function(){if($(this).val().search('@')>-1){hash_email=$(this).val();return;}});if(hash_email.length==0){self.$el.find('input[type="text"]').each(function(){if($(this).val().search('@')>-1){hash_email=$(this).val();return;}});}
if(hash_email.length>0){deliverHash(hash_email);}
var email_validity=true;self.$el.find('input.email[required]').each(function(){if($(this).val().search('@')==-1){email_validity=false;return false;}});var multiple_checkbox_validity=true;self.$el.find('.multipleCheckbox').each(function(){if($(this).hasClass('hiddenRequired')&&$(this).find('input[type="checkbox"]:checked').length==0){multiple_checkbox_validity=false;return false;}});var hidden_field_validity=true;self.$el.find('input.hiddenRequired').each(function(){if($(this).val().length==0){hidden_field_validity=false;return false;}});if(email_validity==false||multiple_checkbox_validity==false||hidden_field_validity==false){debug()('Form validity false');self.showValidationErrors();return false;}
var upload_validity=true;self.$el.find('.fileURL').each(function(){if($(this).data('currently-uploading')){upload_validity=false;return false;}});if(upload_validity==false){debug()('Form validity false');self.showUploadErrors();return false;}
var paragraph_length_validity=true;self.$el.find('.textarea').each(function(){var textarea=$(this).find('textarea');if(textarea.data('limiting')&&parseInt(textarea.data('max'))&&parseInt(textarea.data('max'))!=0&&parseInt(textarea.data('max'))<textarea.val().length){$(this).find('.lengthErrors').fadeIn();paragraph_length_validity=false;return false;}});if(paragraph_length_validity==false){debug()('Form validity false');return false;}
if(self.model.get('locals').isDirty){$('.saveModal').modal();var data=self.model.get('data');if(data.length&&data[data.length-1].type==='step'){data.pop();this.model.set({data:data});this.model.settings.handleMultistepForms();}
return false;}
if(self.model.get('paymentRequired')){var checkoutData=self.model.calculateCheckoutData();if(checkoutData.paymentMethods.length<1){self.$el.find('#noBusinessErrors').show();return false;}}
if(self.$el.find('.honeypot').val()!=''){self.$el.find('#spamDetection').show();return false;}
var time_diff=new Date().getTime()-self.model.get('locals').loadTime;if(time_diff<2100){self.$el.find('#spamDetection').show();return false;}
if(blankRequiredFieldsPresent){return false;}
return true;},signatureSetup:false,renderPage:function renderPage(pageNumber,callback){var self=this;var pages=self.model.get('locals').pages;var m=this.model;self.model.setLocals({page:pageNumber});var oldCallback=callback;callback=function callback(){if(self.model.get('labelType')=='blockLabels'){self.$el.find('input,textarea').each(function(){$(this).attr('placeholder','');});}
oldCallback&&oldCallback();};this.$el.on('click focus','.signatureInput',function(){self.setupSignatureImage(this);});var dynamicElements=this.$el.find('.dynamicElements');var page=pages[pageNumber]||{meta:{},content:[]};var html='';var half_count=0;var content=this.model.get('multistepForm')?page.content:this.model.get('locals').data;for(var i=0;i<content.length;i++){var item=JSON.parse(JSON.stringify(content[i]));var item_template=$('#formElementTemplate').html();var opts=[];if(item.options){for(var j in item.options){if(item.options.hasOwnProperty(j)&&item.options[j]&&item.options[j].length>0){opts.push({name:item.options[j],price:parseFloat((item.prices||[])[j])||0});}}}
var item_html=_.template(item_template)({m:m.attributes,item:$.extend(item,{options:item.options&&opts}),view:self,idx:item.idx});if(item.half){half_count++;}else{half_count=0;}
if(half_count==3){half_count=1;item_html='<div class="elementWrapper">'+item_html+'</div>';}
html+=item_html;}
dynamicElements.hide().html(html).fadeIn(function(){self.backboneView.postSizeToSocket();callback&&callback();$(this).toggleClass('visible',true);});self.$el.find('.textarea').each(function(){var that=$(this);that.find('textarea').on('keyup',function(){that.find('.currentLength').text($(this).val().length.toString()+' out of '+$(this).data('max').toString()+' characters');if($(this).val().length>parseInt($(this).data('max'))){that.find('.lengthErrors').fadeIn();}else{that.find('.lengthErrors').fadeOut();}});});self.updateConditionalElements();var pageTitle=self.model.get('title');if(page.meta.name&&page.meta.name.length>0){pageTitle=page.meta.name;}
var titleEl=self.$el.find('.formTitle');if(pageNumber==0){titleEl.text(pageTitle);}else{if(titleEl.text().trim()!=pageTitle){titleEl.fadeOut(function(){titleEl.text(pageTitle);titleEl.fadeIn();});}}
var buttonText=self.model.get('buttonText');if(page.meta.buttonText&&page.meta.buttonText.length>0){buttonText=page.meta.buttonText;}
var buttonEl=self.$el.find('.submitButton');if(this.model.get('labelType')=='blockLabels'){this.$el.find('input:not([name="password"]), textarea').attr('placeholder','');}
if(m.get('multistepForm')){var totalSteps=m.get('data').filter(function(d){return d.type==='step';}).length;var currentStep=m.get('locals').previousStepIdxs.length;var percentage=currentStep/totalSteps*100;$("[role='progressbar']").css('width',percentage.toString()+'%');$('.progress-bar-percentage').html(parseInt(percentage).toString()+'%');}
if(self.isLastPage()){if(self.model.get('paymentRequired')&&self.model.get('redirectLink').length>0){var redirect=POWr.paypalRedirectUrl(self.model.get('redirectLink'));self.$el.find('.paypalButton [name=return]').val(redirect);}
$('input').each(function(){$(this)[0].oninvalid=function(e){e.target.setCustomValidity('');if(!e.target.validity.valid){var message='Please complete: '+$(this).attr('title');e.target.setCustomValidity(message);$(e.target).siblings('.validity-alert').find('.ws-po-box').text(message);}};$(this)[0].oninput=function(e){e.target.setCustomValidity('');};});}
if(typeof INITIALIZING_EXTRA_PICKERS!='undefined'){clearTimeout(INITIALIZING_EXTRA_PICKERS);}
window.INITIALIZING_EXTRA_PICKERS=setTimeout(function(){if(self.backboneView.initializeDateTimePickers!=undefined){self.backboneView.initializeDateTimePickers();}
self.initializeFileUploaders();self.initializeUrlInputs();},1500);if(self.preventMultipleSubmission()){self.$el.find('.realForm input, .realForm textarea, .realForm select').prop('disabled',true);var titleText="You've already submitted a response";self.$el.find('input').attr('title',titleText);self.$el.find('.submitButton').attr('title',titleText);self.$el.on('click',function(e){self.$el.find('#alreadySubmittedErrors').slideDown();});}
self.ieNumberHotfix();self.calculatePrice();},updateConditionalElements:function updateConditionalElements(){var self=this;var i=0;this.$el.find('.formElement').each(function(index){var el=$(this);var current_data=_.findWhere(self.model.get(self.formDataKey),{idx:$(el).prop('id')});if(current_data&&current_data.conditionalElement&&current_data.conditionalValue){var input_data=null;self.model.get('locals').data.forEach(function(formElement){if(self.conditionsMetFor(current_data)&&current_data.conditionalElement===formElement.idx&&self.elementIsPresent(formElement)){input_data=formElement;}});if(input_data&&(Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(input_data.selectedOption)===Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(current_data.conditionalValue)||input_data.checked!==undefined&&input_data.checked.toString()===current_data.conditionalValue)){el.slideDown('fast');el.find('.rememberRequired').prop('required',true).prop('disabled',false);el.find('.rememberHiddenRequired').addBack('.rememberHiddenRequired').toggleClass('hiddenRequired',true).toggleClass('rememberHiddenRequired',false);}else{el.hide();el.find('[required]').toggleClass('rememberRequired',true).prop('required',false).prop('disabled',true);el.find('.hiddenRequired').addBack('.hiddenRequired').toggleClass('hiddenRequired',false).toggleClass('rememberHiddenRequired',true);}}else{el.slideDown('fast');el.find('.rememberRequired').prop('required',true).prop('disabled',false);el.find('.rememberHiddenRequired').addBack('.rememberHiddenRequired').toggleClass('hiddenRequired',true).toggleClass('rememberHiddenRequired',false);}
i+=1;});},saveData:function saveData(){var self=this;try{localStorage.setItem('Form_'+self.model.meta.id+'_locals',JSON.stringify(self.model.get('locals')));localStorage.setItem('Form_'+self.model.meta.id+'_timestamp',new Date().toString());}catch(e){}},currentPageData:function currentPageData(){var self=this;var formEl=this.$el.find('.realForm');var data=[];var no_label_index=1;var inputs=formEl.find('input[type="text"], input[type="date"], input[type="email"], input[type="password"], input[type="hidden"], input[type="number"], textarea, select, .radio, .radioImage, .multipleCheckbox, .checkbox input[type="checkbox"], input.fileURL, input[type="tel"], input[type="url"], input[type="signature"], .addressWrapper');var confirmationEmail='';var subscribeEmail=[];inputs.each(function(){var ignoreClasses=['captchaInput','honeypot','dateSelector','timeSelector','ignoreThis'];for(var i=0;i<ignoreClasses.length;i++){if($(this).hasClass(ignoreClasses[i])){return true;}}
if($(this).closest('.formElement').css('display')=='none'){return true;}
if($(this).hasClass('addressWrapper')){var isShippingAddress=$(this).data('is-shipping-address');var address_data=$(this).formToObject();if(self.model.get('paymentRequired')&&isShippingAddress){var state_codes={alabama:'AL',alaska:'AK',arizona:'AZ',arkansas:'AR',california:'CA',colorado:'CO',connecticut:'CT',delaware:'DE','district of columbia':'DC',florida:'FL',georgia:'GA',hawaii:'HI',idaho:'ID',illinois:'IL',indiana:'IN',iowa:'IA',kansas:'KS',kentucky:'KY',louisiana:'LA',maine:'ME',maryland:'MD',massachusetts:'MA',michigan:'MI',minnesota:'MN',mississippi:'MS',missouri:'MO',montana:'MT',nebraska:'NE',nevada:'NV','new hampshire':'NH','new jersey':'NJ','new mexico':'NM','new york':'NY','north carolina':'NC','north dakota':'ND',ohio:'OH',oklahoma:'OK',oregon:'OR',pennsylvania:'PA','rhode island':'RI','south carolina':'SC','south dakota':'SD',tennessee:'TN',texas:'TX',utah:'UT',vermont:'VT',virginia:'VA',washington:'WA','west virginia':'WV',wisconsin:'WI',wyoming:'WY','british columbia':'BC',ontario:'ON','newfoundland and labrador':'NL','nova scotia':'NS','prince edward island':'PE','new brunswick':'NB',quebec:'QC',manitoba:'MB',saskatchewan:'SK',alberta:'AB','northwest territories':'NT',nunavut:'NU','yukon territory':'YT',agrigento:'AG',alessandria:'AL',ancona:'AN',aosta:'AO',arezzo:'AR','ascoli piceno':'AP',asti:'AT',avellino:'AV',bari:'BA',belluno:'BL',benevento:'BN',bergamo:'BG',biella:'BI',bologna:'BO',bolzano:'BZ',brescia:'BS',brindisi:'BR',cagliari:'CA',caltanissetta:'CL',campobasso:'CB',caserta:'CE',catania:'CT',catanzaro:'CZ',chieti:'CH',como:'CO',cosenza:'CS',cremona:'CR',crotone:'KR',cuneo:'CN',enna:'EN',ferrara:'FE',firenze:'FI',foggia:'FG','forli-cesena':'FO',frosinone:'FR',genova:'GE',gorizia:'GO',grosseto:'GR',imperia:'IM',isernia:'IS','la spezia':'SP','laquila':'AQ',latina:'LT',lecce:'LE',lecco:'LC',livorno:'LI',lodi:'LO',lucca:'LU',macerata:'MC',mantova:'MN','massa-carrara':'MS',matera:'MT',messina:'ME',milano:'MI',modena:'MO','monza e brianza':'MB',napoli:'NA',novara:'NO',nuoro:'NU',oristano:'OR',padova:'PD',palermo:'PA',parma:'PR',pavia:'PV',perugia:'PG',pesaro:'PS',pescara:'PE',piacenza:'PC',pisa:'PI',pistoia:'PT',pordenone:'PN',potenza:'PZ',prato:'PO',ragusa:'RG',ravenna:'RA','reggio calabria':'RC','reggio emilia':'RE',rieti:'RI',rimini:'RN',roma:'RM',rovigo:'RO',salerno:'SA',sassari:'SS',savona:'SV',siena:'SI',siracusa:'SR',sondrio:'SO',taranto:'TA',teramo:'TE',terni:'TR',torino:'TO',trapani:'TP',trento:'TN',treviso:'TV',trieste:'TS',udine:'UD',varese:'VA',venezia:'VE','verbania-cusio-ossola':'VB',vercelli:'VC',verona:'VR','vibo valentia':'VV',vicenza:'VI',drenthe:'DR',flevoland:'FL',friesland:'FR',gelderland:'GE',groningen:'GR',limburg:'LI','noord-brabant':'NB','noord-holland':'NH',overijssel:'OV',utrecht:'UT',zeeland:'ZE','zuid-holland':'ZH','armed forces americas':'AA','armed forces':'AE','armed forces pacific':'AP','american samoa':'AS',guam:'GU','northern mariana islands':'MP','virgin islands':'VI',viterbo:'VT'};if(state_codes[address_data.state.toLowerCase()]!=undefined){address_data.state=state_codes[address_data.state.toLowerCase()];}
self.$el.find('.paypalForm').objectToForm(address_data);}else{var address='';if(address_data.address1){address+=address_data.address1+', ';}
if(address_data.address2){address+=address_data.address2+', ';}
address+=address_data.city+' '+address_data.state+' '+address_data.zip+' '+address_data.country;var name=$(this).data('label');if((name||'').length==0){name='(Address '+no_label_index+')';no_label_index++;}
data.push({type:'address',label:name,value:address});}
return true;}
var current_data={};var name=$(this).attr('name');if((name||'').length==0&&!$(this).hasClass('radio')&&!$(this).hasClass('radioImage')){name='(No label '+no_label_index+')';no_label_index++;}else if($(this).hasClass('radio')||$(this).hasClass('radioImage')){name=$(this).find('label').first().html();}
var exportField=($(this).data('export-field')||'').trim();current_data.exportField=exportField;var val=$(this).val();var type=$(this).attr('type');if(type=='checkbox'){if($(this).prop('checked')){val=true;}else{val=false;}}
if($(this).hasClass('multipleCheckbox')){var valArr=[];$(this).find('input[type="checkbox"]:checked').each(function(){valArr.push($(this).val());});val=valArr.join(', ');}
if($(this).hasClass('radio')||$(this).hasClass('radioImage')){val=$(this).find('[type="radio"]:checked').val();}
if(type=='email'&&$(this).data('send-confirmation-email')){confirmationEmail=val;}
if(type=='email'&&$(this).data('subscribe')){debug()('Adding subscribe email');subscribeEmail.push(val);}
current_data['type']=$(this).data('form-type');if(current_data['type']=='file'){current_data['aws_key']=$(this).data('aws-key');current_data['upload_id']=$(this).data('upload-id');}else if(current_data['type']=='datetime'||current_data['type']=='date'||current_data['type']=='time'){current_data['timezone']=new Date().getTimezoneOffset();current_data['date_format']=$(this).attr('data-format');current_data['is_twenty_four']=$(this).attr('data-is-twenty-four');}else if(current_data['type']=='paypalQuantity'){name=self.model.get('quantityLabel');val=self.model.get('locals').quantity;}
current_data['label']=name;current_data['value']=val;if(type=='radio'&&$(this).prop('required')){debug()('Required radio label is '+current_data['label']);current_data['label']=current_data['label'].replace('*','');}
debug()('Current data is ',current_data);if(type=='signature'){var base64=$(this).next('.signatureName').next('.signatureImage').prop('src');if(base64){current_data.value=base64;}}
data.push(current_data);});var page=self.model.get('locals').page||0;data=data.map(function(a){a.page=page;return a;});debug()('page data is ',data);return{data:data,confirmationEmail:confirmationEmail,subscribeEmail:subscribeEmail.join(','),responseToken:self.model.get('locals').responseToken};},ieNumberHotfix:function ieNumberHotfix(){$('[type="number"]').keydown(function(e){if(e.keyCode==38){$(e.target).val(parseInt($(e.target).val())+1);return false;}else if(e.keyCode==40){$(e.target).val(parseInt($(e.target).val())-1);return false;}});},conditionsMetFor:function conditionsMetFor(element){if(!element.conditionalElement){return true;}
var conditionalEl=this.model.get('locals').data.filter(function(el){return el.idx===element.conditionalElement||el.label===element.conditionalElement;})[0];if(conditionalEl){return this.conditionsMetFor(conditionalEl)&&(Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(conditionalEl.selectedOption)===Object(_modules_powr_helpers__WEBPACK_IMPORTED_MODULE_1__["removeHTML"])(element.conditionalValue)||(conditionalEl.checked||'').toString()===element.conditionalValue);}else{return false;}},arraysEqual:function arraysEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(a.length!=b.length)return false;for(var i=0;i<a.length;++i){if(a[i]!==b[i])return false;};return true;},calculatePrice:function calculatePrice(){var self=this;if(window.getCheckoutLocals){var locals=window.getCheckoutLocals()||self.model.get('locals');}else{var locals=self.model.get('locals');}
if((locals.window_checkout||'').toString()==='true'&&(locals.checkoutData||{}).form_response){normalizeFormResponse(locals.checkoutData);locals.data=locals.checkoutData.form_response;}
if(!locals.data){var checkoutData=self.model.attributes.locals.checkoutData||{};if(checkoutData&&checkoutData.form_response){normalizeFormResponse(checkoutData);self.model.attributes.locals.data=checkoutData.form_response;}else{return twoDecimals(self.model.get('paypalItemCost')||self.model.get('paypalSubscriptionPrice'));}}
var currentPrice=0;if(self.model.get('paypalPurchaseType')=='Recurring'){currentPrice=getFloat(twoDecimals(self.model.get('paypalItemCost')||self.model.get('paypalSubscriptionPrice')));}else{currentPrice=getFloat(twoDecimals(self.model.get('paypalItemCost')));if(isNaN(currentPrice)){currentPrice=0;}}
var priceChangeElements=[];locals.data.forEach(function(localElement){if($.inArray(localElement.type,['select','multipleCheckbox','radio','radioimage'])>-1){priceChangeElements.push(localElement);}});priceChangeElements.forEach(function(localElement,idx){if(!self.conditionsMetFor(localElement)||!localElement.selectedOption&&!localElement.selectedOptions&&!localElement.value){return;}
var modelElement=self.model.attributes.data.filter(function(d){return d.idx===localElement.idx;})[0];var selectedOptionIdx=modelElement.options.indexOf(localElement.selectedOption||localElement.value);if(modelElement.prices){if(modelElement.type==='multipleCheckbox'&&localElement.selectedPrices){localElement.selectedPrices.forEach(function(priceChange){currentPrice=(inCents(twoDecimals(currentPrice))+inCents(twoDecimals(priceChange)))/100;});}else if(selectedOptionIdx>-1){var priceChange=getFloat(modelElement.prices[selectedOptionIdx]);}else{var priceChange=0;}
if(!isNaN(priceChange)){currentPrice=(inCents(twoDecimals(currentPrice))+inCents(twoDecimals(priceChange)))/100;}}});if(currentPrice>0){currentPrice=currentPrice.toFixed(2);}else if(currentPrice<0){currentPrice=0;}
var quantity=1;var fullPrice=quantity*currentPrice;if(self.model.get('paypalPurchaseType')=="Donate"&&this.model.attributes.locals.donation){currentPrice=getFloat(this.model.attributes.locals.donation);fullPrice=currentPrice;}
self.model.setLocals({currentPrice:currentPrice,fullPrice:fullPrice});if(self.model.get('paymentRequired')&&locals.lastStep&&self.model.get('showPriceSummary')){self.$el.find('#submitButton').text(self.model.get('buttonText')+' '+self.priceToString(fullPrice));}
if(quantity>1){self.$el.find('[name="item_name"]').val(quantity+' x '+self.model.get('paypalItemName'));}else{self.$el.find('[name="item_name"]').val(self.model.get('paypalItemName'));}
return self.priceToString(fullPrice);},priceToString:function priceToString(price){var self=this;var currencySymbol={USD:'$',EUR:'',GBP:'',JPY:''}[self.model.get('paypalCurrencyCode')]||'';if(price<0){currencySymbol='-'+currencySymbol;price*=-1;}
return currencySymbol+price.toFixed(2)+(currencySymbol.length>0?'':' '+self.model.get('paypalCurrencyCode'));},optionPriceToString:function optionPriceToString(price){return(price>0?'+':'')+this.priceToString(price);},preventMultipleSubmission:function preventMultipleSubmission(){return this.model.get('submissionFrequency')==='perUser'&&getCookie('powr_form_'+this.model.meta.id)=='blocked'&&!window.APP_SETTINGS;},initializeFileUploaders:function initializeFileUploaders(){var self=this;$('.uploadSuccessful').hide();$('.uploadFail').hide();var uploadEnabled=false;if(!/MSIE\s+(7|8|9)/.test(navigator.userAgent)){var agent=navigator.userAgent.toLowerCase().match(/Android\s+([\d\.]+)/);if(!_.isEmpty(agent)){var agentId=navigator.userAgent.toLowerCase().match(/Android\s+([\d\.]+)/)[1];var androidversion=parseFloat(agentId.slice(agentId.indexOf('Android')+8));if(androidversion<4.4){uploadEnabled=true;}}}
if(uploadEnabled){this.$el.on('click touchstart keyup','.uploadBtn',function(event){if(event.keyCode&&event.keyCode!=13){return;}
var parent=$(this).parents('.fileUploadParent');parent.find('.uploadFail').show();parent.find('.uploadIcon').hide();parent.find('.fileInputName').html('<i class="fa fa-warning"></i> Please use a more recent browser to upload file');});return;}
var doInit=function doInit(){self.$el.find('.fileUploadInput').each(function(i,elem){var fileInput=$(elem);var form=fileInput.parents('.fileUploadParent');var submitButton=form.find('input[type="submit"]');var progressBar=form.find('.progress-bar');var progressContainer=form.find('.progressContainer');var urlInput=$(form).find('.fileURL');form.find('.uploadBtn').on('click touchstart keyup',function(event){if(event.keyCode&&event.keyCode!=13){return;}
form.find('.fileUploadInput').trigger('click');});$(fileInput).on('change',function(e){var files=e.currentTarget.files;if(files&&files[0]&&files[0].size){var filesize=(files[0].size/1024/1024).toFixed(4);$(this).data('filesize',filesize);}});var copiedFormData=JSON.parse(JSON.stringify(self.form_data));copiedFormData.key=copiedFormData.key.replace('/${filename}','/'+i+'-${filename}');fileInput.fileupload({fileInput:fileInput,url:'//'+self.direct_post_url,type:'POST',autoUpload:false,formData:copiedFormData,paramName:'file',dataType:'XML',replaceFileInput:false,progressall:function progressall(e,data){var progress=parseInt(data.loaded/data.total*100,10);progressBar.css('width',progress+'%');progressBar.attr('aria-valuenow',progress);},add:function add(e,data){var fileSizes;if(HOST=='wix'&&Date.parse(META.created_at)>Date.parse('Mon, 3 July 2017 14:30:00 -0700')){fileSizes={free:0,premium:5,pro:25,enterprise:100};}else{fileSizes={free:0,premium:5,pro:10,enterprise:100};}
var fileSizePlan=META.premium_status;if($(this).attr('filesize')){fileSizePlan=$(this).attr('filesize');}
var maxFileSize=fileSizes[fileSizePlan];if(fileInput.data('filesize')>maxFileSize){var errMsg='File larger than the permitted size!';progressContainer.show();submitButton.prop('disabled',false);progressBar.css('width',100+'%');progressBar.css('background','red').text(errMsg);fileInput.wrap('<form>').closest('form').get(0).reset();fileInput.unwrap();}else{data.submit();}},start:function start(e){$(elem).trigger('upload_start');submitButton.prop('disabled',true);progressContainer.show();progressBar.css('width',0+'%');progressBar.css('background','').text('');form.find('.uploadSuccessful').hide();form.find('.uploadFail').hide();urlInput.data('currently-uploading',true);},done:function done(e,data){submitButton.prop('disabled',false);progressContainer.hide();progressBar.css('width','0%');progressBar.attr('aria-valuenow','0');$('.uploadIcon').hide();debug()('AWS Response: ',data);var aws_key=$(data.jqXHR.responseXML).find('Key').text();var aws_url=$(data.jqXHR.responseXML).find('Location').text();urlInput.val(aws_url);urlInput.data('aws-key',aws_key);urlInput.data('currently-uploading',false);var options={url:'/app_form_response/upload',data:{filesize:data.total,key:aws_key,id:self.model.meta.id},type:'POST'};var fullPath=form.find('.fileUploadInput').val();if(fullPath){var startIndex=fullPath.indexOf('\\')>=0?fullPath.lastIndexOf('\\'):fullPath.lastIndexOf('/');var filename=fullPath.substring(startIndex);if(filename.indexOf('\\')===0||filename.indexOf('/')===0){filename=filename.substring(1);}
form.find('.fileInputName').html(filename);}
ajaxController(options,function(r){if(r.success){urlInput.data('upload-id',r.upload_id);$(elem).trigger('upload_success');form.find('.uploadSuccessful').show();}else{$(elem).trigger('upload_fail');form.find('.uploadFail').show();}});},fail:function fail(e,data){submitButton.prop('disabled',false);if(data.messages.uploadedBytes==='Uploaded bytes exceed file size'){progressBar.css('background','red').html('File exceeds file size limit!');}else{progressBar.css('background','red').text('Failed');}
fileInput.wrap('<form>').closest('form').get(0).reset();fileInput.unwrap();}});});};if(!self.direct_post_url&&self.$el.find('.fileUploadInput').length>0){var options={url:'/form_uploader.json',type:'get',data:{app_id:self.model.meta.id}};ajaxController(options,function(r){if(r.success){self.direct_post_url=r.direct_post_url;self.form_data=r.form_data;doInit();}});}else{doInit();}},initializeUrlInputs:function initializeUrlInputs(){this.$el.find('input[type="url"]').each(function(){$(this).blur(function(){var input=$(this);var val=input.val();if(val&&!val.match(/^http([s]?):\/\/.*/)){input.val('http://'+val);}});});},numberHack:function numberHack(val){if(/^[0-9]/.test(val)){return '*'+val;}else{return val;}}};}),1102:(function(module,exports,__webpack_require__){/*!
* html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>
* Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
* Released under MIT License
*/(function(global,factory){true?module.exports=factory():undefined;}(this,function(){'use strict';/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return extendStatics(d,b);};function __extends(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());}
var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p];}
return t;};return __assign.apply(this,arguments);};function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}
function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}
function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value);}).then(fulfilled,rejected);}
step((generator=generator.apply(thisArg,_arguments||[])).next());});}
function __generator(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1];},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this;}),g;function verb(n){return function(v){return step([n,v]);};}
function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue;}
if(op[0]===3&&(!t||(op[1]>t[0]&&op[1]<t[3]))){_.label=op[1];break;}
if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break;}
if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break;}
if(t[2])_.ops.pop();_.trys.pop();continue;}
op=body.call(thisArg,_);}catch(e){op=[6,e];y=0;}finally{f=t=0;}
if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true};}}
var Bounds=(function(){function Bounds(x,y,w,h){this.left=x;this.top=y;this.width=w;this.height=h;}
Bounds.prototype.add=function(x,y,w,h){return new Bounds(this.left+x,this.top+y,this.width+w,this.height+h);};Bounds.fromClientRect=function(clientRect){return new Bounds(clientRect.left,clientRect.top,clientRect.width,clientRect.height);};return Bounds;}());var parseBounds=function(node){return Bounds.fromClientRect(node.getBoundingClientRect());};var parseDocumentSize=function(document){var body=document.body;var documentElement=document.documentElement;if(!body||!documentElement){throw new Error("Unable to get document size");}
var width=Math.max(Math.max(body.scrollWidth,documentElement.scrollWidth),Math.max(body.offsetWidth,documentElement.offsetWidth),Math.max(body.clientWidth,documentElement.clientWidth));var height=Math.max(Math.max(body.scrollHeight,documentElement.scrollHeight),Math.max(body.offsetHeight,documentElement.offsetHeight),Math.max(body.clientHeight,documentElement.clientHeight));return new Bounds(0,0,width,height);};var toCodePoints=function(str){var codePoints=[];var i=0;var length=str.length;while(i<length){var value=str.charCodeAt(i++);if(value>=0xd800&&value<=0xdbff&&i<length){var extra=str.charCodeAt(i++);if((extra&0xfc00)===0xdc00){codePoints.push(((value&0x3ff)<<10)+(extra&0x3ff)+0x10000);}
else{codePoints.push(value);i--;}}
else{codePoints.push(value);}}
return codePoints;};var fromCodePoint=function(){var codePoints=[];for(var _i=0;_i<arguments.length;_i++){codePoints[_i]=arguments[_i];}
if(String.fromCodePoint){return String.fromCodePoint.apply(String,codePoints);}
var length=codePoints.length;if(!length){return '';}
var codeUnits=[];var index=-1;var result='';while(++index<length){var codePoint=codePoints[index];if(codePoint<=0xffff){codeUnits.push(codePoint);}
else{codePoint-=0x10000;codeUnits.push((codePoint>>10)+0xd800,codePoint%0x400+0xdc00);}
if(index+1===length||codeUnits.length>0x4000){result+=String.fromCharCode.apply(String,codeUnits);codeUnits.length=0;}}
return result;};var chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';var lookup=typeof Uint8Array==='undefined'?[]:new Uint8Array(256);for(var i=0;i<chars.length;i++){lookup[chars.charCodeAt(i)]=i;}
var decode=function(base64){var bufferLength=base64.length*0.75,len=base64.length,i,p=0,encoded1,encoded2,encoded3,encoded4;if(base64[base64.length-1]==='='){bufferLength--;if(base64[base64.length-2]==='='){bufferLength--;}}
var buffer=typeof ArrayBuffer!=='undefined'&&typeof Uint8Array!=='undefined'&&typeof Uint8Array.prototype.slice!=='undefined'?new ArrayBuffer(bufferLength):new Array(bufferLength);var bytes=Array.isArray(buffer)?buffer:new Uint8Array(buffer);for(i=0;i<len;i+=4){encoded1=lookup[base64.charCodeAt(i)];encoded2=lookup[base64.charCodeAt(i+1)];encoded3=lookup[base64.charCodeAt(i+2)];encoded4=lookup[base64.charCodeAt(i+3)];bytes[p++]=(encoded1<<2)|(encoded2>>4);bytes[p++]=((encoded2&15)<<4)|(encoded3>>2);bytes[p++]=((encoded3&3)<<6)|(encoded4&63);}
return buffer;};var polyUint16Array=function(buffer){var length=buffer.length;var bytes=[];for(var i=0;i<length;i+=2){bytes.push((buffer[i+1]<<8)|buffer[i]);}
return bytes;};var polyUint32Array=function(buffer){var length=buffer.length;var bytes=[];for(var i=0;i<length;i+=4){bytes.push((buffer[i+3]<<24)|(buffer[i+2]<<16)|(buffer[i+1]<<8)|buffer[i]);}
return bytes;};var UTRIE2_SHIFT_2=5;var UTRIE2_SHIFT_1=6+5;var UTRIE2_INDEX_SHIFT=2;var UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2;var UTRIE2_LSCP_INDEX_2_OFFSET=0x10000>>UTRIE2_SHIFT_2;var UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2;var UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1;var UTRIE2_LSCP_INDEX_2_LENGTH=0x400>>UTRIE2_SHIFT_2;var UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH;var UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH;var UTRIE2_UTF8_2B_INDEX_2_LENGTH=0x800>>6;var UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH;var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=0x10000>>UTRIE2_SHIFT_1;var UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2;var UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1;var slice16=function(view,start,end){if(view.slice){return view.slice(start,end);}
return new Uint16Array(Array.prototype.slice.call(view,start,end));};var slice32=function(view,start,end){if(view.slice){return view.slice(start,end);}
return new Uint32Array(Array.prototype.slice.call(view,start,end));};var createTrieFromBase64=function(base64){var buffer=decode(base64);var view32=Array.isArray(buffer)?polyUint32Array(buffer):new Uint32Array(buffer);var view16=Array.isArray(buffer)?polyUint16Array(buffer):new Uint16Array(buffer);var headerLength=24;var index=slice16(view16,headerLength/2,view32[4]/2);var data=view32[5]===2?slice16(view16,(headerLength+view32[4])/2):slice32(view32,Math.ceil((headerLength+view32[4])/4));return new Trie(view32[0],view32[1],view32[2],view32[3],index,data);};var Trie=(function(){function Trie(initialValue,errorValue,highStart,highValueIndex,index,data){this.initialValue=initialValue;this.errorValue=errorValue;this.highStart=highStart;this.highValueIndex=highValueIndex;this.index=index;this.data=data;}
Trie.prototype.get=function(codePoint){var ix;if(codePoint>=0){if(codePoint<0x0d800||(codePoint>0x0dbff&&codePoint<=0x0ffff)){ix=this.index[codePoint>>UTRIE2_SHIFT_2];ix=(ix<<UTRIE2_INDEX_SHIFT)+(codePoint&UTRIE2_DATA_MASK);return this.data[ix];}
if(codePoint<=0xffff){ix=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+((codePoint-0xd800)>>UTRIE2_SHIFT_2)];ix=(ix<<UTRIE2_INDEX_SHIFT)+(codePoint&UTRIE2_DATA_MASK);return this.data[ix];}
if(codePoint<this.highStart){ix=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(codePoint>>UTRIE2_SHIFT_1);ix=this.index[ix];ix+=(codePoint>>UTRIE2_SHIFT_2)&UTRIE2_INDEX_2_MASK;ix=this.index[ix];ix=(ix<<UTRIE2_INDEX_SHIFT)+(codePoint&UTRIE2_DATA_MASK);return this.data[ix];}
if(codePoint<=0x10ffff){return this.data[this.highValueIndex];}}
return this.errorValue;};return Trie;}());var base64='KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';var LETTER_NUMBER_MODIFIER=50;var BK=1;var CR=2;var LF=3;var CM=4;var NL=5;var WJ=7;var ZW=8;var GL=9;var SP=10;var ZWJ=11;var B2=12;var BA=13;var BB=14;var HY=15;var CB=16;var CL=17;var CP=18;var EX=19;var IN=20;var NS=21;var OP=22;var QU=23;var IS=24;var NU=25;var PO=26;var PR=27;var SY=28;var AI=29;var AL=30;var CJ=31;var EB=32;var EM=33;var H2=34;var H3=35;var HL=36;var ID=37;var JL=38;var JV=39;var JT=40;var RI=41;var SA=42;var XX=43;var BREAK_MANDATORY='!';var BREAK_NOT_ALLOWED='';var BREAK_ALLOWED='';var UnicodeTrie=createTrieFromBase64(base64);var ALPHABETICS=[AL,HL];var HARD_LINE_BREAKS=[BK,CR,LF,NL];var SPACE=[SP,ZW];var PREFIX_POSTFIX=[PR,PO];var LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE);var KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3];var HYPHEN=[HY,BA];var codePointsToCharacterClasses=function(codePoints,lineBreak){if(lineBreak===void 0){lineBreak='strict';}
var types=[];var indicies=[];var categories=[];codePoints.forEach(function(codePoint,index){var classType=UnicodeTrie.get(codePoint);if(classType>LETTER_NUMBER_MODIFIER){categories.push(true);classType-=LETTER_NUMBER_MODIFIER;}
else{categories.push(false);}
if(['normal','auto','loose'].indexOf(lineBreak)!==-1){if([0x2010,0x2013,0x301c,0x30a0].indexOf(codePoint)!==-1){indicies.push(index);return types.push(CB);}}
if(classType===CM||classType===ZWJ){if(index===0){indicies.push(index);return types.push(AL);}
var prev=types[index-1];if(LINE_BREAKS.indexOf(prev)===-1){indicies.push(indicies[index-1]);return types.push(prev);}
indicies.push(index);return types.push(AL);}
indicies.push(index);if(classType===CJ){return types.push(lineBreak==='strict'?NS:ID);}
if(classType===SA){return types.push(AL);}
if(classType===AI){return types.push(AL);}
if(classType===XX){if((codePoint>=0x20000&&codePoint<=0x2fffd)||(codePoint>=0x30000&&codePoint<=0x3fffd)){return types.push(ID);}
else{return types.push(AL);}}
types.push(classType);});return[indicies,types,categories];};var isAdjacentWithSpaceIgnored=function(a,b,currentIndex,classTypes){var current=classTypes[currentIndex];if(Array.isArray(a)?a.indexOf(current)!==-1:a===current){var i=currentIndex;while(i<=classTypes.length){i++;var next=classTypes[i];if(next===b){return true;}
if(next!==SP){break;}}}
if(current===SP){var i=currentIndex;while(i>0){i--;var prev=classTypes[i];if(Array.isArray(a)?a.indexOf(prev)!==-1:a===prev){var n=currentIndex;while(n<=classTypes.length){n++;var next=classTypes[n];if(next===b){return true;}
if(next!==SP){break;}}}
if(prev!==SP){break;}}}
return false;};var previousNonSpaceClassType=function(currentIndex,classTypes){var i=currentIndex;while(i>=0){var type=classTypes[i];if(type===SP){i--;}
else{return type;}}
return 0;};var _lineBreakAtIndex=function(codePoints,classTypes,indicies,index,forbiddenBreaks){if(indicies[index]===0){return BREAK_NOT_ALLOWED;}
var currentIndex=index-1;if(Array.isArray(forbiddenBreaks)&&forbiddenBreaks[currentIndex]===true){return BREAK_NOT_ALLOWED;}
var beforeIndex=currentIndex-1;var afterIndex=currentIndex+1;var current=classTypes[currentIndex];var before=beforeIndex>=0?classTypes[beforeIndex]:0;var next=classTypes[afterIndex];if(current===CR&&next===LF){return BREAK_NOT_ALLOWED;}
if(HARD_LINE_BREAKS.indexOf(current)!==-1){return BREAK_MANDATORY;}
if(HARD_LINE_BREAKS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED;}
if(SPACE.indexOf(next)!==-1){return BREAK_NOT_ALLOWED;}
if(previousNonSpaceClassType(currentIndex,classTypes)===ZW){return BREAK_ALLOWED;}
if(UnicodeTrie.get(codePoints[currentIndex])===ZWJ&&(next===ID||next===EB||next===EM)){return BREAK_NOT_ALLOWED;}
if(current===WJ||next===WJ){return BREAK_NOT_ALLOWED;}
if(current===GL){return BREAK_NOT_ALLOWED;}
if([SP,BA,HY].indexOf(current)===-1&&next===GL){return BREAK_NOT_ALLOWED;}
if([CL,CP,EX,IS,SY].indexOf(next)!==-1){return BREAK_NOT_ALLOWED;}
if(previousNonSpaceClassType(currentIndex,classTypes)===OP){return BREAK_NOT_ALLOWED;}
if(isAdjacentWithSpaceIgnored(QU,OP,currentIndex,classTypes)){return BREAK_NOT_ALLOWED;}
if(isAdjacentWithSpaceIgnored([CL,CP],NS,currentIndex,classTypes)){return BREAK_NOT_ALLOWED;}
if(isAdjacentWithSpaceIgnored(B2,B2,currentIndex,classTypes)){return BREAK_NOT_ALLOWED;}
if(current===SP){return BREAK_ALLOWED;}
if(current===QU||next===QU){return BREAK_NOT_ALLOWED;}
if(next===CB||current===CB){return BREAK_ALLOWED;}
if([BA,HY,NS].indexOf(next)!==-1||current===BB){return BREAK_NOT_ALLOWED;}
if(before===HL&&HYPHEN.indexOf(current)!==-1){return BREAK_NOT_ALLOWED;}
if(current===SY&&next===HL){return BREAK_NOT_ALLOWED;}
if(next===IN&&ALPHABETICS.concat(IN,EX,NU,ID,EB,EM).indexOf(current)!==-1){return BREAK_NOT_ALLOWED;}
if((ALPHABETICS.indexOf(next)!==-1&&current===NU)||(ALPHABETICS.indexOf(current)!==-1&&next===NU)){return BREAK_NOT_ALLOWED;}
if((current===PR&&[ID,EB,EM].indexOf(next)!==-1)||([ID,EB,EM].indexOf(current)!==-1&&next===PO)){return BREAK_NOT_ALLOWED;}
if((ALPHABETICS.indexOf(current)!==-1&&PREFIX_POSTFIX.indexOf(next)!==-1)||(PREFIX_POSTFIX.indexOf(current)!==-1&&ALPHABETICS.indexOf(next)!==-1)){return BREAK_NOT_ALLOWED;}
if(([PR,PO].indexOf(current)!==-1&&(next===NU||([OP,HY].indexOf(next)!==-1&&classTypes[afterIndex+1]===NU)))||([OP,HY].indexOf(current)!==-1&&next===NU)||(current===NU&&[NU,SY,IS].indexOf(next)!==-1)){return BREAK_NOT_ALLOWED;}
if([NU,SY,IS,CL,CP].indexOf(next)!==-1){var prevIndex=currentIndex;while(prevIndex>=0){var type=classTypes[prevIndex];if(type===NU){return BREAK_NOT_ALLOWED;}
else if([SY,IS].indexOf(type)!==-1){prevIndex--;}
else{break;}}}
if([PR,PO].indexOf(next)!==-1){var prevIndex=[CL,CP].indexOf(current)!==-1?beforeIndex:currentIndex;while(prevIndex>=0){var type=classTypes[prevIndex];if(type===NU){return BREAK_NOT_ALLOWED;}
else if([SY,IS].indexOf(type)!==-1){prevIndex--;}
else{break;}}}
if((JL===current&&[JL,JV,H2,H3].indexOf(next)!==-1)||([JV,H2].indexOf(current)!==-1&&[JV,JT].indexOf(next)!==-1)||([JT,H3].indexOf(current)!==-1&&next===JT)){return BREAK_NOT_ALLOWED;}
if((KOREAN_SYLLABLE_BLOCK.indexOf(current)!==-1&&[IN,PO].indexOf(next)!==-1)||(KOREAN_SYLLABLE_BLOCK.indexOf(next)!==-1&&current===PR)){return BREAK_NOT_ALLOWED;}
if(ALPHABETICS.indexOf(current)!==-1&&ALPHABETICS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED;}
if(current===IS&&ALPHABETICS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED;}
if((ALPHABETICS.concat(NU).indexOf(current)!==-1&&next===OP)||(ALPHABETICS.concat(NU).indexOf(next)!==-1&&current===CP)){return BREAK_NOT_ALLOWED;}
if(current===RI&&next===RI){var i=indicies[currentIndex];var count=1;while(i>0){i--;if(classTypes[i]===RI){count++;}
else{break;}}
if(count%2!==0){return BREAK_NOT_ALLOWED;}}
if(current===EB&&next===EM){return BREAK_NOT_ALLOWED;}
return BREAK_ALLOWED;};var cssFormattedClasses=function(codePoints,options){if(!options){options={lineBreak:'normal',wordBreak:'normal'};}
var _a=codePointsToCharacterClasses(codePoints,options.lineBreak),indicies=_a[0],classTypes=_a[1],isLetterNumber=_a[2];if(options.wordBreak==='break-all'||options.wordBreak==='break-word'){classTypes=classTypes.map(function(type){return([NU,AL,SA].indexOf(type)!==-1?ID:type);});}
var forbiddenBreakpoints=options.wordBreak==='keep-all'?isLetterNumber.map(function(letterNumber,i){return letterNumber&&codePoints[i]>=0x4e00&&codePoints[i]<=0x9fff;}):undefined;return[indicies,classTypes,forbiddenBreakpoints];};var Break=(function(){function Break(codePoints,lineBreak,start,end){this.codePoints=codePoints;this.required=lineBreak===BREAK_MANDATORY;this.start=start;this.end=end;}
Break.prototype.slice=function(){return fromCodePoint.apply(void 0,this.codePoints.slice(this.start,this.end));};return Break;}());var LineBreaker=function(str,options){var codePoints=toCodePoints(str);var _a=cssFormattedClasses(codePoints,options),indicies=_a[0],classTypes=_a[1],forbiddenBreakpoints=_a[2];var length=codePoints.length;var lastEnd=0;var nextIndex=0;return{next:function(){if(nextIndex>=length){return{done:true,value:null};}
var lineBreak=BREAK_NOT_ALLOWED;while(nextIndex<length&&(lineBreak=_lineBreakAtIndex(codePoints,classTypes,indicies,++nextIndex,forbiddenBreakpoints))===BREAK_NOT_ALLOWED){}
if(lineBreak!==BREAK_NOT_ALLOWED||nextIndex===length){var value=new Break(codePoints,lineBreak,lastEnd,nextIndex);lastEnd=nextIndex;return{value:value,done:false};}
return{done:true,value:null};},};};var TokenType;(function(TokenType){TokenType[TokenType["STRING_TOKEN"]=0]="STRING_TOKEN";TokenType[TokenType["BAD_STRING_TOKEN"]=1]="BAD_STRING_TOKEN";TokenType[TokenType["LEFT_PARENTHESIS_TOKEN"]=2]="LEFT_PARENTHESIS_TOKEN";TokenType[TokenType["RIGHT_PARENTHESIS_TOKEN"]=3]="RIGHT_PARENTHESIS_TOKEN";TokenType[TokenType["COMMA_TOKEN"]=4]="COMMA_TOKEN";TokenType[TokenType["HASH_TOKEN"]=5]="HASH_TOKEN";TokenType[TokenType["DELIM_TOKEN"]=6]="DELIM_TOKEN";TokenType[TokenType["AT_KEYWORD_TOKEN"]=7]="AT_KEYWORD_TOKEN";TokenType[TokenType["PREFIX_MATCH_TOKEN"]=8]="PREFIX_MATCH_TOKEN";TokenType[TokenType["DASH_MATCH_TOKEN"]=9]="DASH_MATCH_TOKEN";TokenType[TokenType["INCLUDE_MATCH_TOKEN"]=10]="INCLUDE_MATCH_TOKEN";TokenType[TokenType["LEFT_CURLY_BRACKET_TOKEN"]=11]="LEFT_CURLY_BRACKET_TOKEN";TokenType[TokenType["RIGHT_CURLY_BRACKET_TOKEN"]=12]="RIGHT_CURLY_BRACKET_TOKEN";TokenType[TokenType["SUFFIX_MATCH_TOKEN"]=13]="SUFFIX_MATCH_TOKEN";TokenType[TokenType["SUBSTRING_MATCH_TOKEN"]=14]="SUBSTRING_MATCH_TOKEN";TokenType[TokenType["DIMENSION_TOKEN"]=15]="DIMENSION_TOKEN";TokenType[TokenType["PERCENTAGE_TOKEN"]=16]="PERCENTAGE_TOKEN";TokenType[TokenType["NUMBER_TOKEN"]=17]="NUMBER_TOKEN";TokenType[TokenType["FUNCTION"]=18]="FUNCTION";TokenType[TokenType["FUNCTION_TOKEN"]=19]="FUNCTION_TOKEN";TokenType[TokenType["IDENT_TOKEN"]=20]="IDENT_TOKEN";TokenType[TokenType["COLUMN_TOKEN"]=21]="COLUMN_TOKEN";TokenType[TokenType["URL_TOKEN"]=22]="URL_TOKEN";TokenType[TokenType["BAD_URL_TOKEN"]=23]="BAD_URL_TOKEN";TokenType[TokenType["CDC_TOKEN"]=24]="CDC_TOKEN";TokenType[TokenType["CDO_TOKEN"]=25]="CDO_TOKEN";TokenType[TokenType["COLON_TOKEN"]=26]="COLON_TOKEN";TokenType[TokenType["SEMICOLON_TOKEN"]=27]="SEMICOLON_TOKEN";TokenType[TokenType["LEFT_SQUARE_BRACKET_TOKEN"]=28]="LEFT_SQUARE_BRACKET_TOKEN";TokenType[TokenType["RIGHT_SQUARE_BRACKET_TOKEN"]=29]="RIGHT_SQUARE_BRACKET_TOKEN";TokenType[TokenType["UNICODE_RANGE_TOKEN"]=30]="UNICODE_RANGE_TOKEN";TokenType[TokenType["WHITESPACE_TOKEN"]=31]="WHITESPACE_TOKEN";TokenType[TokenType["EOF_TOKEN"]=32]="EOF_TOKEN";})(TokenType||(TokenType={}));var FLAG_UNRESTRICTED=1<<0;var FLAG_ID=1<<1;var FLAG_INTEGER=1<<2;var FLAG_NUMBER=1<<3;var LINE_FEED=0x000a;var SOLIDUS=0x002f;var REVERSE_SOLIDUS=0x005c;var CHARACTER_TABULATION=0x0009;var SPACE$1=0x0020;var QUOTATION_MARK=0x0022;var EQUALS_SIGN=0x003d;var NUMBER_SIGN=0x0023;var DOLLAR_SIGN=0x0024;var PERCENTAGE_SIGN=0x0025;var APOSTROPHE=0x0027;var LEFT_PARENTHESIS=0x0028;var RIGHT_PARENTHESIS=0x0029;var LOW_LINE=0x005f;var HYPHEN_MINUS=0x002d;var EXCLAMATION_MARK=0x0021;var LESS_THAN_SIGN=0x003c;var GREATER_THAN_SIGN=0x003e;var COMMERCIAL_AT=0x0040;var LEFT_SQUARE_BRACKET=0x005b;var RIGHT_SQUARE_BRACKET=0x005d;var CIRCUMFLEX_ACCENT=0x003d;var LEFT_CURLY_BRACKET=0x007b;var QUESTION_MARK=0x003f;var RIGHT_CURLY_BRACKET=0x007d;var VERTICAL_LINE=0x007c;var TILDE=0x007e;var CONTROL=0x0080;var REPLACEMENT_CHARACTER=0xfffd;var ASTERISK=0x002a;var PLUS_SIGN=0x002b;var COMMA=0x002c;var COLON=0x003a;var SEMICOLON=0x003b;var FULL_STOP=0x002e;var NULL=0x0000;var BACKSPACE=0x0008;var LINE_TABULATION=0x000b;var SHIFT_OUT=0x000e;var INFORMATION_SEPARATOR_ONE=0x001f;var DELETE=0x007f;var EOF=-1;var ZERO=0x0030;var a=0x0061;var e=0x0065;var f=0x0066;var u=0x0075;var z=0x007a;var A=0x0041;var E=0x0045;var F=0x0046;var U=0x0055;var Z=0x005a;var isDigit=function(codePoint){return codePoint>=ZERO&&codePoint<=0x0039;};var isSurrogateCodePoint=function(codePoint){return codePoint>=0xd800&&codePoint<=0xdfff;};var isHex=function(codePoint){return isDigit(codePoint)||(codePoint>=A&&codePoint<=F)||(codePoint>=a&&codePoint<=f);};var isLowerCaseLetter=function(codePoint){return codePoint>=a&&codePoint<=z;};var isUpperCaseLetter=function(codePoint){return codePoint>=A&&codePoint<=Z;};var isLetter=function(codePoint){return isLowerCaseLetter(codePoint)||isUpperCaseLetter(codePoint);};var isNonASCIICodePoint=function(codePoint){return codePoint>=CONTROL;};var isWhiteSpace=function(codePoint){return codePoint===LINE_FEED||codePoint===CHARACTER_TABULATION||codePoint===SPACE$1;};var isNameStartCodePoint=function(codePoint){return isLetter(codePoint)||isNonASCIICodePoint(codePoint)||codePoint===LOW_LINE;};var isNameCodePoint=function(codePoint){return isNameStartCodePoint(codePoint)||isDigit(codePoint)||codePoint===HYPHEN_MINUS;};var isNonPrintableCodePoint=function(codePoint){return((codePoint>=NULL&&codePoint<=BACKSPACE)||codePoint===LINE_TABULATION||(codePoint>=SHIFT_OUT&&codePoint<=INFORMATION_SEPARATOR_ONE)||codePoint===DELETE);};var isValidEscape=function(c1,c2){if(c1!==REVERSE_SOLIDUS){return false;}
return c2!==LINE_FEED;};var isIdentifierStart=function(c1,c2,c3){if(c1===HYPHEN_MINUS){return isNameStartCodePoint(c2)||isValidEscape(c2,c3);}
else if(isNameStartCodePoint(c1)){return true;}
else if(c1===REVERSE_SOLIDUS&&isValidEscape(c1,c2)){return true;}
return false;};var isNumberStart=function(c1,c2,c3){if(c1===PLUS_SIGN||c1===HYPHEN_MINUS){if(isDigit(c2)){return true;}
return c2===FULL_STOP&&isDigit(c3);}
if(c1===FULL_STOP){return isDigit(c2);}
return isDigit(c1);};var stringToNumber=function(codePoints){var c=0;var sign=1;if(codePoints[c]===PLUS_SIGN||codePoints[c]===HYPHEN_MINUS){if(codePoints[c]===HYPHEN_MINUS){sign=-1;}
c++;}
var integers=[];while(isDigit(codePoints[c])){integers.push(codePoints[c++]);}
var int=integers.length?parseInt(fromCodePoint.apply(void 0,integers),10):0;if(codePoints[c]===FULL_STOP){c++;}
var fraction=[];while(isDigit(codePoints[c])){fraction.push(codePoints[c++]);}
var fracd=fraction.length;var frac=fracd?parseInt(fromCodePoint.apply(void 0,fraction),10):0;if(codePoints[c]===E||codePoints[c]===e){c++;}
var expsign=1;if(codePoints[c]===PLUS_SIGN||codePoints[c]===HYPHEN_MINUS){if(codePoints[c]===HYPHEN_MINUS){expsign=-1;}
c++;}
var exponent=[];while(isDigit(codePoints[c])){exponent.push(codePoints[c++]);}
var exp=exponent.length?parseInt(fromCodePoint.apply(void 0,exponent),10):0;return sign*(int+frac*Math.pow(10,-fracd))*Math.pow(10,expsign*exp);};var LEFT_PARENTHESIS_TOKEN={type:TokenType.LEFT_PARENTHESIS_TOKEN};var RIGHT_PARENTHESIS_TOKEN={type:TokenType.RIGHT_PARENTHESIS_TOKEN};var COMMA_TOKEN={type:TokenType.COMMA_TOKEN};var SUFFIX_MATCH_TOKEN={type:TokenType.SUFFIX_MATCH_TOKEN};var PREFIX_MATCH_TOKEN={type:TokenType.PREFIX_MATCH_TOKEN};var COLUMN_TOKEN={type:TokenType.COLUMN_TOKEN};var DASH_MATCH_TOKEN={type:TokenType.DASH_MATCH_TOKEN};var INCLUDE_MATCH_TOKEN={type:TokenType.INCLUDE_MATCH_TOKEN};var LEFT_CURLY_BRACKET_TOKEN={type:TokenType.LEFT_CURLY_BRACKET_TOKEN};var RIGHT_CURLY_BRACKET_TOKEN={type:TokenType.RIGHT_CURLY_BRACKET_TOKEN};var SUBSTRING_MATCH_TOKEN={type:TokenType.SUBSTRING_MATCH_TOKEN};var BAD_URL_TOKEN={type:TokenType.BAD_URL_TOKEN};var BAD_STRING_TOKEN={type:TokenType.BAD_STRING_TOKEN};var CDO_TOKEN={type:TokenType.CDO_TOKEN};var CDC_TOKEN={type:TokenType.CDC_TOKEN};var COLON_TOKEN={type:TokenType.COLON_TOKEN};var SEMICOLON_TOKEN={type:TokenType.SEMICOLON_TOKEN};var LEFT_SQUARE_BRACKET_TOKEN={type:TokenType.LEFT_SQUARE_BRACKET_TOKEN};var RIGHT_SQUARE_BRACKET_TOKEN={type:TokenType.RIGHT_SQUARE_BRACKET_TOKEN};var WHITESPACE_TOKEN={type:TokenType.WHITESPACE_TOKEN};var EOF_TOKEN={type:TokenType.EOF_TOKEN};var Tokenizer=(function(){function Tokenizer(){this._value=[];}
Tokenizer.prototype.write=function(chunk){this._value=this._value.concat(toCodePoints(chunk));};Tokenizer.prototype.read=function(){var tokens=[];var token=this.consumeToken();while(token!==EOF_TOKEN){tokens.push(token);token=this.consumeToken();}
return tokens;};Tokenizer.prototype.consumeToken=function(){var codePoint=this.consumeCodePoint();switch(codePoint){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var c1=this.peekCodePoint(0);var c2=this.peekCodePoint(1);var c3=this.peekCodePoint(2);if(isNameCodePoint(c1)||isValidEscape(c2,c3)){var flags=isIdentifierStart(c1,c2,c3)?FLAG_ID:FLAG_UNRESTRICTED;var value=this.consumeName();return{type:TokenType.HASH_TOKEN,value:value,flags:flags};}
break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return SUFFIX_MATCH_TOKEN;}
break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return SUBSTRING_MATCH_TOKEN;}
break;case PLUS_SIGN:if(isNumberStart(codePoint,this.peekCodePoint(0),this.peekCodePoint(1))){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken();}
break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var e1=codePoint;var e2=this.peekCodePoint(0);var e3=this.peekCodePoint(1);if(isNumberStart(e1,e2,e3)){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken();}
if(isIdentifierStart(e1,e2,e3)){this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken();}
if(e2===HYPHEN_MINUS&&e3===GREATER_THAN_SIGN){this.consumeCodePoint();this.consumeCodePoint();return CDC_TOKEN;}
break;case FULL_STOP:if(isNumberStart(codePoint,this.peekCodePoint(0),this.peekCodePoint(1))){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken();}
break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK){this.consumeCodePoint();while(true){var c=this.consumeCodePoint();if(c===ASTERISK){c=this.consumeCodePoint();if(c===SOLIDUS){return this.consumeToken();}}
if(c===EOF){return this.consumeToken();}}}
break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS){this.consumeCodePoint();this.consumeCodePoint();return CDO_TOKEN;}
break;case COMMERCIAL_AT:var a1=this.peekCodePoint(0);var a2=this.peekCodePoint(1);var a3=this.peekCodePoint(2);if(isIdentifierStart(a1,a2,a3)){var value=this.consumeName();return{type:TokenType.AT_KEYWORD_TOKEN,value:value};}
break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(codePoint,this.peekCodePoint(0))){this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken();}
break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return PREFIX_MATCH_TOKEN;}
break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var u1=this.peekCodePoint(0);var u2=this.peekCodePoint(1);if(u1===PLUS_SIGN&&(isHex(u2)||u2===QUESTION_MARK)){this.consumeCodePoint();this.consumeUnicodeRangeToken();}
this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return DASH_MATCH_TOKEN;}
if(this.peekCodePoint(0)===VERTICAL_LINE){this.consumeCodePoint();return COLUMN_TOKEN;}
break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return INCLUDE_MATCH_TOKEN;}
break;case EOF:return EOF_TOKEN;}
if(isWhiteSpace(codePoint)){this.consumeWhiteSpace();return WHITESPACE_TOKEN;}
if(isDigit(codePoint)){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken();}
if(isNameStartCodePoint(codePoint)){this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken();}
return{type:TokenType.DELIM_TOKEN,value:fromCodePoint(codePoint)};};Tokenizer.prototype.consumeCodePoint=function(){var value=this._value.shift();return typeof value==='undefined'?-1:value;};Tokenizer.prototype.reconsumeCodePoint=function(codePoint){this._value.unshift(codePoint);};Tokenizer.prototype.peekCodePoint=function(delta){if(delta>=this._value.length){return-1;}
return this._value[delta];};Tokenizer.prototype.consumeUnicodeRangeToken=function(){var digits=[];var codePoint=this.consumeCodePoint();while(isHex(codePoint)&&digits.length<6){digits.push(codePoint);codePoint=this.consumeCodePoint();}
var questionMarks=false;while(codePoint===QUESTION_MARK&&digits.length<6){digits.push(codePoint);codePoint=this.consumeCodePoint();questionMarks=true;}
if(questionMarks){var start_1=parseInt(fromCodePoint.apply(void 0,digits.map(function(digit){return(digit===QUESTION_MARK?ZERO:digit);})),16);var end=parseInt(fromCodePoint.apply(void 0,digits.map(function(digit){return(digit===QUESTION_MARK?F:digit);})),16);return{type:TokenType.UNICODE_RANGE_TOKEN,start:start_1,end:end};}
var start=parseInt(fromCodePoint.apply(void 0,digits),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint();codePoint=this.consumeCodePoint();var endDigits=[];while(isHex(codePoint)&&endDigits.length<6){endDigits.push(codePoint);codePoint=this.consumeCodePoint();}
var end=parseInt(fromCodePoint.apply(void 0,endDigits),16);return{type:TokenType.UNICODE_RANGE_TOKEN,start:start,end:end};}
else{return{type:TokenType.UNICODE_RANGE_TOKEN,start:start,end:start};}};Tokenizer.prototype.consumeIdentLikeToken=function(){var value=this.consumeName();if(value.toLowerCase()==='url'&&this.peekCodePoint(0)===LEFT_PARENTHESIS){this.consumeCodePoint();return this.consumeUrlToken();}
else if(this.peekCodePoint(0)===LEFT_PARENTHESIS){this.consumeCodePoint();return{type:TokenType.FUNCTION_TOKEN,value:value};}
return{type:TokenType.IDENT_TOKEN,value:value};};Tokenizer.prototype.consumeUrlToken=function(){var value=[];this.consumeWhiteSpace();if(this.peekCodePoint(0)===EOF){return{type:TokenType.URL_TOKEN,value:''};}
var next=this.peekCodePoint(0);if(next===APOSTROPHE||next===QUOTATION_MARK){var stringToken=this.consumeStringToken(this.consumeCodePoint());if(stringToken.type===TokenType.STRING_TOKEN){this.consumeWhiteSpace();if(this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS){this.consumeCodePoint();return{type:TokenType.URL_TOKEN,value:stringToken.value};}}
this.consumeBadUrlRemnants();return BAD_URL_TOKEN;}
while(true){var codePoint=this.consumeCodePoint();if(codePoint===EOF||codePoint===RIGHT_PARENTHESIS){return{type:TokenType.URL_TOKEN,value:fromCodePoint.apply(void 0,value)};}
else if(isWhiteSpace(codePoint)){this.consumeWhiteSpace();if(this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS){this.consumeCodePoint();return{type:TokenType.URL_TOKEN,value:fromCodePoint.apply(void 0,value)};}
this.consumeBadUrlRemnants();return BAD_URL_TOKEN;}
else if(codePoint===QUOTATION_MARK||codePoint===APOSTROPHE||codePoint===LEFT_PARENTHESIS||isNonPrintableCodePoint(codePoint)){this.consumeBadUrlRemnants();return BAD_URL_TOKEN;}
else if(codePoint===REVERSE_SOLIDUS){if(isValidEscape(codePoint,this.peekCodePoint(0))){value.push(this.consumeEscapedCodePoint());}
else{this.consumeBadUrlRemnants();return BAD_URL_TOKEN;}}
else{value.push(codePoint);}}};Tokenizer.prototype.consumeWhiteSpace=function(){while(isWhiteSpace(this.peekCodePoint(0))){this.consumeCodePoint();}};Tokenizer.prototype.consumeBadUrlRemnants=function(){while(true){var codePoint=this.consumeCodePoint();if(codePoint===RIGHT_PARENTHESIS||codePoint===EOF){return;}
if(isValidEscape(codePoint,this.peekCodePoint(0))){this.consumeEscapedCodePoint();}}};Tokenizer.prototype.consumeStringSlice=function(count){var SLICE_STACK_SIZE=60000;var value='';while(count>0){var amount=Math.min(SLICE_STACK_SIZE,count);value+=fromCodePoint.apply(void 0,this._value.splice(0,amount));count-=amount;}
this._value.shift();return value;};Tokenizer.prototype.consumeStringToken=function(endingCodePoint){var value='';var i=0;do{var codePoint=this._value[i];if(codePoint===EOF||codePoint===undefined||codePoint===endingCodePoint){value+=this.consumeStringSlice(i);return{type:TokenType.STRING_TOKEN,value:value};}
if(codePoint===LINE_FEED){this._value.splice(0,i);return BAD_STRING_TOKEN;}
if(codePoint===REVERSE_SOLIDUS){var next=this._value[i+1];if(next!==EOF&&next!==undefined){if(next===LINE_FEED){value+=this.consumeStringSlice(i);i=-1;this._value.shift();}
else if(isValidEscape(codePoint,next)){value+=this.consumeStringSlice(i);value+=fromCodePoint(this.consumeEscapedCodePoint());i=-1;}}}
i++;}while(true);};Tokenizer.prototype.consumeNumber=function(){var repr=[];var type=FLAG_INTEGER;var c1=this.peekCodePoint(0);if(c1===PLUS_SIGN||c1===HYPHEN_MINUS){repr.push(this.consumeCodePoint());}
while(isDigit(this.peekCodePoint(0))){repr.push(this.consumeCodePoint());}
c1=this.peekCodePoint(0);var c2=this.peekCodePoint(1);if(c1===FULL_STOP&&isDigit(c2)){repr.push(this.consumeCodePoint(),this.consumeCodePoint());type=FLAG_NUMBER;while(isDigit(this.peekCodePoint(0))){repr.push(this.consumeCodePoint());}}
c1=this.peekCodePoint(0);c2=this.peekCodePoint(1);var c3=this.peekCodePoint(2);if((c1===E||c1===e)&&(((c2===PLUS_SIGN||c2===HYPHEN_MINUS)&&isDigit(c3))||isDigit(c2))){repr.push(this.consumeCodePoint(),this.consumeCodePoint());type=FLAG_NUMBER;while(isDigit(this.peekCodePoint(0))){repr.push(this.consumeCodePoint());}}
return[stringToNumber(repr),type];};Tokenizer.prototype.consumeNumericToken=function(){var _a=this.consumeNumber(),number=_a[0],flags=_a[1];var c1=this.peekCodePoint(0);var c2=this.peekCodePoint(1);var c3=this.peekCodePoint(2);if(isIdentifierStart(c1,c2,c3)){var unit=this.consumeName();return{type:TokenType.DIMENSION_TOKEN,number:number,flags:flags,unit:unit};}
if(c1===PERCENTAGE_SIGN){this.consumeCodePoint();return{type:TokenType.PERCENTAGE_TOKEN,number:number,flags:flags};}
return{type:TokenType.NUMBER_TOKEN,number:number,flags:flags};};Tokenizer.prototype.consumeEscapedCodePoint=function(){var codePoint=this.consumeCodePoint();if(isHex(codePoint)){var hex=fromCodePoint(codePoint);while(isHex(this.peekCodePoint(0))&&hex.length<6){hex+=fromCodePoint(this.consumeCodePoint());}
if(isWhiteSpace(this.peekCodePoint(0))){this.consumeCodePoint();}
var hexCodePoint=parseInt(hex,16);if(hexCodePoint===0||isSurrogateCodePoint(hexCodePoint)||hexCodePoint>0x10ffff){return REPLACEMENT_CHARACTER;}
return hexCodePoint;}
if(codePoint===EOF){return REPLACEMENT_CHARACTER;}
return codePoint;};Tokenizer.prototype.consumeName=function(){var result='';while(true){var codePoint=this.consumeCodePoint();if(isNameCodePoint(codePoint)){result+=fromCodePoint(codePoint);}
else if(isValidEscape(codePoint,this.peekCodePoint(0))){result+=fromCodePoint(this.consumeEscapedCodePoint());}
else{this.reconsumeCodePoint(codePoint);return result;}}};return Tokenizer;}());var Parser=(function(){function Parser(tokens){this._tokens=tokens;}
Parser.create=function(value){var tokenizer=new Tokenizer();tokenizer.write(value);return new Parser(tokenizer.read());};Parser.parseValue=function(value){return Parser.create(value).parseComponentValue();};Parser.parseValues=function(value){return Parser.create(value).parseComponentValues();};Parser.prototype.parseComponentValue=function(){var token=this.consumeToken();while(token.type===TokenType.WHITESPACE_TOKEN){token=this.consumeToken();}
if(token.type===TokenType.EOF_TOKEN){throw new SyntaxError("Error parsing CSS component value, unexpected EOF");}
this.reconsumeToken(token);var value=this.consumeComponentValue();do{token=this.consumeToken();}while(token.type===TokenType.WHITESPACE_TOKEN);if(token.type===TokenType.EOF_TOKEN){return value;}
throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one");};Parser.prototype.parseComponentValues=function(){var values=[];while(true){var value=this.consumeComponentValue();if(value.type===TokenType.EOF_TOKEN){return values;}
values.push(value);values.push();}};Parser.prototype.consumeComponentValue=function(){var token=this.consumeToken();switch(token.type){case TokenType.LEFT_CURLY_BRACKET_TOKEN:case TokenType.LEFT_SQUARE_BRACKET_TOKEN:case TokenType.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(token.type);case TokenType.FUNCTION_TOKEN:return this.consumeFunction(token);}
return token;};Parser.prototype.consumeSimpleBlock=function(type){var block={type:type,values:[]};var token=this.consumeToken();while(true){if(token.type===TokenType.EOF_TOKEN||isEndingTokenFor(token,type)){return block;}
this.reconsumeToken(token);block.values.push(this.consumeComponentValue());token=this.consumeToken();}};Parser.prototype.consumeFunction=function(functionToken){var cssFunction={name:functionToken.value,values:[],type:TokenType.FUNCTION};while(true){var token=this.consumeToken();if(token.type===TokenType.EOF_TOKEN||token.type===TokenType.RIGHT_PARENTHESIS_TOKEN){return cssFunction;}
this.reconsumeToken(token);cssFunction.values.push(this.consumeComponentValue());}};Parser.prototype.consumeToken=function(){var token=this._tokens.shift();return typeof token==='undefined'?EOF_TOKEN:token;};Parser.prototype.reconsumeToken=function(token){this._tokens.unshift(token);};return Parser;}());var isDimensionToken=function(token){return token.type===TokenType.DIMENSION_TOKEN;};var isNumberToken=function(token){return token.type===TokenType.NUMBER_TOKEN;};var isIdentToken=function(token){return token.type===TokenType.IDENT_TOKEN;};var isStringToken=function(token){return token.type===TokenType.STRING_TOKEN;};var isIdentWithValue=function(token,value){return isIdentToken(token)&&token.value===value;};var nonWhiteSpace=function(token){return token.type!==TokenType.WHITESPACE_TOKEN;};var nonFunctionArgSeparator=function(token){return token.type!==TokenType.WHITESPACE_TOKEN&&token.type!==TokenType.COMMA_TOKEN;};var parseFunctionArgs=function(tokens){var args=[];var arg=[];tokens.forEach(function(token){if(token.type===TokenType.COMMA_TOKEN){if(arg.length===0){throw new Error("Error parsing function args, zero tokens for arg");}
args.push(arg);arg=[];return;}
if(token.type!==TokenType.WHITESPACE_TOKEN){arg.push(token);}});if(arg.length){args.push(arg);}
return args;};var isEndingTokenFor=function(token,type){if(type===TokenType.LEFT_CURLY_BRACKET_TOKEN&&token.type===TokenType.RIGHT_CURLY_BRACKET_TOKEN){return true;}
if(type===TokenType.LEFT_SQUARE_BRACKET_TOKEN&&token.type===TokenType.RIGHT_SQUARE_BRACKET_TOKEN){return true;}
return type===TokenType.LEFT_PARENTHESIS_TOKEN&&token.type===TokenType.RIGHT_PARENTHESIS_TOKEN;};var isLength=function(token){return token.type===TokenType.NUMBER_TOKEN||token.type===TokenType.DIMENSION_TOKEN;};var isLengthPercentage=function(token){return token.type===TokenType.PERCENTAGE_TOKEN||isLength(token);};var parseLengthPercentageTuple=function(tokens){return tokens.length>1?[tokens[0],tokens[1]]:[tokens[0]];};var ZERO_LENGTH={type:TokenType.NUMBER_TOKEN,number:0,flags:FLAG_INTEGER};var FIFTY_PERCENT={type:TokenType.PERCENTAGE_TOKEN,number:50,flags:FLAG_INTEGER};var HUNDRED_PERCENT={type:TokenType.PERCENTAGE_TOKEN,number:100,flags:FLAG_INTEGER};var getAbsoluteValueForTuple=function(tuple,width,height){var x=tuple[0],y=tuple[1];return[getAbsoluteValue(x,width),getAbsoluteValue(typeof y!=='undefined'?y:x,height)];};var getAbsoluteValue=function(token,parent){if(token.type===TokenType.PERCENTAGE_TOKEN){return(token.number/100)*parent;}
if(isDimensionToken(token)){switch(token.unit){case 'rem':case 'em':return 16*token.number;case 'px':default:return token.number;}}
return token.number;};var DEG='deg';var GRAD='grad';var RAD='rad';var TURN='turn';var angle={name:'angle',parse:function(value){if(value.type===TokenType.DIMENSION_TOKEN){switch(value.unit){case DEG:return(Math.PI*value.number)/180;case GRAD:return(Math.PI/200)*value.number;case RAD:return value.number;case TURN:return Math.PI*2*value.number;}}
throw new Error("Unsupported angle type");}};var isAngle=function(value){if(value.type===TokenType.DIMENSION_TOKEN){if(value.unit===DEG||value.unit===GRAD||value.unit===RAD||value.unit===TURN){return true;}}
return false;};var parseNamedSide=function(tokens){var sideOrCorner=tokens.filter(isIdentToken).map(function(ident){return ident.value;}).join(' ');switch(sideOrCorner){case 'to bottom right':case 'to right bottom':case 'left top':case 'top left':return[ZERO_LENGTH,ZERO_LENGTH];case 'to top':case 'bottom':return deg(0);case 'to bottom left':case 'to left bottom':case 'right top':case 'top right':return[ZERO_LENGTH,HUNDRED_PERCENT];case 'to right':case 'left':return deg(90);case 'to top left':case 'to left top':case 'right bottom':case 'bottom right':return[HUNDRED_PERCENT,HUNDRED_PERCENT];case 'to bottom':case 'top':return deg(180);case 'to top right':case 'to right top':case 'left bottom':case 'bottom left':return[HUNDRED_PERCENT,ZERO_LENGTH];case 'to left':case 'right':return deg(270);}
return 0;};var deg=function(deg){return(Math.PI*deg)/180;};var color={name:'color',parse:function(value){if(value.type===TokenType.FUNCTION){var colorFunction=SUPPORTED_COLOR_FUNCTIONS[value.name];if(typeof colorFunction==='undefined'){throw new Error("Attempting to parse an unsupported color function \""+value.name+"\"");}
return colorFunction(value.values);}
if(value.type===TokenType.HASH_TOKEN){if(value.value.length===3){var r=value.value.substring(0,1);var g=value.value.substring(1,2);var b=value.value.substring(2,3);return pack(parseInt(r+r,16),parseInt(g+g,16),parseInt(b+b,16),1);}
if(value.value.length===4){var r=value.value.substring(0,1);var g=value.value.substring(1,2);var b=value.value.substring(2,3);var a=value.value.substring(3,4);return pack(parseInt(r+r,16),parseInt(g+g,16),parseInt(b+b,16),parseInt(a+a,16)/255);}
if(value.value.length===6){var r=value.value.substring(0,2);var g=value.value.substring(2,4);var b=value.value.substring(4,6);return pack(parseInt(r,16),parseInt(g,16),parseInt(b,16),1);}
if(value.value.length===8){var r=value.value.substring(0,2);var g=value.value.substring(2,4);var b=value.value.substring(4,6);var a=value.value.substring(6,8);return pack(parseInt(r,16),parseInt(g,16),parseInt(b,16),parseInt(a,16)/255);}}
if(value.type===TokenType.IDENT_TOKEN){var namedColor=COLORS[value.value.toUpperCase()];if(typeof namedColor!=='undefined'){return namedColor;}}
return COLORS.TRANSPARENT;}};var isTransparent=function(color){return(0xff&color)===0;};var asString=function(color){var alpha=0xff&color;var blue=0xff&(color>>8);var green=0xff&(color>>16);var red=0xff&(color>>24);return alpha<255?"rgba("+red+","+green+","+blue+","+alpha/255+")":"rgb("+red+","+green+","+blue+")";};var pack=function(r,g,b,a){return((r<<24)|(g<<16)|(b<<8)|(Math.round(a*255)<<0))>>>0;};var getTokenColorValue=function(token,i){if(token.type===TokenType.NUMBER_TOKEN){return token.number;}
if(token.type===TokenType.PERCENTAGE_TOKEN){var max=i===3?1:255;return i===3?(token.number/100)*max:Math.round((token.number/100)*max);}
return 0;};var rgb=function(args){var tokens=args.filter(nonFunctionArgSeparator);if(tokens.length===3){var _a=tokens.map(getTokenColorValue),r=_a[0],g=_a[1],b=_a[2];return pack(r,g,b,1);}
if(tokens.length===4){var _b=tokens.map(getTokenColorValue),r=_b[0],g=_b[1],b=_b[2],a=_b[3];return pack(r,g,b,a);}
return 0;};function hue2rgb(t1,t2,hue){if(hue<0){hue+=1;}
if(hue>=1){hue-=1;}
if(hue<1/6){return(t2-t1)*hue*6+t1;}
else if(hue<1/2){return t2;}
else if(hue<2/3){return(t2-t1)*6*(2/3-hue)+t1;}
else{return t1;}}
var hsl=function(args){var tokens=args.filter(nonFunctionArgSeparator);var hue=tokens[0],saturation=tokens[1],lightness=tokens[2],alpha=tokens[3];var h=(hue.type===TokenType.NUMBER_TOKEN?deg(hue.number):angle.parse(hue))/(Math.PI*2);var s=isLengthPercentage(saturation)?saturation.number/100:0;var l=isLengthPercentage(lightness)?lightness.number/100:0;var a=typeof alpha!=='undefined'&&isLengthPercentage(alpha)?getAbsoluteValue(alpha,1):1;if(s===0){return pack(l*255,l*255,l*255,1);}
var t2=l<=0.5?l*(s+1):l+s-l*s;var t1=l*2-t2;var r=hue2rgb(t1,t2,h+1/3);var g=hue2rgb(t1,t2,h);var b=hue2rgb(t1,t2,h-1/3);return pack(r*255,g*255,b*255,a);};var SUPPORTED_COLOR_FUNCTIONS={hsl:hsl,hsla:hsl,rgb:rgb,rgba:rgb};var COLORS={ALICEBLUE:0xf0f8ffff,ANTIQUEWHITE:0xfaebd7ff,AQUA:0x00ffffff,AQUAMARINE:0x7fffd4ff,AZURE:0xf0ffffff,BEIGE:0xf5f5dcff,BISQUE:0xffe4c4ff,BLACK:0x000000ff,BLANCHEDALMOND:0xffebcdff,BLUE:0x0000ffff,BLUEVIOLET:0x8a2be2ff,BROWN:0xa52a2aff,BURLYWOOD:0xdeb887ff,CADETBLUE:0x5f9ea0ff,CHARTREUSE:0x7fff00ff,CHOCOLATE:0xd2691eff,CORAL:0xff7f50ff,CORNFLOWERBLUE:0x6495edff,CORNSILK:0xfff8dcff,CRIMSON:0xdc143cff,CYAN:0x00ffffff,DARKBLUE:0x00008bff,DARKCYAN:0x008b8bff,DARKGOLDENROD:0xb886bbff,DARKGRAY:0xa9a9a9ff,DARKGREEN:0x006400ff,DARKGREY:0xa9a9a9ff,DARKKHAKI:0xbdb76bff,DARKMAGENTA:0x8b008bff,DARKOLIVEGREEN:0x556b2fff,DARKORANGE:0xff8c00ff,DARKORCHID:0x9932ccff,DARKRED:0x8b0000ff,DARKSALMON:0xe9967aff,DARKSEAGREEN:0x8fbc8fff,DARKSLATEBLUE:0x483d8bff,DARKSLATEGRAY:0x2f4f4fff,DARKSLATEGREY:0x2f4f4fff,DARKTURQUOISE:0x00ced1ff,DARKVIOLET:0x9400d3ff,DEEPPINK:0xff1493ff,DEEPSKYBLUE:0x00bfffff,DIMGRAY:0x696969ff,DIMGREY:0x696969ff,DODGERBLUE:0x1e90ffff,FIREBRICK:0xb22222ff,FLORALWHITE:0xfffaf0ff,FORESTGREEN:0x228b22ff,FUCHSIA:0xff00ffff,GAINSBORO:0xdcdcdcff,GHOSTWHITE:0xf8f8ffff,GOLD:0xffd700ff,GOLDENROD:0xdaa520ff,GRAY:0x808080ff,GREEN:0x008000ff,GREENYELLOW:0xadff2fff,GREY:0x808080ff,HONEYDEW:0xf0fff0ff,HOTPINK:0xff69b4ff,INDIANRED:0xcd5c5cff,INDIGO:0x4b0082ff,IVORY:0xfffff0ff,KHAKI:0xf0e68cff,LAVENDER:0xe6e6faff,LAVENDERBLUSH:0xfff0f5ff,LAWNGREEN:0x7cfc00ff,LEMONCHIFFON:0xfffacdff,LIGHTBLUE:0xadd8e6ff,LIGHTCORAL:0xf08080ff,LIGHTCYAN:0xe0ffffff,LIGHTGOLDENRODYELLOW:0xfafad2ff,LIGHTGRAY:0xd3d3d3ff,LIGHTGREEN:0x90ee90ff,LIGHTGREY:0xd3d3d3ff,LIGHTPINK:0xffb6c1ff,LIGHTSALMON:0xffa07aff,LIGHTSEAGREEN:0x20b2aaff,LIGHTSKYBLUE:0x87cefaff,LIGHTSLATEGRAY:0x778899ff,LIGHTSLATEGREY:0x778899ff,LIGHTSTEELBLUE:0xb0c4deff,LIGHTYELLOW:0xffffe0ff,LIME:0x00ff00ff,LIMEGREEN:0x32cd32ff,LINEN:0xfaf0e6ff,MAGENTA:0xff00ffff,MAROON:0x800000ff,MEDIUMAQUAMARINE:0x66cdaaff,MEDIUMBLUE:0x0000cdff,MEDIUMORCHID:0xba55d3ff,MEDIUMPURPLE:0x9370dbff,MEDIUMSEAGREEN:0x3cb371ff,MEDIUMSLATEBLUE:0x7b68eeff,MEDIUMSPRINGGREEN:0x00fa9aff,MEDIUMTURQUOISE:0x48d1ccff,MEDIUMVIOLETRED:0xc71585ff,MIDNIGHTBLUE:0x191970ff,MINTCREAM:0xf5fffaff,MISTYROSE:0xffe4e1ff,MOCCASIN:0xffe4b5ff,NAVAJOWHITE:0xffdeadff,NAVY:0x000080ff,OLDLACE:0xfdf5e6ff,OLIVE:0x808000ff,OLIVEDRAB:0x6b8e23ff,ORANGE:0xffa500ff,ORANGERED:0xff4500ff,ORCHID:0xda70d6ff,PALEGOLDENROD:0xeee8aaff,PALEGREEN:0x98fb98ff,PALETURQUOISE:0xafeeeeff,PALEVIOLETRED:0xdb7093ff,PAPAYAWHIP:0xffefd5ff,PEACHPUFF:0xffdab9ff,PERU:0xcd853fff,PINK:0xffc0cbff,PLUM:0xdda0ddff,POWDERBLUE:0xb0e0e6ff,PURPLE:0x800080ff,REBECCAPURPLE:0x663399ff,RED:0xff0000ff,ROSYBROWN:0xbc8f8fff,ROYALBLUE:0x4169e1ff,SADDLEBROWN:0x8b4513ff,SALMON:0xfa8072ff,SANDYBROWN:0xf4a460ff,SEAGREEN:0x2e8b57ff,SEASHELL:0xfff5eeff,SIENNA:0xa0522dff,SILVER:0xc0c0c0ff,SKYBLUE:0x87ceebff,SLATEBLUE:0x6a5acdff,SLATEGRAY:0x708090ff,SLATEGREY:0x708090ff,SNOW:0xfffafaff,SPRINGGREEN:0x00ff7fff,STEELBLUE:0x4682b4ff,TAN:0xd2b48cff,TEAL:0x008080ff,THISTLE:0xd8bfd8ff,TOMATO:0xff6347ff,TRANSPARENT:0x00000000,TURQUOISE:0x40e0d0ff,VIOLET:0xee82eeff,WHEAT:0xf5deb3ff,WHITE:0xffffffff,WHITESMOKE:0xf5f5f5ff,YELLOW:0xffff00ff,YELLOWGREEN:0x9acd32ff};var PropertyDescriptorParsingType;(function(PropertyDescriptorParsingType){PropertyDescriptorParsingType[PropertyDescriptorParsingType["VALUE"]=0]="VALUE";PropertyDescriptorParsingType[PropertyDescriptorParsingType["LIST"]=1]="LIST";PropertyDescriptorParsingType[PropertyDescriptorParsingType["IDENT_VALUE"]=2]="IDENT_VALUE";PropertyDescriptorParsingType[PropertyDescriptorParsingType["TYPE_VALUE"]=3]="TYPE_VALUE";PropertyDescriptorParsingType[PropertyDescriptorParsingType["TOKEN_VALUE"]=4]="TOKEN_VALUE";})(PropertyDescriptorParsingType||(PropertyDescriptorParsingType={}));var BACKGROUND_CLIP;(function(BACKGROUND_CLIP){BACKGROUND_CLIP[BACKGROUND_CLIP["BORDER_BOX"]=0]="BORDER_BOX";BACKGROUND_CLIP[BACKGROUND_CLIP["PADDING_BOX"]=1]="PADDING_BOX";BACKGROUND_CLIP[BACKGROUND_CLIP["CONTENT_BOX"]=2]="CONTENT_BOX";})(BACKGROUND_CLIP||(BACKGROUND_CLIP={}));var backgroundClip={name:'background-clip',initialValue:'border-box',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return tokens.map(function(token){if(isIdentToken(token)){switch(token.value){case 'padding-box':return BACKGROUND_CLIP.PADDING_BOX;case 'content-box':return BACKGROUND_CLIP.CONTENT_BOX;}}
return BACKGROUND_CLIP.BORDER_BOX;});}};var backgroundColor={name:"background-color",initialValue:'transparent',prefix:false,type:PropertyDescriptorParsingType.TYPE_VALUE,format:'color'};var parseColorStop=function(args){var color$1=color.parse(args[0]);var stop=args[1];return stop&&isLengthPercentage(stop)?{color:color$1,stop:stop}:{color:color$1,stop:null};};var processColorStops=function(stops,lineLength){var first=stops[0];var last=stops[stops.length-1];if(first.stop===null){first.stop=ZERO_LENGTH;}
if(last.stop===null){last.stop=HUNDRED_PERCENT;}
var processStops=[];var previous=0;for(var i=0;i<stops.length;i++){var stop_1=stops[i].stop;if(stop_1!==null){var absoluteValue=getAbsoluteValue(stop_1,lineLength);if(absoluteValue>previous){processStops.push(absoluteValue);}
else{processStops.push(previous);}
previous=absoluteValue;}
else{processStops.push(null);}}
var gapBegin=null;for(var i=0;i<processStops.length;i++){var stop_2=processStops[i];if(stop_2===null){if(gapBegin===null){gapBegin=i;}}
else if(gapBegin!==null){var gapLength=i-gapBegin;var beforeGap=processStops[gapBegin-1];var gapValue=(stop_2-beforeGap)/(gapLength+1);for(var g=1;g<=gapLength;g++){processStops[gapBegin+g-1]=gapValue*g;}
gapBegin=null;}}
return stops.map(function(_a,i){var color=_a.color;return{color:color,stop:Math.max(Math.min(1,processStops[i]/lineLength),0)};});};var getAngleFromCorner=function(corner,width,height){var centerX=width/2;var centerY=height/2;var x=getAbsoluteValue(corner[0],width)-centerX;var y=centerY-getAbsoluteValue(corner[1],height);return(Math.atan2(y,x)+Math.PI*2)%(Math.PI*2);};var calculateGradientDirection=function(angle,width,height){var radian=typeof angle==='number'?angle:getAngleFromCorner(angle,width,height);var lineLength=Math.abs(width*Math.sin(radian))+Math.abs(height*Math.cos(radian));var halfWidth=width/2;var halfHeight=height/2;var halfLineLength=lineLength/2;var yDiff=Math.sin(radian-Math.PI/2)*halfLineLength;var xDiff=Math.cos(radian-Math.PI/2)*halfLineLength;return[lineLength,halfWidth-xDiff,halfWidth+xDiff,halfHeight-yDiff,halfHeight+yDiff];};var distance=function(a,b){return Math.sqrt(a*a+b*b);};var findCorner=function(width,height,x,y,closest){var corners=[[0,0],[0,height],[width,0],[width,height]];return corners.reduce(function(stat,corner){var cx=corner[0],cy=corner[1];var d=distance(x-cx,y-cy);if(closest?d<stat.optimumDistance:d>stat.optimumDistance){return{optimumCorner:corner,optimumDistance:d};}
return stat;},{optimumDistance:closest?Infinity:-Infinity,optimumCorner:null}).optimumCorner;};var calculateRadius=function(gradient,x,y,width,height){var rx=0;var ry=0;switch(gradient.size){case CSSRadialExtent.CLOSEST_SIDE:if(gradient.shape===CSSRadialShape.CIRCLE){rx=ry=Math.min(Math.abs(x),Math.abs(x-width),Math.abs(y),Math.abs(y-height));}
else if(gradient.shape===CSSRadialShape.ELLIPSE){rx=Math.min(Math.abs(x),Math.abs(x-width));ry=Math.min(Math.abs(y),Math.abs(y-height));}
break;case CSSRadialExtent.CLOSEST_CORNER:if(gradient.shape===CSSRadialShape.CIRCLE){rx=ry=Math.min(distance(x,y),distance(x,y-height),distance(x-width,y),distance(x-width,y-height));}
else if(gradient.shape===CSSRadialShape.ELLIPSE){var c=Math.min(Math.abs(y),Math.abs(y-height))/Math.min(Math.abs(x),Math.abs(x-width));var _a=findCorner(width,height,x,y,true),cx=_a[0],cy=_a[1];rx=distance(cx-x,(cy-y)/c);ry=c*rx;}
break;case CSSRadialExtent.FARTHEST_SIDE:if(gradient.shape===CSSRadialShape.CIRCLE){rx=ry=Math.max(Math.abs(x),Math.abs(x-width),Math.abs(y),Math.abs(y-height));}
else if(gradient.shape===CSSRadialShape.ELLIPSE){rx=Math.max(Math.abs(x),Math.abs(x-width));ry=Math.max(Math.abs(y),Math.abs(y-height));}
break;case CSSRadialExtent.FARTHEST_CORNER:if(gradient.shape===CSSRadialShape.CIRCLE){rx=ry=Math.max(distance(x,y),distance(x,y-height),distance(x-width,y),distance(x-width,y-height));}
else if(gradient.shape===CSSRadialShape.ELLIPSE){var c=Math.max(Math.abs(y),Math.abs(y-height))/Math.max(Math.abs(x),Math.abs(x-width));var _b=findCorner(width,height,x,y,false),cx=_b[0],cy=_b[1];rx=distance(cx-x,(cy-y)/c);ry=c*rx;}
break;}
if(Array.isArray(gradient.size)){rx=getAbsoluteValue(gradient.size[0],width);ry=gradient.size.length===2?getAbsoluteValue(gradient.size[1],height):rx;}
return[rx,ry];};var linearGradient=function(tokens){var angle$1=deg(180);var stops=[];parseFunctionArgs(tokens).forEach(function(arg,i){if(i===0){var firstToken=arg[0];if(firstToken.type===TokenType.IDENT_TOKEN&&firstToken.value==='to'){angle$1=parseNamedSide(arg);return;}
else if(isAngle(firstToken)){angle$1=angle.parse(firstToken);return;}}
var colorStop=parseColorStop(arg);stops.push(colorStop);});return{angle:angle$1,stops:stops,type:CSSImageType.LINEAR_GRADIENT};};var prefixLinearGradient=function(tokens){var angle$1=deg(180);var stops=[];parseFunctionArgs(tokens).forEach(function(arg,i){if(i===0){var firstToken=arg[0];if(firstToken.type===TokenType.IDENT_TOKEN&&['top','left','right','bottom'].indexOf(firstToken.value)!==-1){angle$1=parseNamedSide(arg);return;}
else if(isAngle(firstToken)){angle$1=(angle.parse(firstToken)+deg(270))%deg(360);return;}}
var colorStop=parseColorStop(arg);stops.push(colorStop);});return{angle:angle$1,stops:stops,type:CSSImageType.LINEAR_GRADIENT};};var testRangeBounds=function(document){var TEST_HEIGHT=123;if(document.createRange){var range=document.createRange();if(range.getBoundingClientRect){var testElement=document.createElement('boundtest');testElement.style.height=TEST_HEIGHT+"px";testElement.style.display='block';document.body.appendChild(testElement);range.selectNode(testElement);var rangeBounds=range.getBoundingClientRect();var rangeHeight=Math.round(rangeBounds.height);document.body.removeChild(testElement);if(rangeHeight===TEST_HEIGHT){return true;}}}
return false;};var testCORS=function(){return typeof new Image().crossOrigin!=='undefined';};var testResponseType=function(){return typeof new XMLHttpRequest().responseType==='string';};var testSVG=function(document){var img=new Image();var canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');if(!ctx){return false;}
img.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{ctx.drawImage(img,0,0);canvas.toDataURL();}
catch(e){return false;}
return true;};var isGreenPixel=function(data){return data[0]===0&&data[1]===255&&data[2]===0&&data[3]===255;};var testForeignObject=function(document){var canvas=document.createElement('canvas');var size=100;canvas.width=size;canvas.height=size;var ctx=canvas.getContext('2d');if(!ctx){return Promise.reject(false);}
ctx.fillStyle='rgb(0, 255, 0)';ctx.fillRect(0,0,size,size);var img=new Image();var greenImageSrc=canvas.toDataURL();img.src=greenImageSrc;var svg=createForeignObjectSVG(size,size,0,0,img);ctx.fillStyle='red';ctx.fillRect(0,0,size,size);return loadSerializedSVG(svg).then(function(img){ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,size,size).data;ctx.fillStyle='red';ctx.fillRect(0,0,size,size);var node=document.createElement('div');node.style.backgroundImage="url("+greenImageSrc+")";node.style.height=size+"px";return isGreenPixel(data)?loadSerializedSVG(createForeignObjectSVG(size,size,0,0,node)):Promise.reject(false);}).then(function(img){ctx.drawImage(img,0,0);return isGreenPixel(ctx.getImageData(0,0,size,size).data);}).catch(function(){return false;});};var createForeignObjectSVG=function(width,height,x,y,node){var xmlns='http://www.w3.org/2000/svg';var svg=document.createElementNS(xmlns,'svg');var foreignObject=document.createElementNS(xmlns,'foreignObject');svg.setAttributeNS(null,'width',width.toString());svg.setAttributeNS(null,'height',height.toString());foreignObject.setAttributeNS(null,'width','100%');foreignObject.setAttributeNS(null,'height','100%');foreignObject.setAttributeNS(null,'x',x.toString());foreignObject.setAttributeNS(null,'y',y.toString());foreignObject.setAttributeNS(null,'externalResourcesRequired','true');svg.appendChild(foreignObject);foreignObject.appendChild(node);return svg;};var loadSerializedSVG=function(svg){return new Promise(function(resolve,reject){var img=new Image();img.onload=function(){return resolve(img);};img.onerror=reject;img.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(svg));});};var FEATURES={get SUPPORT_RANGE_BOUNDS(){var value=testRangeBounds(document);Object.defineProperty(FEATURES,'SUPPORT_RANGE_BOUNDS',{value:value});return value;},get SUPPORT_SVG_DRAWING(){var value=testSVG(document);Object.defineProperty(FEATURES,'SUPPORT_SVG_DRAWING',{value:value});return value;},get SUPPORT_FOREIGNOBJECT_DRAWING(){var value=typeof Array.from==='function'&&typeof window.fetch==='function'?testForeignObject(document):Promise.resolve(false);Object.defineProperty(FEATURES,'SUPPORT_FOREIGNOBJECT_DRAWING',{value:value});return value;},get SUPPORT_CORS_IMAGES(){var value=testCORS();Object.defineProperty(FEATURES,'SUPPORT_CORS_IMAGES',{value:value});return value;},get SUPPORT_RESPONSE_TYPE(){var value=testResponseType();Object.defineProperty(FEATURES,'SUPPORT_RESPONSE_TYPE',{value:value});return value;},get SUPPORT_CORS_XHR(){var value='withCredentials'in new XMLHttpRequest();Object.defineProperty(FEATURES,'SUPPORT_CORS_XHR',{value:value});return value;}};var Logger=(function(){function Logger(_a){var id=_a.id,enabled=_a.enabled;this.id=id;this.enabled=enabled;this.start=Date.now();}
Logger.prototype.debug=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
if(this.enabled){if(typeof window!=='undefined'&&window.console&&typeof console.debug==='function'){console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(args));}
else{this.info.apply(this,args);}}};Logger.prototype.getTime=function(){return Date.now()-this.start;};Logger.create=function(options){Logger.instances[options.id]=new Logger(options);};Logger.destroy=function(id){delete Logger.instances[id];};Logger.getInstance=function(id){var instance=Logger.instances[id];if(typeof instance==='undefined'){throw new Error("No logger instance found with id "+id);}
return instance;};Logger.prototype.info=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
if(this.enabled){if(typeof window!=='undefined'&&window.console&&typeof console.info==='function'){console.info.apply(console,[this.id,this.getTime()+"ms"].concat(args));}}};Logger.prototype.error=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
if(this.enabled){if(typeof window!=='undefined'&&window.console&&typeof console.error==='function'){console.error.apply(console,[this.id,this.getTime()+"ms"].concat(args));}
else{this.info.apply(this,args);}}};Logger.instances={};return Logger;}());var CacheStorage=(function(){function CacheStorage(){}
CacheStorage.create=function(name,options){return(CacheStorage._caches[name]=new Cache(name,options));};CacheStorage.destroy=function(name){delete CacheStorage._caches[name];};CacheStorage.open=function(name){var cache=CacheStorage._caches[name];if(typeof cache!=='undefined'){return cache;}
throw new Error("Cache with key \""+name+"\" not found");};CacheStorage.getOrigin=function(url){var link=CacheStorage._link;if(!link){return 'about:blank';}
link.href=url;link.href=link.href;return link.protocol+link.hostname+link.port;};CacheStorage.isSameOrigin=function(src){return CacheStorage.getOrigin(src)===CacheStorage._origin;};CacheStorage.setContext=function(window){CacheStorage._link=window.document.createElement('a');CacheStorage._origin=CacheStorage.getOrigin(window.location.href);};CacheStorage.getInstance=function(){var current=CacheStorage._current;if(current===null){throw new Error("No cache instance attached");}
return current;};CacheStorage.attachInstance=function(cache){CacheStorage._current=cache;};CacheStorage.detachInstance=function(){CacheStorage._current=null;};CacheStorage._caches={};CacheStorage._origin='about:blank';CacheStorage._current=null;return CacheStorage;}());var Cache=(function(){function Cache(id,options){this.id=id;this._options=options;this._cache={};}
Cache.prototype.addImage=function(src){var result=Promise.resolve();if(this.has(src)){return result;}
if(isBlobImage(src)||isRenderable(src)){this._cache[src]=this.loadImage(src);return result;}
return result;};Cache.prototype.match=function(src){return this._cache[src];};Cache.prototype.loadImage=function(key){return __awaiter(this,void 0,void 0,function(){var isSameOrigin,useCORS,useProxy,src;var _this=this;return __generator(this,function(_a){switch(_a.label){case 0:isSameOrigin=CacheStorage.isSameOrigin(key);useCORS=!isInlineImage(key)&&this._options.useCORS===true&&FEATURES.SUPPORT_CORS_IMAGES&&!isSameOrigin;useProxy=!isInlineImage(key)&&!isSameOrigin&&typeof this._options.proxy==='string'&&FEATURES.SUPPORT_CORS_XHR&&!useCORS;if(!isSameOrigin&&this._options.allowTaint===false&&!isInlineImage(key)&&!useProxy&&!useCORS){return[2];}
src=key;if(!useProxy)return[3,2];return[4,this.proxy(src)];case 1:src=_a.sent();_a.label=2;case 2:Logger.getInstance(this.id).debug("Added image "+key.substring(0,256));return[4,new Promise(function(resolve,reject){var img=new Image();img.onload=function(){return resolve(img);};img.onerror=reject;if(isInlineBase64Image(src)||useCORS){img.crossOrigin='anonymous';}
img.src=src;if(img.complete===true){setTimeout(function(){return resolve(img);},500);}
if(_this._options.imageTimeout>0){setTimeout(function(){return reject("Timed out ("+_this._options.imageTimeout+"ms) loading image");},_this._options.imageTimeout);}})];case 3:return[2,_a.sent()];}});});};Cache.prototype.has=function(key){return typeof this._cache[key]!=='undefined';};Cache.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache));};Cache.prototype.proxy=function(src){var _this=this;var proxy=this._options.proxy;if(!proxy){throw new Error('No proxy defined');}
var key=src.substring(0,256);return new Promise(function(resolve,reject){var responseType=FEATURES.SUPPORT_RESPONSE_TYPE?'blob':'text';var xhr=new XMLHttpRequest();xhr.onload=function(){if(xhr.status===200){if(responseType==='text'){resolve(xhr.response);}
else{var reader_1=new FileReader();reader_1.addEventListener('load',function(){return resolve(reader_1.result);},false);reader_1.addEventListener('error',function(e){return reject(e);},false);reader_1.readAsDataURL(xhr.response);}}
else{reject("Failed to proxy resource "+key+" with status code "+xhr.status);}};xhr.onerror=reject;xhr.open('GET',proxy+"?url="+encodeURIComponent(src)+"&responseType="+responseType);if(responseType!=='text'&&xhr instanceof XMLHttpRequest){xhr.responseType=responseType;}
if(_this._options.imageTimeout){var timeout_1=_this._options.imageTimeout;xhr.timeout=timeout_1;xhr.ontimeout=function(){return reject("Timed out ("+timeout_1+"ms) proxying "+key);};}
xhr.send();});};return Cache;}());var INLINE_SVG=/^data:image\/svg\+xml/i;var INLINE_BASE64=/^data:image\/.*;base64,/i;var INLINE_IMG=/^data:image\/.*/i;var isRenderable=function(src){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(src);};var isInlineImage=function(src){return INLINE_IMG.test(src);};var isInlineBase64Image=function(src){return INLINE_BASE64.test(src);};var isBlobImage=function(src){return src.substr(0,4)==='blob';};var isSVG=function(src){return src.substr(-3).toLowerCase()==='svg'||INLINE_SVG.test(src);};var webkitGradient=function(tokens){var angle=deg(180);var stops=[];var type=CSSImageType.LINEAR_GRADIENT;var shape=CSSRadialShape.CIRCLE;var size=CSSRadialExtent.FARTHEST_CORNER;var position=[];parseFunctionArgs(tokens).forEach(function(arg,i){var firstToken=arg[0];if(i===0){if(isIdentToken(firstToken)&&firstToken.value==='linear'){type=CSSImageType.LINEAR_GRADIENT;return;}
else if(isIdentToken(firstToken)&&firstToken.value==='radial'){type=CSSImageType.RADIAL_GRADIENT;return;}}
if(firstToken.type===TokenType.FUNCTION){if(firstToken.name==='from'){var color$1=color.parse(firstToken.values[0]);stops.push({stop:ZERO_LENGTH,color:color$1});}
else if(firstToken.name==='to'){var color$1=color.parse(firstToken.values[0]);stops.push({stop:HUNDRED_PERCENT,color:color$1});}
else if(firstToken.name==='color-stop'){var values=firstToken.values.filter(nonFunctionArgSeparator);if(values.length===2){var color$1=color.parse(values[1]);var stop_1=values[0];if(isNumberToken(stop_1)){stops.push({stop:{type:TokenType.PERCENTAGE_TOKEN,number:stop_1.number*100,flags:stop_1.flags},color:color$1});}}}}});return type===CSSImageType.LINEAR_GRADIENT?{angle:(angle+deg(180))%deg(360),stops:stops,type:type}:{size:size,shape:shape,stops:stops,position:position,type:type};};var CLOSEST_SIDE='closest-side';var FARTHEST_SIDE='farthest-side';var CLOSEST_CORNER='closest-corner';var FARTHEST_CORNER='farthest-corner';var CIRCLE='circle';var ELLIPSE='ellipse';var COVER='cover';var CONTAIN='contain';var radialGradient=function(tokens){var shape=CSSRadialShape.CIRCLE;var size=CSSRadialExtent.FARTHEST_CORNER;var stops=[];var position=[];parseFunctionArgs(tokens).forEach(function(arg,i){var isColorStop=true;if(i===0){var isAtPosition_1=false;isColorStop=arg.reduce(function(acc,token){if(isAtPosition_1){if(isIdentToken(token)){switch(token.value){case 'center':position.push(FIFTY_PERCENT);return acc;case 'top':case 'left':position.push(ZERO_LENGTH);return acc;case 'right':case 'bottom':position.push(HUNDRED_PERCENT);return acc;}}
else if(isLengthPercentage(token)||isLength(token)){position.push(token);}}
else if(isIdentToken(token)){switch(token.value){case CIRCLE:shape=CSSRadialShape.CIRCLE;return false;case ELLIPSE:shape=CSSRadialShape.ELLIPSE;return false;case 'at':isAtPosition_1=true;return false;case CLOSEST_SIDE:size=CSSRadialExtent.CLOSEST_SIDE;return false;case COVER:case FARTHEST_SIDE:size=CSSRadialExtent.FARTHEST_SIDE;return false;case CONTAIN:case CLOSEST_CORNER:size=CSSRadialExtent.CLOSEST_CORNER;return false;case FARTHEST_CORNER:size=CSSRadialExtent.FARTHEST_CORNER;return false;}}
else if(isLength(token)||isLengthPercentage(token)){if(!Array.isArray(size)){size=[];}
size.push(token);return false;}
return acc;},isColorStop);}
if(isColorStop){var colorStop=parseColorStop(arg);stops.push(colorStop);}});return{size:size,shape:shape,stops:stops,position:position,type:CSSImageType.RADIAL_GRADIENT};};var prefixRadialGradient=function(tokens){var shape=CSSRadialShape.CIRCLE;var size=CSSRadialExtent.FARTHEST_CORNER;var stops=[];var position=[];parseFunctionArgs(tokens).forEach(function(arg,i){var isColorStop=true;if(i===0){isColorStop=arg.reduce(function(acc,token){if(isIdentToken(token)){switch(token.value){case 'center':position.push(FIFTY_PERCENT);return false;case 'top':case 'left':position.push(ZERO_LENGTH);return false;case 'right':case 'bottom':position.push(HUNDRED_PERCENT);return false;}}
else if(isLengthPercentage(token)||isLength(token)){position.push(token);return false;}
return acc;},isColorStop);}
else if(i===1){isColorStop=arg.reduce(function(acc,token){if(isIdentToken(token)){switch(token.value){case CIRCLE:shape=CSSRadialShape.CIRCLE;return false;case ELLIPSE:shape=CSSRadialShape.ELLIPSE;return false;case CONTAIN:case CLOSEST_SIDE:size=CSSRadialExtent.CLOSEST_SIDE;return false;case FARTHEST_SIDE:size=CSSRadialExtent.FARTHEST_SIDE;return false;case CLOSEST_CORNER:size=CSSRadialExtent.CLOSEST_CORNER;return false;case COVER:case FARTHEST_CORNER:size=CSSRadialExtent.FARTHEST_CORNER;return false;}}
else if(isLength(token)||isLengthPercentage(token)){if(!Array.isArray(size)){size=[];}
size.push(token);return false;}
return acc;},isColorStop);}
if(isColorStop){var colorStop=parseColorStop(arg);stops.push(colorStop);}});return{size:size,shape:shape,stops:stops,position:position,type:CSSImageType.RADIAL_GRADIENT};};var CSSImageType;(function(CSSImageType){CSSImageType[CSSImageType["URL"]=0]="URL";CSSImageType[CSSImageType["LINEAR_GRADIENT"]=1]="LINEAR_GRADIENT";CSSImageType[CSSImageType["RADIAL_GRADIENT"]=2]="RADIAL_GRADIENT";})(CSSImageType||(CSSImageType={}));var isLinearGradient=function(background){return background.type===CSSImageType.LINEAR_GRADIENT;};var isRadialGradient=function(background){return background.type===CSSImageType.RADIAL_GRADIENT;};var CSSRadialShape;(function(CSSRadialShape){CSSRadialShape[CSSRadialShape["CIRCLE"]=0]="CIRCLE";CSSRadialShape[CSSRadialShape["ELLIPSE"]=1]="ELLIPSE";})(CSSRadialShape||(CSSRadialShape={}));var CSSRadialExtent;(function(CSSRadialExtent){CSSRadialExtent[CSSRadialExtent["CLOSEST_SIDE"]=0]="CLOSEST_SIDE";CSSRadialExtent[CSSRadialExtent["FARTHEST_SIDE"]=1]="FARTHEST_SIDE";CSSRadialExtent[CSSRadialExtent["CLOSEST_CORNER"]=2]="CLOSEST_CORNER";CSSRadialExtent[CSSRadialExtent["FARTHEST_CORNER"]=3]="FARTHEST_CORNER";})(CSSRadialExtent||(CSSRadialExtent={}));var image={name:'image',parse:function(value){if(value.type===TokenType.URL_TOKEN){var image_1={url:value.value,type:CSSImageType.URL};CacheStorage.getInstance().addImage(value.value);return image_1;}
if(value.type===TokenType.FUNCTION){var imageFunction=SUPPORTED_IMAGE_FUNCTIONS[value.name];if(typeof imageFunction==='undefined'){throw new Error("Attempting to parse an unsupported image function \""+value.name+"\"");}
return imageFunction(value.values);}
throw new Error("Unsupported image type");}};function isSupportedImage(value){return value.type!==TokenType.FUNCTION||SUPPORTED_IMAGE_FUNCTIONS[value.name];}
var SUPPORTED_IMAGE_FUNCTIONS={'linear-gradient':linearGradient,'-moz-linear-gradient':prefixLinearGradient,'-ms-linear-gradient':prefixLinearGradient,'-o-linear-gradient':prefixLinearGradient,'-webkit-linear-gradient':prefixLinearGradient,'radial-gradient':radialGradient,'-moz-radial-gradient':prefixRadialGradient,'-ms-radial-gradient':prefixRadialGradient,'-o-radial-gradient':prefixRadialGradient,'-webkit-radial-gradient':prefixRadialGradient,'-webkit-gradient':webkitGradient};var backgroundImage={name:'background-image',initialValue:'none',type:PropertyDescriptorParsingType.LIST,prefix:false,parse:function(tokens){if(tokens.length===0){return[];}
var first=tokens[0];if(first.type===TokenType.IDENT_TOKEN&&first.value==='none'){return[];}
return tokens.filter(function(value){return nonFunctionArgSeparator(value)&&isSupportedImage(value);}).map(image.parse);}};var backgroundOrigin={name:'background-origin',initialValue:'border-box',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return tokens.map(function(token){if(isIdentToken(token)){switch(token.value){case 'padding-box':return 1;case 'content-box':return 2;}}
return 0;});}};var backgroundPosition={name:'background-position',initialValue:'0% 0%',type:PropertyDescriptorParsingType.LIST,prefix:false,parse:function(tokens){return parseFunctionArgs(tokens).map(function(values){return values.filter(isLengthPercentage);}).map(parseLengthPercentageTuple);}};var BACKGROUND_REPEAT;(function(BACKGROUND_REPEAT){BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT"]=0]="REPEAT";BACKGROUND_REPEAT[BACKGROUND_REPEAT["NO_REPEAT"]=1]="NO_REPEAT";BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT_X"]=2]="REPEAT_X";BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT_Y"]=3]="REPEAT_Y";})(BACKGROUND_REPEAT||(BACKGROUND_REPEAT={}));var backgroundRepeat={name:'background-repeat',initialValue:'repeat',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return parseFunctionArgs(tokens).map(function(values){return values.filter(isIdentToken).map(function(token){return token.value;}).join(' ');}).map(parseBackgroundRepeat);}};var parseBackgroundRepeat=function(value){switch(value){case 'no-repeat':return BACKGROUND_REPEAT.NO_REPEAT;case 'repeat-x':case 'repeat no-repeat':return BACKGROUND_REPEAT.REPEAT_X;case 'repeat-y':case 'no-repeat repeat':return BACKGROUND_REPEAT.REPEAT_Y;case 'repeat':default:return BACKGROUND_REPEAT.REPEAT;}};var BACKGROUND_SIZE;(function(BACKGROUND_SIZE){BACKGROUND_SIZE["AUTO"]="auto";BACKGROUND_SIZE["CONTAIN"]="contain";BACKGROUND_SIZE["COVER"]="cover";})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:'background-size',initialValue:'0',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return parseFunctionArgs(tokens).map(function(values){return values.filter(isBackgroundSizeInfoToken);});}};var isBackgroundSizeInfoToken=function(value){return isIdentToken(value)||isLengthPercentage(value);};var borderColorForSide=function(side){return({name:"border-"+side+"-color",initialValue:'transparent',prefix:false,type:PropertyDescriptorParsingType.TYPE_VALUE,format:'color'});};var borderTopColor=borderColorForSide('top');var borderRightColor=borderColorForSide('right');var borderBottomColor=borderColorForSide('bottom');var borderLeftColor=borderColorForSide('left');var borderRadiusForSide=function(side){return({name:"border-radius-"+side,initialValue:'0 0',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return parseLengthPercentageTuple(tokens.filter(isLengthPercentage));}});};var borderTopLeftRadius=borderRadiusForSide('top-left');var borderTopRightRadius=borderRadiusForSide('top-right');var borderBottomRightRadius=borderRadiusForSide('bottom-right');var borderBottomLeftRadius=borderRadiusForSide('bottom-left');var BORDER_STYLE;(function(BORDER_STYLE){BORDER_STYLE[BORDER_STYLE["NONE"]=0]="NONE";BORDER_STYLE[BORDER_STYLE["SOLID"]=1]="SOLID";})(BORDER_STYLE||(BORDER_STYLE={}));var borderStyleForSide=function(side){return({name:"border-"+side+"-style",initialValue:'solid',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(style){switch(style){case 'none':return BORDER_STYLE.NONE;}
return BORDER_STYLE.SOLID;}});};var borderTopStyle=borderStyleForSide('top');var borderRightStyle=borderStyleForSide('right');var borderBottomStyle=borderStyleForSide('bottom');var borderLeftStyle=borderStyleForSide('left');var borderWidthForSide=function(side){return({name:"border-"+side+"-width",initialValue:'0',type:PropertyDescriptorParsingType.VALUE,prefix:false,parse:function(token){if(isDimensionToken(token)){return token.number;}
return 0;}});};var borderTopWidth=borderWidthForSide('top');var borderRightWidth=borderWidthForSide('right');var borderBottomWidth=borderWidthForSide('bottom');var borderLeftWidth=borderWidthForSide('left');var color$1={name:"color",initialValue:'transparent',prefix:false,type:PropertyDescriptorParsingType.TYPE_VALUE,format:'color'};var display={name:'display',initialValue:'inline-block',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return tokens.filter(isIdentToken).reduce(function(bit,token){return bit|parseDisplayValue(token.value);},0);}};var parseDisplayValue=function(display){switch(display){case 'block':return 2;case 'inline':return 4;case 'run-in':return 8;case 'flow':return 16;case 'flow-root':return 32;case 'table':return 64;case 'flex':case '-webkit-flex':return 128;case 'grid':case '-ms-grid':return 256;case 'ruby':return 512;case 'subgrid':return 1024;case 'list-item':return 2048;case 'table-row-group':return 4096;case 'table-header-group':return 8192;case 'table-footer-group':return 16384;case 'table-row':return 32768;case 'table-cell':return 65536;case 'table-column-group':return 131072;case 'table-column':return 262144;case 'table-caption':return 524288;case 'ruby-base':return 1048576;case 'ruby-text':return 2097152;case 'ruby-base-container':return 4194304;case 'ruby-text-container':return 8388608;case 'contents':return 16777216;case 'inline-block':return 33554432;case 'inline-list-item':return 67108864;case 'inline-table':return 134217728;case 'inline-flex':return 268435456;case 'inline-grid':return 536870912;}
return 0;};var FLOAT;(function(FLOAT){FLOAT[FLOAT["NONE"]=0]="NONE";FLOAT[FLOAT["LEFT"]=1]="LEFT";FLOAT[FLOAT["RIGHT"]=2]="RIGHT";FLOAT[FLOAT["INLINE_START"]=3]="INLINE_START";FLOAT[FLOAT["INLINE_END"]=4]="INLINE_END";})(FLOAT||(FLOAT={}));var float={name:'float',initialValue:'none',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(float){switch(float){case 'left':return FLOAT.LEFT;case 'right':return FLOAT.RIGHT;case 'inline-start':return FLOAT.INLINE_START;case 'inline-end':return FLOAT.INLINE_END;}
return FLOAT.NONE;}};var letterSpacing={name:'letter-spacing',initialValue:'0',prefix:false,type:PropertyDescriptorParsingType.VALUE,parse:function(token){if(token.type===TokenType.IDENT_TOKEN&&token.value==='normal'){return 0;}
if(token.type===TokenType.NUMBER_TOKEN){return token.number;}
if(token.type===TokenType.DIMENSION_TOKEN){return token.number;}
return 0;}};var LINE_BREAK;(function(LINE_BREAK){LINE_BREAK["NORMAL"]="normal";LINE_BREAK["STRICT"]="strict";})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:'line-break',initialValue:'normal',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(lineBreak){switch(lineBreak){case 'strict':return LINE_BREAK.STRICT;case 'normal':default:return LINE_BREAK.NORMAL;}}};var lineHeight={name:'line-height',initialValue:'normal',prefix:false,type:PropertyDescriptorParsingType.TOKEN_VALUE};var computeLineHeight=function(token,fontSize){if(isIdentToken(token)&&token.value==='normal'){return 1.2*fontSize;}
else if(token.type===TokenType.NUMBER_TOKEN){return fontSize*token.number;}
else if(isLengthPercentage(token)){return getAbsoluteValue(token,fontSize);}
return fontSize;};var listStyleImage={name:'list-style-image',initialValue:'none',type:PropertyDescriptorParsingType.VALUE,prefix:false,parse:function(token){if(token.type===TokenType.IDENT_TOKEN&&token.value==='none'){return null;}
return image.parse(token);}};var LIST_STYLE_POSITION;(function(LIST_STYLE_POSITION){LIST_STYLE_POSITION[LIST_STYLE_POSITION["INSIDE"]=0]="INSIDE";LIST_STYLE_POSITION[LIST_STYLE_POSITION["OUTSIDE"]=1]="OUTSIDE";})(LIST_STYLE_POSITION||(LIST_STYLE_POSITION={}));var listStylePosition={name:'list-style-position',initialValue:'outside',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(position){switch(position){case 'inside':return LIST_STYLE_POSITION.INSIDE;case 'outside':default:return LIST_STYLE_POSITION.OUTSIDE;}}};var LIST_STYLE_TYPE;(function(LIST_STYLE_TYPE){LIST_STYLE_TYPE[LIST_STYLE_TYPE["NONE"]=-1]="NONE";LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISC"]=0]="DISC";LIST_STYLE_TYPE[LIST_STYLE_TYPE["CIRCLE"]=1]="CIRCLE";LIST_STYLE_TYPE[LIST_STYLE_TYPE["SQUARE"]=2]="SQUARE";LIST_STYLE_TYPE[LIST_STYLE_TYPE["DECIMAL"]=3]="DECIMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_DECIMAL"]=4]="CJK_DECIMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["DECIMAL_LEADING_ZERO"]=5]="DECIMAL_LEADING_ZERO";LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ROMAN"]=6]="LOWER_ROMAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ROMAN"]=7]="UPPER_ROMAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_GREEK"]=8]="LOWER_GREEK";LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ALPHA"]=9]="LOWER_ALPHA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ALPHA"]=10]="UPPER_ALPHA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["ARABIC_INDIC"]=11]="ARABIC_INDIC";LIST_STYLE_TYPE[LIST_STYLE_TYPE["ARMENIAN"]=12]="ARMENIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["BENGALI"]=13]="BENGALI";LIST_STYLE_TYPE[LIST_STYLE_TYPE["CAMBODIAN"]=14]="CAMBODIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_EARTHLY_BRANCH"]=15]="CJK_EARTHLY_BRANCH";LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_HEAVENLY_STEM"]=16]="CJK_HEAVENLY_STEM";LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_IDEOGRAPHIC"]=17]="CJK_IDEOGRAPHIC";LIST_STYLE_TYPE[LIST_STYLE_TYPE["DEVANAGARI"]=18]="DEVANAGARI";LIST_STYLE_TYPE[LIST_STYLE_TYPE["ETHIOPIC_NUMERIC"]=19]="ETHIOPIC_NUMERIC";LIST_STYLE_TYPE[LIST_STYLE_TYPE["GEORGIAN"]=20]="GEORGIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["GUJARATI"]=21]="GUJARATI";LIST_STYLE_TYPE[LIST_STYLE_TYPE["GURMUKHI"]=22]="GURMUKHI";LIST_STYLE_TYPE[LIST_STYLE_TYPE["HEBREW"]=22]="HEBREW";LIST_STYLE_TYPE[LIST_STYLE_TYPE["HIRAGANA"]=23]="HIRAGANA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["HIRAGANA_IROHA"]=24]="HIRAGANA_IROHA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["JAPANESE_FORMAL"]=25]="JAPANESE_FORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["JAPANESE_INFORMAL"]=26]="JAPANESE_INFORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KANNADA"]=27]="KANNADA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KATAKANA"]=28]="KATAKANA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KATAKANA_IROHA"]=29]="KATAKANA_IROHA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KHMER"]=30]="KHMER";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANGUL_FORMAL"]=31]="KOREAN_HANGUL_FORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANJA_FORMAL"]=32]="KOREAN_HANJA_FORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANJA_INFORMAL"]=33]="KOREAN_HANJA_INFORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["LAO"]=34]="LAO";LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ARMENIAN"]=35]="LOWER_ARMENIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["MALAYALAM"]=36]="MALAYALAM";LIST_STYLE_TYPE[LIST_STYLE_TYPE["MONGOLIAN"]=37]="MONGOLIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["MYANMAR"]=38]="MYANMAR";LIST_STYLE_TYPE[LIST_STYLE_TYPE["ORIYA"]=39]="ORIYA";LIST_STYLE_TYPE[LIST_STYLE_TYPE["PERSIAN"]=40]="PERSIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["SIMP_CHINESE_FORMAL"]=41]="SIMP_CHINESE_FORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["SIMP_CHINESE_INFORMAL"]=42]="SIMP_CHINESE_INFORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["TAMIL"]=43]="TAMIL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["TELUGU"]=44]="TELUGU";LIST_STYLE_TYPE[LIST_STYLE_TYPE["THAI"]=45]="THAI";LIST_STYLE_TYPE[LIST_STYLE_TYPE["TIBETAN"]=46]="TIBETAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["TRAD_CHINESE_FORMAL"]=47]="TRAD_CHINESE_FORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["TRAD_CHINESE_INFORMAL"]=48]="TRAD_CHINESE_INFORMAL";LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ARMENIAN"]=49]="UPPER_ARMENIAN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISCLOSURE_OPEN"]=50]="DISCLOSURE_OPEN";LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISCLOSURE_CLOSED"]=51]="DISCLOSURE_CLOSED";})(LIST_STYLE_TYPE||(LIST_STYLE_TYPE={}));var listStyleType={name:'list-style-type',initialValue:'none',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(type){switch(type){case 'disc':return LIST_STYLE_TYPE.DISC;case 'circle':return LIST_STYLE_TYPE.CIRCLE;case 'square':return LIST_STYLE_TYPE.SQUARE;case 'decimal':return LIST_STYLE_TYPE.DECIMAL;case 'cjk-decimal':return LIST_STYLE_TYPE.CJK_DECIMAL;case 'decimal-leading-zero':return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;case 'lower-roman':return LIST_STYLE_TYPE.LOWER_ROMAN;case 'upper-roman':return LIST_STYLE_TYPE.UPPER_ROMAN;case 'lower-greek':return LIST_STYLE_TYPE.LOWER_GREEK;case 'lower-alpha':return LIST_STYLE_TYPE.LOWER_ALPHA;case 'upper-alpha':return LIST_STYLE_TYPE.UPPER_ALPHA;case 'arabic-indic':return LIST_STYLE_TYPE.ARABIC_INDIC;case 'armenian':return LIST_STYLE_TYPE.ARMENIAN;case 'bengali':return LIST_STYLE_TYPE.BENGALI;case 'cambodian':return LIST_STYLE_TYPE.CAMBODIAN;case 'cjk-earthly-branch':return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;case 'cjk-heavenly-stem':return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;case 'cjk-ideographic':return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;case 'devanagari':return LIST_STYLE_TYPE.DEVANAGARI;case 'ethiopic-numeric':return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;case 'georgian':return LIST_STYLE_TYPE.GEORGIAN;case 'gujarati':return LIST_STYLE_TYPE.GUJARATI;case 'gurmukhi':return LIST_STYLE_TYPE.GURMUKHI;case 'hebrew':return LIST_STYLE_TYPE.HEBREW;case 'hiragana':return LIST_STYLE_TYPE.HIRAGANA;case 'hiragana-iroha':return LIST_STYLE_TYPE.HIRAGANA_IROHA;case 'japanese-formal':return LIST_STYLE_TYPE.JAPANESE_FORMAL;case 'japanese-informal':return LIST_STYLE_TYPE.JAPANESE_INFORMAL;case 'kannada':return LIST_STYLE_TYPE.KANNADA;case 'katakana':return LIST_STYLE_TYPE.KATAKANA;case 'katakana-iroha':return LIST_STYLE_TYPE.KATAKANA_IROHA;case 'khmer':return LIST_STYLE_TYPE.KHMER;case 'korean-hangul-formal':return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;case 'korean-hanja-formal':return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;case 'korean-hanja-informal':return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;case 'lao':return LIST_STYLE_TYPE.LAO;case 'lower-armenian':return LIST_STYLE_TYPE.LOWER_ARMENIAN;case 'malayalam':return LIST_STYLE_TYPE.MALAYALAM;case 'mongolian':return LIST_STYLE_TYPE.MONGOLIAN;case 'myanmar':return LIST_STYLE_TYPE.MYANMAR;case 'oriya':return LIST_STYLE_TYPE.ORIYA;case 'persian':return LIST_STYLE_TYPE.PERSIAN;case 'simp-chinese-formal':return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;case 'simp-chinese-informal':return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;case 'tamil':return LIST_STYLE_TYPE.TAMIL;case 'telugu':return LIST_STYLE_TYPE.TELUGU;case 'thai':return LIST_STYLE_TYPE.THAI;case 'tibetan':return LIST_STYLE_TYPE.TIBETAN;case 'trad-chinese-formal':return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;case 'trad-chinese-informal':return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;case 'upper-armenian':return LIST_STYLE_TYPE.UPPER_ARMENIAN;case 'disclosure-open':return LIST_STYLE_TYPE.DISCLOSURE_OPEN;case 'disclosure-closed':return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;case 'none':default:return LIST_STYLE_TYPE.NONE;}}};var marginForSide=function(side){return({name:"margin-"+side,initialValue:'0',prefix:false,type:PropertyDescriptorParsingType.TOKEN_VALUE});};var marginTop=marginForSide('top');var marginRight=marginForSide('right');var marginBottom=marginForSide('bottom');var marginLeft=marginForSide('left');var OVERFLOW;(function(OVERFLOW){OVERFLOW[OVERFLOW["VISIBLE"]=0]="VISIBLE";OVERFLOW[OVERFLOW["HIDDEN"]=1]="HIDDEN";OVERFLOW[OVERFLOW["SCROLL"]=2]="SCROLL";OVERFLOW[OVERFLOW["AUTO"]=3]="AUTO";})(OVERFLOW||(OVERFLOW={}));var overflow={name:'overflow',initialValue:'visible',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return tokens.filter(isIdentToken).map(function(overflow){switch(overflow.value){case 'hidden':return OVERFLOW.HIDDEN;case 'scroll':return OVERFLOW.SCROLL;case 'auto':return OVERFLOW.AUTO;case 'visible':default:return OVERFLOW.VISIBLE;}});}};var OVERFLOW_WRAP;(function(OVERFLOW_WRAP){OVERFLOW_WRAP["NORMAL"]="normal";OVERFLOW_WRAP["BREAK_WORD"]="break-word";})(OVERFLOW_WRAP||(OVERFLOW_WRAP={}));var overflowWrap={name:'overflow-wrap',initialValue:'normal',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(overflow){switch(overflow){case 'break-word':return OVERFLOW_WRAP.BREAK_WORD;case 'normal':default:return OVERFLOW_WRAP.NORMAL;}}};var paddingForSide=function(side){return({name:"padding-"+side,initialValue:'0',prefix:false,type:PropertyDescriptorParsingType.TYPE_VALUE,format:'length-percentage'});};var paddingTop=paddingForSide('top');var paddingRight=paddingForSide('right');var paddingBottom=paddingForSide('bottom');var paddingLeft=paddingForSide('left');var TEXT_ALIGN;(function(TEXT_ALIGN){TEXT_ALIGN[TEXT_ALIGN["LEFT"]=0]="LEFT";TEXT_ALIGN[TEXT_ALIGN["CENTER"]=1]="CENTER";TEXT_ALIGN[TEXT_ALIGN["RIGHT"]=2]="RIGHT";})(TEXT_ALIGN||(TEXT_ALIGN={}));var textAlign={name:'text-align',initialValue:'left',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(textAlign){switch(textAlign){case 'right':return TEXT_ALIGN.RIGHT;case 'center':case 'justify':return TEXT_ALIGN.CENTER;case 'left':default:return TEXT_ALIGN.LEFT;}}};var POSITION;(function(POSITION){POSITION[POSITION["STATIC"]=0]="STATIC";POSITION[POSITION["RELATIVE"]=1]="RELATIVE";POSITION[POSITION["ABSOLUTE"]=2]="ABSOLUTE";POSITION[POSITION["FIXED"]=3]="FIXED";POSITION[POSITION["STICKY"]=4]="STICKY";})(POSITION||(POSITION={}));var position={name:'position',initialValue:'static',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(position){switch(position){case 'relative':return POSITION.RELATIVE;case 'absolute':return POSITION.ABSOLUTE;case 'fixed':return POSITION.FIXED;case 'sticky':return POSITION.STICKY;}
return POSITION.STATIC;}};var textShadow={name:'text-shadow',initialValue:'none',type:PropertyDescriptorParsingType.LIST,prefix:false,parse:function(tokens){if(tokens.length===1&&isIdentWithValue(tokens[0],'none')){return[];}
return parseFunctionArgs(tokens).map(function(values){var shadow={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH};var c=0;for(var i=0;i<values.length;i++){var token=values[i];if(isLength(token)){if(c===0){shadow.offsetX=token;}
else if(c===1){shadow.offsetY=token;}
else{shadow.blur=token;}
c++;}
else{shadow.color=color.parse(token);}}
return shadow;});}};var TEXT_TRANSFORM;(function(TEXT_TRANSFORM){TEXT_TRANSFORM[TEXT_TRANSFORM["NONE"]=0]="NONE";TEXT_TRANSFORM[TEXT_TRANSFORM["LOWERCASE"]=1]="LOWERCASE";TEXT_TRANSFORM[TEXT_TRANSFORM["UPPERCASE"]=2]="UPPERCASE";TEXT_TRANSFORM[TEXT_TRANSFORM["CAPITALIZE"]=3]="CAPITALIZE";})(TEXT_TRANSFORM||(TEXT_TRANSFORM={}));var textTransform={name:'text-transform',initialValue:'none',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(textTransform){switch(textTransform){case 'uppercase':return TEXT_TRANSFORM.UPPERCASE;case 'lowercase':return TEXT_TRANSFORM.LOWERCASE;case 'capitalize':return TEXT_TRANSFORM.CAPITALIZE;}
return TEXT_TRANSFORM.NONE;}};var transform={name:'transform',initialValue:'none',prefix:true,type:PropertyDescriptorParsingType.VALUE,parse:function(token){if(token.type===TokenType.IDENT_TOKEN&&token.value==='none'){return null;}
if(token.type===TokenType.FUNCTION){var transformFunction=SUPPORTED_TRANSFORM_FUNCTIONS[token.name];if(typeof transformFunction==='undefined'){throw new Error("Attempting to parse an unsupported transform function \""+token.name+"\"");}
return transformFunction(token.values);}
return null;}};var matrix=function(args){var values=args.filter(function(arg){return arg.type===TokenType.NUMBER_TOKEN;}).map(function(arg){return arg.number;});return values.length===6?values:null;};var matrix3d=function(args){var values=args.filter(function(arg){return arg.type===TokenType.NUMBER_TOKEN;}).map(function(arg){return arg.number;});var a1=values[0],b1=values[1],_a=values[2],_b=values[3],a2=values[4],b2=values[5],_c=values[6],_d=values[7],_e=values[8],_f=values[9],_g=values[10],_h=values[11],a4=values[12],b4=values[13],_j=values[14],_k=values[15];return values.length===16?[a1,b1,a2,b2,a4,b4]:null;};var SUPPORTED_TRANSFORM_FUNCTIONS={matrix:matrix,matrix3d:matrix3d};var DEFAULT_VALUE={type:TokenType.PERCENTAGE_TOKEN,number:50,flags:FLAG_INTEGER};var DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE];var transformOrigin={name:'transform-origin',initialValue:'50% 50%',prefix:true,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){var origins=tokens.filter(isLengthPercentage);if(origins.length!==2){return DEFAULT;}
return[origins[0],origins[1]];}};var VISIBILITY;(function(VISIBILITY){VISIBILITY[VISIBILITY["VISIBLE"]=0]="VISIBLE";VISIBILITY[VISIBILITY["HIDDEN"]=1]="HIDDEN";VISIBILITY[VISIBILITY["COLLAPSE"]=2]="COLLAPSE";})(VISIBILITY||(VISIBILITY={}));var visibility={name:'visible',initialValue:'none',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(visibility){switch(visibility){case 'hidden':return VISIBILITY.HIDDEN;case 'collapse':return VISIBILITY.COLLAPSE;case 'visible':default:return VISIBILITY.VISIBLE;}}};var WORD_BREAK;(function(WORD_BREAK){WORD_BREAK["NORMAL"]="normal";WORD_BREAK["BREAK_ALL"]="break-all";WORD_BREAK["KEEP_ALL"]="keep-all";})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:'word-break',initialValue:'normal',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(wordBreak){switch(wordBreak){case 'break-all':return WORD_BREAK.BREAK_ALL;case 'keep-all':return WORD_BREAK.KEEP_ALL;case 'normal':default:return WORD_BREAK.NORMAL;}}};var zIndex={name:'z-index',initialValue:'auto',prefix:false,type:PropertyDescriptorParsingType.VALUE,parse:function(token){if(token.type===TokenType.IDENT_TOKEN){return{auto:true,order:0};}
if(isNumberToken(token)){return{auto:false,order:token.number};}
throw new Error("Invalid z-index number parsed");}};var opacity={name:'opacity',initialValue:'1',type:PropertyDescriptorParsingType.VALUE,prefix:false,parse:function(token){if(isNumberToken(token)){return token.number;}
return 1;}};var textDecorationColor={name:"text-decoration-color",initialValue:'transparent',prefix:false,type:PropertyDescriptorParsingType.TYPE_VALUE,format:'color'};var textDecorationLine={name:'text-decoration-line',initialValue:'none',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return tokens.filter(isIdentToken).map(function(token){switch(token.value){case 'underline':return 1;case 'overline':return 2;case 'line-through':return 3;case 'none':return 4;}
return 0;}).filter(function(line){return line!==0;});}};var fontFamily={name:"font-family",initialValue:'',prefix:false,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){return tokens.filter(isStringToken$1).map(function(token){return token.value;});}};var isStringToken$1=function(token){return token.type===TokenType.STRING_TOKEN||token.type===TokenType.IDENT_TOKEN;};var fontSize={name:"font-size",initialValue:'0',prefix:false,type:PropertyDescriptorParsingType.TYPE_VALUE,format:'length'};var fontWeight={name:'font-weight',initialValue:'normal',type:PropertyDescriptorParsingType.VALUE,prefix:false,parse:function(token){if(isNumberToken(token)){return token.number;}
if(isIdentToken(token)){switch(token.value){case 'bold':return 700;case 'normal':default:return 400;}}
return 400;}};var fontVariant={name:'font-variant',initialValue:'none',type:PropertyDescriptorParsingType.LIST,prefix:false,parse:function(tokens){return tokens.filter(isIdentToken).map(function(token){return token.value;});}};var FONT_STYLE;(function(FONT_STYLE){FONT_STYLE["NORMAL"]="normal";FONT_STYLE["ITALIC"]="italic";FONT_STYLE["OBLIQUE"]="oblique";})(FONT_STYLE||(FONT_STYLE={}));var fontStyle={name:'font-style',initialValue:'normal',prefix:false,type:PropertyDescriptorParsingType.IDENT_VALUE,parse:function(overflow){switch(overflow){case 'oblique':return FONT_STYLE.OBLIQUE;case 'italic':return FONT_STYLE.ITALIC;case 'normal':default:return FONT_STYLE.NORMAL;}}};var contains=function(bit,value){return(bit&value)!==0;};var content={name:'content',initialValue:'none',type:PropertyDescriptorParsingType.LIST,prefix:false,parse:function(tokens){if(tokens.length===0){return[];}
var first=tokens[0];if(first.type===TokenType.IDENT_TOKEN&&first.value==='none'){return[];}
return tokens;}};var counterIncrement={name:'counter-increment',initialValue:'none',prefix:true,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){if(tokens.length===0){return null;}
var first=tokens[0];if(first.type===TokenType.IDENT_TOKEN&&first.value==='none'){return null;}
var increments=[];var filtered=tokens.filter(nonWhiteSpace);for(var i=0;i<filtered.length;i++){var counter=filtered[i];var next=filtered[i+1];if(counter.type===TokenType.IDENT_TOKEN){var increment=next&&isNumberToken(next)?next.number:1;increments.push({counter:counter.value,increment:increment});}}
return increments;}};var counterReset={name:'counter-reset',initialValue:'none',prefix:true,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){if(tokens.length===0){return[];}
var resets=[];var filtered=tokens.filter(nonWhiteSpace);for(var i=0;i<filtered.length;i++){var counter=filtered[i];var next=filtered[i+1];if(isIdentToken(counter)&&counter.value!=='none'){var reset=next&&isNumberToken(next)?next.number:0;resets.push({counter:counter.value,reset:reset});}}
return resets;}};var quotes={name:'quotes',initialValue:'none',prefix:true,type:PropertyDescriptorParsingType.LIST,parse:function(tokens){if(tokens.length===0){return null;}
var first=tokens[0];if(first.type===TokenType.IDENT_TOKEN&&first.value==='none'){return null;}
var quotes=[];var filtered=tokens.filter(isStringToken);if(filtered.length%2!==0){return null;}
for(var i=0;i<filtered.length;i+=2){var open_1=filtered[i].value;var close_1=filtered[i+1].value;quotes.push({open:open_1,close:close_1});}
return quotes;}};var getQuote=function(quotes,depth,open){if(!quotes){return '';}
var quote=quotes[Math.min(depth,quotes.length-1)];if(!quote){return '';}
return open?quote.open:quote.close;};var boxShadow={name:'box-shadow',initialValue:'none',type:PropertyDescriptorParsingType.LIST,prefix:false,parse:function(tokens){if(tokens.length===1&&isIdentWithValue(tokens[0],'none')){return[];}
return parseFunctionArgs(tokens).map(function(values){var shadow={color:0x000000ff,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:false};var c=0;for(var i=0;i<values.length;i++){var token=values[i];if(isIdentWithValue(token,'inset')){shadow.inset=true;}
else if(isLength(token)){if(c===0){shadow.offsetX=token;}
else if(c===1){shadow.offsetY=token;}
else if(c===2){shadow.blur=token;}
else{shadow.spread=token;}
c++;}
else{shadow.color=color.parse(token);}}
return shadow;});}};var CSSParsedDeclaration=(function(){function CSSParsedDeclaration(declaration){this.backgroundClip=parse(backgroundClip,declaration.backgroundClip);this.backgroundColor=parse(backgroundColor,declaration.backgroundColor);this.backgroundImage=parse(backgroundImage,declaration.backgroundImage);this.backgroundOrigin=parse(backgroundOrigin,declaration.backgroundOrigin);this.backgroundPosition=parse(backgroundPosition,declaration.backgroundPosition);this.backgroundRepeat=parse(backgroundRepeat,declaration.backgroundRepeat);this.backgroundSize=parse(backgroundSize,declaration.backgroundSize);this.borderTopColor=parse(borderTopColor,declaration.borderTopColor);this.borderRightColor=parse(borderRightColor,declaration.borderRightColor);this.borderBottomColor=parse(borderBottomColor,declaration.borderBottomColor);this.borderLeftColor=parse(borderLeftColor,declaration.borderLeftColor);this.borderTopLeftRadius=parse(borderTopLeftRadius,declaration.borderTopLeftRadius);this.borderTopRightRadius=parse(borderTopRightRadius,declaration.borderTopRightRadius);this.borderBottomRightRadius=parse(borderBottomRightRadius,declaration.borderBottomRightRadius);this.borderBottomLeftRadius=parse(borderBottomLeftRadius,declaration.borderBottomLeftRadius);this.borderTopStyle=parse(borderTopStyle,declaration.borderTopStyle);this.borderRightStyle=parse(borderRightStyle,declaration.borderRightStyle);this.borderBottomStyle=parse(borderBottomStyle,declaration.borderBottomStyle);this.borderLeftStyle=parse(borderLeftStyle,declaration.borderLeftStyle);this.borderTopWidth=parse(borderTopWidth,declaration.borderTopWidth);this.borderRightWidth=parse(borderRightWidth,declaration.borderRightWidth);this.borderBottomWidth=parse(borderBottomWidth,declaration.borderBottomWidth);this.borderLeftWidth=parse(borderLeftWidth,declaration.borderLeftWidth);this.boxShadow=parse(boxShadow,declaration.boxShadow);this.color=parse(color$1,declaration.color);this.display=parse(display,declaration.display);this.float=parse(float,declaration.cssFloat);this.fontFamily=parse(fontFamily,declaration.fontFamily);this.fontSize=parse(fontSize,declaration.fontSize);this.fontStyle=parse(fontStyle,declaration.fontStyle);this.fontVariant=parse(fontVariant,declaration.fontVariant);this.fontWeight=parse(fontWeight,declaration.fontWeight);this.letterSpacing=parse(letterSpacing,declaration.letterSpacing);this.lineBreak=parse(lineBreak,declaration.lineBreak);this.lineHeight=parse(lineHeight,declaration.lineHeight);this.listStyleImage=parse(listStyleImage,declaration.listStyleImage);this.listStylePosition=parse(listStylePosition,declaration.listStylePosition);this.listStyleType=parse(listStyleType,declaration.listStyleType);this.marginTop=parse(marginTop,declaration.marginTop);this.marginRight=parse(marginRight,declaration.marginRight);this.marginBottom=parse(marginBottom,declaration.marginBottom);this.marginLeft=parse(marginLeft,declaration.marginLeft);this.opacity=parse(opacity,declaration.opacity);var overflowTuple=parse(overflow,declaration.overflow);this.overflowX=overflowTuple[0];this.overflowY=overflowTuple[overflowTuple.length>1?1:0];this.overflowWrap=parse(overflowWrap,declaration.overflowWrap);this.paddingTop=parse(paddingTop,declaration.paddingTop);this.paddingRight=parse(paddingRight,declaration.paddingRight);this.paddingBottom=parse(paddingBottom,declaration.paddingBottom);this.paddingLeft=parse(paddingLeft,declaration.paddingLeft);this.position=parse(position,declaration.position);this.textAlign=parse(textAlign,declaration.textAlign);this.textDecorationColor=parse(textDecorationColor,declaration.textDecorationColor||declaration.color);this.textDecorationLine=parse(textDecorationLine,declaration.textDecorationLine);this.textShadow=parse(textShadow,declaration.textShadow);this.textTransform=parse(textTransform,declaration.textTransform);this.transform=parse(transform,declaration.transform);this.transformOrigin=parse(transformOrigin,declaration.transformOrigin);this.visibility=parse(visibility,declaration.visibility);this.wordBreak=parse(wordBreak,declaration.wordBreak);this.zIndex=parse(zIndex,declaration.zIndex);}
CSSParsedDeclaration.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===VISIBILITY.VISIBLE;};CSSParsedDeclaration.prototype.isTransparent=function(){return isTransparent(this.backgroundColor);};CSSParsedDeclaration.prototype.isTransformed=function(){return this.transform!==null;};CSSParsedDeclaration.prototype.isPositioned=function(){return this.position!==POSITION.STATIC;};CSSParsedDeclaration.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto;};CSSParsedDeclaration.prototype.isFloating=function(){return this.float!==FLOAT.NONE;};CSSParsedDeclaration.prototype.isInlineLevel=function(){return(contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728));};return CSSParsedDeclaration;}());var CSSParsedPseudoDeclaration=(function(){function CSSParsedPseudoDeclaration(declaration){this.content=parse(content,declaration.content);this.quotes=parse(quotes,declaration.quotes);}
return CSSParsedPseudoDeclaration;}());var CSSParsedCounterDeclaration=(function(){function CSSParsedCounterDeclaration(declaration){this.counterIncrement=parse(counterIncrement,declaration.counterIncrement);this.counterReset=parse(counterReset,declaration.counterReset);}
return CSSParsedCounterDeclaration;}());var parse=function(descriptor,style){var tokenizer=new Tokenizer();var value=style!==null&&typeof style!=='undefined'?style.toString():descriptor.initialValue;tokenizer.write(value);var parser=new Parser(tokenizer.read());switch(descriptor.type){case PropertyDescriptorParsingType.IDENT_VALUE:var token=parser.parseComponentValue();return descriptor.parse(isIdentToken(token)?token.value:descriptor.initialValue);case PropertyDescriptorParsingType.VALUE:return descriptor.parse(parser.parseComponentValue());case PropertyDescriptorParsingType.LIST:return descriptor.parse(parser.parseComponentValues());case PropertyDescriptorParsingType.TOKEN_VALUE:return parser.parseComponentValue();case PropertyDescriptorParsingType.TYPE_VALUE:switch(descriptor.format){case 'angle':return angle.parse(parser.parseComponentValue());case 'color':return color.parse(parser.parseComponentValue());case 'image':return image.parse(parser.parseComponentValue());case 'length':var length_1=parser.parseComponentValue();return isLength(length_1)?length_1:ZERO_LENGTH;case 'length-percentage':var value_1=parser.parseComponentValue();return isLengthPercentage(value_1)?value_1:ZERO_LENGTH;}}
throw new Error("Attempting to parse unsupported css format type "+descriptor.format);};var ElementContainer=(function(){function ElementContainer(element){this.styles=new CSSParsedDeclaration(window.getComputedStyle(element,null));this.textNodes=[];this.elements=[];if(this.styles.transform!==null&&isHTMLElementNode(element)){element.style.transform='none';}
this.bounds=parseBounds(element);this.flags=0;}
return ElementContainer;}());var TextBounds=(function(){function TextBounds(text,bounds){this.text=text;this.bounds=bounds;}
return TextBounds;}());var parseTextBounds=function(value,styles,node){var textList=breakText(value,styles);var textBounds=[];var offset=0;textList.forEach(function(text){if(styles.textDecorationLine.length||text.trim().length>0){if(FEATURES.SUPPORT_RANGE_BOUNDS){textBounds.push(new TextBounds(text,getRangeBounds(node,offset,text.length)));}
else{var replacementNode=node.splitText(text.length);textBounds.push(new TextBounds(text,getWrapperBounds(node)));node=replacementNode;}}
else if(!FEATURES.SUPPORT_RANGE_BOUNDS){node=node.splitText(text.length);}
offset+=text.length;});return textBounds;};var getWrapperBounds=function(node){var ownerDocument=node.ownerDocument;if(ownerDocument){var wrapper=ownerDocument.createElement('html2canvaswrapper');wrapper.appendChild(node.cloneNode(true));var parentNode=node.parentNode;if(parentNode){parentNode.replaceChild(wrapper,node);var bounds=parseBounds(wrapper);if(wrapper.firstChild){parentNode.replaceChild(wrapper.firstChild,wrapper);}
return bounds;}}
return new Bounds(0,0,0,0);};var getRangeBounds=function(node,offset,length){var ownerDocument=node.ownerDocument;if(!ownerDocument){throw new Error('Node has no owner document');}
var range=ownerDocument.createRange();range.setStart(node,offset);range.setEnd(node,offset+length);return Bounds.fromClientRect(range.getBoundingClientRect());};var breakText=function(value,styles){return styles.letterSpacing!==0?toCodePoints(value).map(function(i){return fromCodePoint(i);}):breakWords(value,styles);};var breakWords=function(str,styles){var breaker=LineBreaker(str,{lineBreak:styles.lineBreak,wordBreak:styles.overflowWrap===OVERFLOW_WRAP.BREAK_WORD?'break-word':styles.wordBreak});var words=[];var bk;while(!(bk=breaker.next()).done){if(bk.value){words.push(bk.value.slice());}}
return words;};var TextContainer=(function(){function TextContainer(node,styles){this.text=transform$1(node.data,styles.textTransform);this.textBounds=parseTextBounds(this.text,styles,node);}
return TextContainer;}());var transform$1=function(text,transform){switch(transform){case TEXT_TRANSFORM.LOWERCASE:return text.toLowerCase();case TEXT_TRANSFORM.CAPITALIZE:return text.replace(CAPITALIZE,capitalize);case TEXT_TRANSFORM.UPPERCASE:return text.toUpperCase();default:return text;}};var CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g;var capitalize=function(m,p1,p2){if(m.length>0){return p1+p2.toUpperCase();}
return m;};var ImageElementContainer=(function(_super){__extends(ImageElementContainer,_super);function ImageElementContainer(img){var _this=_super.call(this,img)||this;_this.src=img.currentSrc||img.src;_this.intrinsicWidth=img.naturalWidth;_this.intrinsicHeight=img.naturalHeight;CacheStorage.getInstance().addImage(_this.src);return _this;}
return ImageElementContainer;}(ElementContainer));var CanvasElementContainer=(function(_super){__extends(CanvasElementContainer,_super);function CanvasElementContainer(canvas){var _this=_super.call(this,canvas)||this;_this.canvas=canvas;_this.intrinsicWidth=canvas.width;_this.intrinsicHeight=canvas.height;return _this;}
return CanvasElementContainer;}(ElementContainer));var SVGElementContainer=(function(_super){__extends(SVGElementContainer,_super);function SVGElementContainer(img){var _this=_super.call(this,img)||this;var s=new XMLSerializer();_this.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(img));_this.intrinsicWidth=img.width.baseVal.value;_this.intrinsicHeight=img.height.baseVal.value;CacheStorage.getInstance().addImage(_this.svg);return _this;}
return SVGElementContainer;}(ElementContainer));var LIElementContainer=(function(_super){__extends(LIElementContainer,_super);function LIElementContainer(element){var _this=_super.call(this,element)||this;_this.value=element.value;return _this;}
return LIElementContainer;}(ElementContainer));var OLElementContainer=(function(_super){__extends(OLElementContainer,_super);function OLElementContainer(element){var _this=_super.call(this,element)||this;_this.start=element.start;_this.reversed=typeof element.reversed==='boolean'&&element.reversed===true;return _this;}
return OLElementContainer;}(ElementContainer));var CHECKBOX_BORDER_RADIUS=[{type:TokenType.DIMENSION_TOKEN,flags:0,unit:'px',number:3}];var RADIO_BORDER_RADIUS=[{type:TokenType.PERCENTAGE_TOKEN,flags:0,number:50}];var reformatInputBounds=function(bounds){if(bounds.width>bounds.height){return new Bounds(bounds.left+(bounds.width-bounds.height)/2,bounds.top,bounds.height,bounds.height);}
else if(bounds.width<bounds.height){return new Bounds(bounds.left,bounds.top+(bounds.height-bounds.width)/2,bounds.width,bounds.width);}
return bounds;};var getInputValue=function(node){var value=node.type===PASSWORD?new Array(node.value.length+1).join('\u2022'):node.value;return value.length===0?node.placeholder||'':value;};var CHECKBOX='checkbox';var RADIO='radio';var PASSWORD='password';var INPUT_COLOR=0x2a2a2aff;var InputElementContainer=(function(_super){__extends(InputElementContainer,_super);function InputElementContainer(input){var _this=_super.call(this,input)||this;_this.type=input.type.toLowerCase();_this.checked=input.checked;_this.value=getInputValue(input);if(_this.type===CHECKBOX||_this.type===RADIO){_this.styles.backgroundColor=0xdededeff;_this.styles.borderTopColor=_this.styles.borderRightColor=_this.styles.borderBottomColor=_this.styles.borderLeftColor=0xa5a5a5ff;_this.styles.borderTopWidth=_this.styles.borderRightWidth=_this.styles.borderBottomWidth=_this.styles.borderLeftWidth=1;_this.styles.borderTopStyle=_this.styles.borderRightStyle=_this.styles.borderBottomStyle=_this.styles.borderLeftStyle=BORDER_STYLE.SOLID;_this.styles.backgroundClip=[BACKGROUND_CLIP.BORDER_BOX];_this.styles.backgroundOrigin=[0];_this.bounds=reformatInputBounds(_this.bounds);}
switch(_this.type){case CHECKBOX:_this.styles.borderTopRightRadius=_this.styles.borderTopLeftRadius=_this.styles.borderBottomRightRadius=_this.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:_this.styles.borderTopRightRadius=_this.styles.borderTopLeftRadius=_this.styles.borderBottomRightRadius=_this.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break;}
return _this;}
return InputElementContainer;}(ElementContainer));var SelectElementContainer=(function(_super){__extends(SelectElementContainer,_super);function SelectElementContainer(element){var _this=_super.call(this,element)||this;var option=element.options[element.selectedIndex||0];_this.value=option?option.text||'':'';return _this;}
return SelectElementContainer;}(ElementContainer));var TextareaElementContainer=(function(_super){__extends(TextareaElementContainer,_super);function TextareaElementContainer(element){var _this=_super.call(this,element)||this;_this.value=element.value;return _this;}
return TextareaElementContainer;}(ElementContainer));var parseColor=function(value){return color.parse(Parser.create(value).parseComponentValue());};var IFrameElementContainer=(function(_super){__extends(IFrameElementContainer,_super);function IFrameElementContainer(iframe){var _this=_super.call(this,iframe)||this;_this.src=iframe.src;_this.width=parseInt(iframe.width,10)||0;_this.height=parseInt(iframe.height,10)||0;_this.backgroundColor=_this.styles.backgroundColor;try{if(iframe.contentWindow&&iframe.contentWindow.document&&iframe.contentWindow.document.documentElement){_this.tree=parseTree(iframe.contentWindow.document.documentElement);var documentBackgroundColor=iframe.contentWindow.document.documentElement?parseColor(getComputedStyle(iframe.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT;var bodyBackgroundColor=iframe.contentWindow.document.body?parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;_this.backgroundColor=isTransparent(documentBackgroundColor)?isTransparent(bodyBackgroundColor)?_this.styles.backgroundColor:bodyBackgroundColor:documentBackgroundColor;}}
catch(e){}
return _this;}
return IFrameElementContainer;}(ElementContainer));var LIST_OWNERS=['OL','UL','MENU'];var parseNodeTree=function(node,parent,root){for(var childNode=node.firstChild,nextNode=void 0;childNode;childNode=nextNode){nextNode=childNode.nextSibling;if(isTextNode(childNode)&&childNode.data.trim().length>0){parent.textNodes.push(new TextContainer(childNode,parent.styles));}
else if(isElementNode(childNode)){var container=createContainer(childNode);if(container.styles.isVisible()){if(createsRealStackingContext(childNode,container,root)){container.flags|=4;}
else if(createsStackingContext(container.styles)){container.flags|=2;}
if(LIST_OWNERS.indexOf(childNode.tagName)!==-1){container.flags|=8;}
parent.elements.push(container);if(!isTextareaElement(childNode)&&!isSVGElement(childNode)&&!isSelectElement(childNode)){parseNodeTree(childNode,container,root);}}}}};var createContainer=function(element){if(isImageElement(element)){return new ImageElementContainer(element);}
if(isCanvasElement(element)){return new CanvasElementContainer(element);}
if(isSVGElement(element)){return new SVGElementContainer(element);}
if(isLIElement(element)){return new LIElementContainer(element);}
if(isOLElement(element)){return new OLElementContainer(element);}
if(isInputElement(element)){return new InputElementContainer(element);}
if(isSelectElement(element)){return new SelectElementContainer(element);}
if(isTextareaElement(element)){return new TextareaElementContainer(element);}
if(isIFrameElement(element)){return new IFrameElementContainer(element);}
return new ElementContainer(element);};var parseTree=function(element){var container=createContainer(element);container.flags|=4;parseNodeTree(element,container,container);return container;};var createsRealStackingContext=function(node,container,root){return(container.styles.isPositionedWithZIndex()||container.styles.opacity<1||container.styles.isTransformed()||(isBodyElement(node)&&root.styles.isTransparent()));};var createsStackingContext=function(styles){return styles.isPositioned()||styles.isFloating();};var isTextNode=function(node){return node.nodeType===Node.TEXT_NODE;};var isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE;};var isHTMLElementNode=function(node){return typeof node.style!=='undefined';};var isLIElement=function(node){return node.tagName==='LI';};var isOLElement=function(node){return node.tagName==='OL';};var isInputElement=function(node){return node.tagName==='INPUT';};var isHTMLElement=function(node){return node.tagName==='HTML';};var isSVGElement=function(node){return node.tagName==='svg';};var isBodyElement=function(node){return node.tagName==='BODY';};var isCanvasElement=function(node){return node.tagName==='CANVAS';};var isImageElement=function(node){return node.tagName==='IMG';};var isIFrameElement=function(node){return node.tagName==='IFRAME';};var isStyleElement=function(node){return node.tagName==='STYLE';};var isScriptElement=function(node){return node.tagName==='SCRIPT';};var isTextareaElement=function(node){return node.tagName==='TEXTAREA';};var isSelectElement=function(node){return node.tagName==='SELECT';};var CounterState=(function(){function CounterState(){this.counters={};}
CounterState.prototype.getCounterValue=function(name){var counter=this.counters[name];if(counter&&counter.length){return counter[counter.length-1];}
return 1;};CounterState.prototype.getCounterValues=function(name){var counter=this.counters[name];return counter?counter:[];};CounterState.prototype.pop=function(counters){var _this=this;counters.forEach(function(counter){return _this.counters[counter].pop();});};CounterState.prototype.parse=function(style){var _this=this;var counterIncrement=style.counterIncrement;var counterReset=style.counterReset;var canReset=true;if(counterIncrement!==null){counterIncrement.forEach(function(entry){var counter=_this.counters[entry.counter];if(counter&&entry.increment!==0){canReset=false;counter[Math.max(0,counter.length-1)]+=entry.increment;}});}
var counterNames=[];if(canReset){counterReset.forEach(function(entry){var counter=_this.counters[entry.counter];counterNames.push(entry.counter);if(!counter){counter=_this.counters[entry.counter]=[];}
counter.push(entry.reset);});}
return counterNames;};return CounterState;}());var ROMAN_UPPER={integers:[1000,900,500,400,100,90,50,40,10,9,5,4,1],values:['M','CM','D','CD','C','XC','L','XL','X','IX','V','IV','I']};var ARMENIAN={integers:[9000,8000,7000,6000,5000,4000,3000,2000,1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:['','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','']};var HEBREW={integers:[10000,9000,8000,7000,6000,5000,4000,3000,2000,1000,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:['','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','']};var GEORGIAN={integers:[10000,9000,8000,7000,6000,5000,4000,3000,2000,1000,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:['','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','','']};var createAdditiveCounter=function(value,min,max,symbols,fallback,suffix){if(value<min||value>max){return createCounterText(value,fallback,suffix.length>0);}
return(symbols.integers.reduce(function(string,integer,index){while(value>=integer){value-=integer;string+=symbols.values[index];}
return string;},'')+suffix);};var createCounterStyleWithSymbolResolver=function(value,codePointRangeLength,isNumeric,resolver){var string='';do{if(!isNumeric){value--;}
string=resolver(value)+string;value/=codePointRangeLength;}while(value*codePointRangeLength>=codePointRangeLength);return string;};var createCounterStyleFromRange=function(value,codePointRangeStart,codePointRangeEnd,isNumeric,suffix){var codePointRangeLength=codePointRangeEnd-codePointRangeStart+1;return((value<0?'-':'')+
(createCounterStyleWithSymbolResolver(Math.abs(value),codePointRangeLength,isNumeric,function(codePoint){return fromCodePoint(Math.floor(codePoint%codePointRangeLength)+codePointRangeStart);})+
suffix));};var createCounterStyleFromSymbols=function(value,symbols,suffix){if(suffix===void 0){suffix='. ';}
var codePointRangeLength=symbols.length;return(createCounterStyleWithSymbolResolver(Math.abs(value),codePointRangeLength,false,function(codePoint){return symbols[Math.floor(codePoint%codePointRangeLength)];})+suffix);};var CJK_ZEROS=1<<0;var CJK_TEN_COEFFICIENTS=1<<1;var CJK_TEN_HIGH_COEFFICIENTS=1<<2;var CJK_HUNDRED_COEFFICIENTS=1<<3;var createCJKCounter=function(value,numbers,multipliers,negativeSign,suffix,flags){if(value<-9999||value>9999){return createCounterText(value,LIST_STYLE_TYPE.CJK_DECIMAL,suffix.length>0);}
var tmp=Math.abs(value);var string=suffix;if(tmp===0){return numbers[0]+string;}
for(var digit=0;tmp>0&&digit<=4;digit++){var coefficient=tmp%10;if(coefficient===0&&contains(flags,CJK_ZEROS)&&string!==''){string=numbers[coefficient]+string;}
else if(coefficient>1||(coefficient===1&&digit===0)||(coefficient===1&&digit===1&&contains(flags,CJK_TEN_COEFFICIENTS))||(coefficient===1&&digit===1&&contains(flags,CJK_TEN_HIGH_COEFFICIENTS)&&value>100)||(coefficient===1&&digit>1&&contains(flags,CJK_HUNDRED_COEFFICIENTS))){string=numbers[coefficient]+(digit>0?multipliers[digit-1]:'')+string;}
else if(coefficient===1&&digit>0){string=multipliers[digit-1]+string;}
tmp=Math.floor(tmp/10);}
return(value<0?negativeSign:'')+string;};var CHINESE_INFORMAL_MULTIPLIERS='';var CHINESE_FORMAL_MULTIPLIERS='';var JAPANESE_NEGATIVE='';var KOREAN_NEGATIVE='';var createCounterText=function(value,type,appendSuffix){var defaultSuffix=appendSuffix?'. ':'';var cjkSuffix=appendSuffix?'':'';var koreanSuffix=appendSuffix?', ':'';var spaceSuffix=appendSuffix?' ':'';switch(type){case LIST_STYLE_TYPE.DISC:return ''+spaceSuffix;case LIST_STYLE_TYPE.CIRCLE:return ''+spaceSuffix;case LIST_STYLE_TYPE.SQUARE:return ''+spaceSuffix;case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var string=createCounterStyleFromRange(value,48,57,true,defaultSuffix);return string.length<4?"0"+string:string;case LIST_STYLE_TYPE.CJK_DECIMAL:return createCounterStyleFromSymbols(value,'',cjkSuffix);case LIST_STYLE_TYPE.LOWER_ROMAN:return createAdditiveCounter(value,1,3999,ROMAN_UPPER,LIST_STYLE_TYPE.DECIMAL,defaultSuffix).toLowerCase();case LIST_STYLE_TYPE.UPPER_ROMAN:return createAdditiveCounter(value,1,3999,ROMAN_UPPER,LIST_STYLE_TYPE.DECIMAL,defaultSuffix);case LIST_STYLE_TYPE.LOWER_GREEK:return createCounterStyleFromRange(value,945,969,false,defaultSuffix);case LIST_STYLE_TYPE.LOWER_ALPHA:return createCounterStyleFromRange(value,97,122,false,defaultSuffix);case LIST_STYLE_TYPE.UPPER_ALPHA:return createCounterStyleFromRange(value,65,90,false,defaultSuffix);case LIST_STYLE_TYPE.ARABIC_INDIC:return createCounterStyleFromRange(value,1632,1641,true,defaultSuffix);case LIST_STYLE_TYPE.ARMENIAN:case LIST_STYLE_TYPE.UPPER_ARMENIAN:return createAdditiveCounter(value,1,9999,ARMENIAN,LIST_STYLE_TYPE.DECIMAL,defaultSuffix);case LIST_STYLE_TYPE.LOWER_ARMENIAN:return createAdditiveCounter(value,1,9999,ARMENIAN,LIST_STYLE_TYPE.DECIMAL,defaultSuffix).toLowerCase();case LIST_STYLE_TYPE.BENGALI:return createCounterStyleFromRange(value,2534,2543,true,defaultSuffix);case LIST_STYLE_TYPE.CAMBODIAN:case LIST_STYLE_TYPE.KHMER:return createCounterStyleFromRange(value,6112,6121,true,defaultSuffix);case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return createCounterStyleFromSymbols(value,'',cjkSuffix);case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return createCounterStyleFromSymbols(value,'',cjkSuffix);case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return createCJKCounter(value,'',CHINESE_INFORMAL_MULTIPLIERS,'',cjkSuffix,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return createCJKCounter(value,'',CHINESE_FORMAL_MULTIPLIERS,'',cjkSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return createCJKCounter(value,'',CHINESE_INFORMAL_MULTIPLIERS,'',cjkSuffix,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return createCJKCounter(value,'',CHINESE_FORMAL_MULTIPLIERS,'',cjkSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case LIST_STYLE_TYPE.JAPANESE_INFORMAL:return createCJKCounter(value,'','',JAPANESE_NEGATIVE,cjkSuffix,0);case LIST_STYLE_TYPE.JAPANESE_FORMAL:return createCJKCounter(value,'','',JAPANESE_NEGATIVE,cjkSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return createCJKCounter(value,'','',KOREAN_NEGATIVE,koreanSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return createCJKCounter(value,'','',KOREAN_NEGATIVE,koreanSuffix,0);case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return createCJKCounter(value,'','',KOREAN_NEGATIVE,koreanSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case LIST_STYLE_TYPE.DEVANAGARI:return createCounterStyleFromRange(value,0x966,0x96f,true,defaultSuffix);case LIST_STYLE_TYPE.GEORGIAN:return createAdditiveCounter(value,1,19999,GEORGIAN,LIST_STYLE_TYPE.DECIMAL,defaultSuffix);case LIST_STYLE_TYPE.GUJARATI:return createCounterStyleFromRange(value,0xae6,0xaef,true,defaultSuffix);case LIST_STYLE_TYPE.GURMUKHI:return createCounterStyleFromRange(value,0xa66,0xa6f,true,defaultSuffix);case LIST_STYLE_TYPE.HEBREW:return createAdditiveCounter(value,1,10999,HEBREW,LIST_STYLE_TYPE.DECIMAL,defaultSuffix);case LIST_STYLE_TYPE.HIRAGANA:return createCounterStyleFromSymbols(value,'');case LIST_STYLE_TYPE.HIRAGANA_IROHA:return createCounterStyleFromSymbols(value,'');case LIST_STYLE_TYPE.KANNADA:return createCounterStyleFromRange(value,0xce6,0xcef,true,defaultSuffix);case LIST_STYLE_TYPE.KATAKANA:return createCounterStyleFromSymbols(value,'',cjkSuffix);case LIST_STYLE_TYPE.KATAKANA_IROHA:return createCounterStyleFromSymbols(value,'',cjkSuffix);case LIST_STYLE_TYPE.LAO:return createCounterStyleFromRange(value,0xed0,0xed9,true,defaultSuffix);case LIST_STYLE_TYPE.MONGOLIAN:return createCounterStyleFromRange(value,0x1810,0x1819,true,defaultSuffix);case LIST_STYLE_TYPE.MYANMAR:return createCounterStyleFromRange(value,0x1040,0x1049,true,defaultSuffix);case LIST_STYLE_TYPE.ORIYA:return createCounterStyleFromRange(value,0xb66,0xb6f,true,defaultSuffix);case LIST_STYLE_TYPE.PERSIAN:return createCounterStyleFromRange(value,0x6f0,0x6f9,true,defaultSuffix);case LIST_STYLE_TYPE.TAMIL:return createCounterStyleFromRange(value,0xbe6,0xbef,true,defaultSuffix);case LIST_STYLE_TYPE.TELUGU:return createCounterStyleFromRange(value,0xc66,0xc6f,true,defaultSuffix);case LIST_STYLE_TYPE.THAI:return createCounterStyleFromRange(value,0xe50,0xe59,true,defaultSuffix);case LIST_STYLE_TYPE.TIBETAN:return createCounterStyleFromRange(value,0xf20,0xf29,true,defaultSuffix);case LIST_STYLE_TYPE.DECIMAL:default:return createCounterStyleFromRange(value,48,57,true,defaultSuffix);}};var IGNORE_ATTRIBUTE='data-html2canvas-ignore';var DocumentCloner=(function(){function DocumentCloner(element,options){this.options=options;this.scrolledElements=[];this.referenceElement=element;this.counters=new CounterState();this.quoteDepth=0;if(!element.ownerDocument){throw new Error('Cloned element does not have an owner document');}
this.documentElement=this.cloneNode(element.ownerDocument.documentElement);}
DocumentCloner.prototype.toIFrame=function(ownerDocument,windowSize){var _this=this;var iframe=createIFrameContainer(ownerDocument,windowSize);if(!iframe.contentWindow){return Promise.reject("Unable to find iframe window");}
var scrollX=ownerDocument.defaultView.pageXOffset;var scrollY=ownerDocument.defaultView.pageYOffset;var cloneWindow=iframe.contentWindow;var documentClone=cloneWindow.document;var iframeLoad=iframeLoader(iframe).then(function(){return __awaiter(_this,void 0,void 0,function(){var onclone;return __generator(this,function(_a){switch(_a.label){case 0:this.scrolledElements.forEach(restoreNodeScroll);if(cloneWindow){cloneWindow.scrollTo(windowSize.left,windowSize.top);if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(cloneWindow.scrollY!==windowSize.top||cloneWindow.scrollX!==windowSize.left)){documentClone.documentElement.style.top=-windowSize.top+'px';documentClone.documentElement.style.left=-windowSize.left+'px';documentClone.documentElement.style.position='absolute';}}
onclone=this.options.onclone;if(typeof this.clonedReferenceElement==='undefined'){return[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")];}
if(!(documentClone.fonts&&documentClone.fonts.ready))return[3,2];return[4,documentClone.fonts.ready];case 1:_a.sent();_a.label=2;case 2:if(typeof onclone==='function'){return[2,Promise.resolve().then(function(){return onclone(documentClone);}).then(function(){return iframe;})];}
return[2,iframe];}});});});documentClone.open();documentClone.write(serializeDoctype(document.doctype)+"<html></html>");restoreOwnerScroll(this.referenceElement.ownerDocument,scrollX,scrollY);documentClone.replaceChild(documentClone.adoptNode(this.documentElement),documentClone.documentElement);documentClone.close();return iframeLoad;};DocumentCloner.prototype.createElementClone=function(node){if(isCanvasElement(node)){return this.createCanvasClone(node);}
if(isStyleElement(node)){return this.createStyleClone(node);}
return node.cloneNode(false);};DocumentCloner.prototype.createStyleClone=function(node){try{var sheet=node.sheet;if(sheet&&sheet.cssRules){var css=[].slice.call(sheet.cssRules,0).reduce(function(css,rule){if(rule&&typeof rule.cssText==='string'){return css+rule.cssText;}
return css;},'');var style=node.cloneNode(false);style.textContent=css;return style;}}
catch(e){Logger.getInstance(this.options.id).error('Unable to access cssRules property',e);if(e.name!=='SecurityError'){throw e;}}
return node.cloneNode(false);};DocumentCloner.prototype.createCanvasClone=function(canvas){if(this.options.inlineImages&&canvas.ownerDocument){var img=canvas.ownerDocument.createElement('img');try{img.src=canvas.toDataURL();return img;}
catch(e){Logger.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted");}}
var clonedCanvas=canvas.cloneNode(false);try{clonedCanvas.width=canvas.width;clonedCanvas.height=canvas.height;var ctx=canvas.getContext('2d');var clonedCtx=clonedCanvas.getContext('2d');if(clonedCtx){if(ctx){clonedCtx.putImageData(ctx.getImageData(0,0,canvas.width,canvas.height),0,0);}
else{clonedCtx.drawImage(canvas,0,0);}}
return clonedCanvas;}
catch(e){}
return clonedCanvas;};DocumentCloner.prototype.cloneNode=function(node){if(isTextNode(node)){return document.createTextNode(node.data);}
if(!node.ownerDocument){return node.cloneNode(false);}
var window=node.ownerDocument.defaultView;if(isHTMLElementNode(node)&&window){var clone=this.createElementClone(node);var style=window.getComputedStyle(node);var styleBefore=window.getComputedStyle(node,':before');var styleAfter=window.getComputedStyle(node,':after');if(this.referenceElement===node){this.clonedReferenceElement=clone;}
if(isBodyElement(clone)){createPseudoHideStyles(clone);}
var counters=this.counters.parse(new CSSParsedCounterDeclaration(style));var before=this.resolvePseudoContent(node,clone,styleBefore,PseudoElementType.BEFORE);for(var child=node.firstChild;child;child=child.nextSibling){if(!isElementNode(child)||(!isScriptElement(child)&&!child.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!=='function'||!this.options.ignoreElements(child)))){if(!this.options.copyStyles||!isElementNode(child)||!isStyleElement(child)){clone.appendChild(this.cloneNode(child));}}}
if(before){clone.insertBefore(before,clone.firstChild);}
var after=this.resolvePseudoContent(node,clone,styleAfter,PseudoElementType.AFTER);if(after){clone.appendChild(after);}
this.counters.pop(counters);if(style&&this.options.copyStyles&&!isIFrameElement(node)){copyCSSStyles(style,clone);}
if(node.scrollTop!==0||node.scrollLeft!==0){this.scrolledElements.push([clone,node.scrollLeft,node.scrollTop]);}
if((isTextareaElement(node)||isSelectElement(node))&&(isTextareaElement(clone)||isSelectElement(clone))){clone.value=node.value;}
return clone;}
return node.cloneNode(false);};DocumentCloner.prototype.resolvePseudoContent=function(node,clone,style,pseudoElt){var _this=this;if(!style){return;}
var value=style.content;var document=clone.ownerDocument;if(!document||!value||value==='none'||value==='-moz-alt-content'||style.display==='none'){return;}
this.counters.parse(new CSSParsedCounterDeclaration(style));var declaration=new CSSParsedPseudoDeclaration(style);var anonymousReplacedElement=document.createElement('html2canvaspseudoelement');copyCSSStyles(style,anonymousReplacedElement);declaration.content.forEach(function(token){if(token.type===TokenType.STRING_TOKEN){anonymousReplacedElement.appendChild(document.createTextNode(token.value));}
else if(token.type===TokenType.URL_TOKEN){var img=document.createElement('img');img.src=token.value;img.style.opacity='1';anonymousReplacedElement.appendChild(img);}
else if(token.type===TokenType.FUNCTION){if(token.name==='attr'){var attr=token.values.filter(isIdentToken);if(attr.length){anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value)||''));}}
else if(token.name==='counter'){var _a=token.values.filter(nonFunctionArgSeparator),counter=_a[0],counterStyle=_a[1];if(counter&&isIdentToken(counter)){var counterState=_this.counters.getCounterValue(counter.value);var counterType=counterStyle&&isIdentToken(counterStyle)?listStyleType.parse(counterStyle.value):LIST_STYLE_TYPE.DECIMAL;anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState,counterType,false)));}}
else if(token.name==='counters'){var _b=token.values.filter(nonFunctionArgSeparator),counter=_b[0],delim=_b[1],counterStyle=_b[2];if(counter&&isIdentToken(counter)){var counterStates=_this.counters.getCounterValues(counter.value);var counterType_1=counterStyle&&isIdentToken(counterStyle)?listStyleType.parse(counterStyle.value):LIST_STYLE_TYPE.DECIMAL;var separator=delim&&delim.type===TokenType.STRING_TOKEN?delim.value:'';var text=counterStates.map(function(value){return createCounterText(value,counterType_1,false);}).join(separator);anonymousReplacedElement.appendChild(document.createTextNode(text));}}}
else if(token.type===TokenType.IDENT_TOKEN){switch(token.value){case 'open-quote':anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes,_this.quoteDepth++,true)));break;case 'close-quote':anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes,--_this.quoteDepth,false)));break;default:anonymousReplacedElement.appendChild(document.createTextNode(token.value));}}});anonymousReplacedElement.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;clone.className+=pseudoElt===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;return anonymousReplacedElement;};DocumentCloner.destroy=function(container){if(container.parentNode){container.parentNode.removeChild(container);return true;}
return false;};return DocumentCloner;}());var PseudoElementType;(function(PseudoElementType){PseudoElementType[PseudoElementType["BEFORE"]=0]="BEFORE";PseudoElementType[PseudoElementType["AFTER"]=1]="AFTER";})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function(ownerDocument,bounds){var cloneIframeContainer=ownerDocument.createElement('iframe');cloneIframeContainer.className='html2canvas-container';cloneIframeContainer.style.visibility='hidden';cloneIframeContainer.style.position='fixed';cloneIframeContainer.style.left='-10000px';cloneIframeContainer.style.top='0px';cloneIframeContainer.style.border='0';cloneIframeContainer.width=bounds.width.toString();cloneIframeContainer.height=bounds.height.toString();cloneIframeContainer.scrolling='no';cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE,'true');ownerDocument.body.appendChild(cloneIframeContainer);return cloneIframeContainer;};var iframeLoader=function(iframe){return new Promise(function(resolve,reject){var cloneWindow=iframe.contentWindow;if(!cloneWindow){return reject("No window assigned for iframe");}
var documentClone=cloneWindow.document;cloneWindow.onload=iframe.onload=documentClone.onreadystatechange=function(){cloneWindow.onload=iframe.onload=documentClone.onreadystatechange=null;var interval=setInterval(function(){if(documentClone.body.childNodes.length>0&&documentClone.readyState==='complete'){clearInterval(interval);resolve(iframe);}},50);};});};var copyCSSStyles=function(style,target){for(var i=style.length-1;i>=0;i--){var property=style.item(i);if(property!=='content'){target.style.setProperty(property,style.getPropertyValue(property));}}
return target;};var serializeDoctype=function(doctype){var str='';if(doctype){str+='<!DOCTYPE ';if(doctype.name){str+=doctype.name;}
if(doctype.internalSubset){str+=doctype.internalSubset;}
if(doctype.publicId){str+="\""+doctype.publicId+"\"";}
if(doctype.systemId){str+="\""+doctype.systemId+"\"";}
str+='>';}
return str;};var restoreOwnerScroll=function(ownerDocument,x,y){if(ownerDocument&&ownerDocument.defaultView&&(x!==ownerDocument.defaultView.pageXOffset||y!==ownerDocument.defaultView.pageYOffset)){ownerDocument.defaultView.scrollTo(x,y);}};var restoreNodeScroll=function(_a){var element=_a[0],x=_a[1],y=_a[2];element.scrollLeft=x;element.scrollTop=y;};var PSEUDO_BEFORE=':before';var PSEUDO_AFTER=':after';var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE='___html2canvas___pseudoelement_before';var PSEUDO_HIDE_ELEMENT_CLASS_AFTER='___html2canvas___pseudoelement_after';var PSEUDO_HIDE_ELEMENT_STYLE="{\n    content: \"\" !important;\n    display: none !important;\n}";var createPseudoHideStyles=function(body){createStyles(body,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+"\n         ."+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE);};var createStyles=function(body,styles){var document=body.ownerDocument;if(document){var style=document.createElement('style');style.textContent=styles;body.appendChild(style);}};var PathType;(function(PathType){PathType[PathType["VECTOR"]=0]="VECTOR";PathType[PathType["BEZIER_CURVE"]=1]="BEZIER_CURVE";})(PathType||(PathType={}));var equalPath=function(a,b){if(a.length===b.length){return a.some(function(v,i){return v===b[i];});}
return false;};var transformPath=function(path,deltaX,deltaY,deltaW,deltaH){return path.map(function(point,index){switch(index){case 0:return point.add(deltaX,deltaY);case 1:return point.add(deltaX+deltaW,deltaY);case 2:return point.add(deltaX+deltaW,deltaY+deltaH);case 3:return point.add(deltaX,deltaY+deltaH);}
return point;});};var Vector=(function(){function Vector(x,y){this.type=PathType.VECTOR;this.x=x;this.y=y;}
Vector.prototype.add=function(deltaX,deltaY){return new Vector(this.x+deltaX,this.y+deltaY);};return Vector;}());var lerp=function(a,b,t){return new Vector(a.x+(b.x-a.x)*t,a.y+(b.y-a.y)*t);};var BezierCurve=(function(){function BezierCurve(start,startControl,endControl,end){this.type=PathType.BEZIER_CURVE;this.start=start;this.startControl=startControl;this.endControl=endControl;this.end=end;}
BezierCurve.prototype.subdivide=function(t,firstHalf){var ab=lerp(this.start,this.startControl,t);var bc=lerp(this.startControl,this.endControl,t);var cd=lerp(this.endControl,this.end,t);var abbc=lerp(ab,bc,t);var bccd=lerp(bc,cd,t);var dest=lerp(abbc,bccd,t);return firstHalf?new BezierCurve(this.start,ab,abbc,dest):new BezierCurve(dest,bccd,cd,this.end);};BezierCurve.prototype.add=function(deltaX,deltaY){return new BezierCurve(this.start.add(deltaX,deltaY),this.startControl.add(deltaX,deltaY),this.endControl.add(deltaX,deltaY),this.end.add(deltaX,deltaY));};BezierCurve.prototype.reverse=function(){return new BezierCurve(this.end,this.endControl,this.startControl,this.start);};return BezierCurve;}());var isBezierCurve=function(path){return path.type===PathType.BEZIER_CURVE;};var BoundCurves=(function(){function BoundCurves(element){var styles=element.styles;var bounds=element.bounds;var _a=getAbsoluteValueForTuple(styles.borderTopLeftRadius,bounds.width,bounds.height),tlh=_a[0],tlv=_a[1];var _b=getAbsoluteValueForTuple(styles.borderTopRightRadius,bounds.width,bounds.height),trh=_b[0],trv=_b[1];var _c=getAbsoluteValueForTuple(styles.borderBottomRightRadius,bounds.width,bounds.height),brh=_c[0],brv=_c[1];var _d=getAbsoluteValueForTuple(styles.borderBottomLeftRadius,bounds.width,bounds.height),blh=_d[0],blv=_d[1];var factors=[];factors.push((tlh+trh)/bounds.width);factors.push((blh+brh)/bounds.width);factors.push((tlv+blv)/bounds.height);factors.push((trv+brv)/bounds.height);var maxFactor=Math.max.apply(Math,factors);if(maxFactor>1){tlh/=maxFactor;tlv/=maxFactor;trh/=maxFactor;trv/=maxFactor;brh/=maxFactor;brv/=maxFactor;blh/=maxFactor;blv/=maxFactor;}
var topWidth=bounds.width-trh;var rightHeight=bounds.height-brv;var bottomWidth=bounds.width-brh;var leftHeight=bounds.height-blv;var borderTopWidth=styles.borderTopWidth;var borderRightWidth=styles.borderRightWidth;var borderBottomWidth=styles.borderBottomWidth;var borderLeftWidth=styles.borderLeftWidth;var paddingTop=getAbsoluteValue(styles.paddingTop,element.bounds.width);var paddingRight=getAbsoluteValue(styles.paddingRight,element.bounds.width);var paddingBottom=getAbsoluteValue(styles.paddingBottom,element.bounds.width);var paddingLeft=getAbsoluteValue(styles.paddingLeft,element.bounds.width);this.topLeftBorderBox=tlh>0||tlv>0?getCurvePoints(bounds.left,bounds.top,tlh,tlv,CORNER.TOP_LEFT):new Vector(bounds.left,bounds.top);this.topRightBorderBox=trh>0||trv>0?getCurvePoints(bounds.left+topWidth,bounds.top,trh,trv,CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width,bounds.top);this.bottomRightBorderBox=brh>0||brv>0?getCurvePoints(bounds.left+bottomWidth,bounds.top+rightHeight,brh,brv,CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width,bounds.top+bounds.height);this.bottomLeftBorderBox=blh>0||blv>0?getCurvePoints(bounds.left,bounds.top+leftHeight,blh,blv,CORNER.BOTTOM_LEFT):new Vector(bounds.left,bounds.top+bounds.height);this.topLeftPaddingBox=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth,bounds.top+borderTopWidth,Math.max(0,tlh-borderLeftWidth),Math.max(0,tlv-borderTopWidth),CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth,bounds.top+borderTopWidth);this.topRightPaddingBox=trh>0||trv>0?getCurvePoints(bounds.left+Math.min(topWidth,bounds.width+borderLeftWidth),bounds.top+borderTopWidth,topWidth>bounds.width+borderLeftWidth?0:trh-borderLeftWidth,trv-borderTopWidth,CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth,bounds.top+borderTopWidth);this.bottomRightPaddingBox=brh>0||brv>0?getCurvePoints(bounds.left+Math.min(bottomWidth,bounds.width-borderLeftWidth),bounds.top+Math.min(rightHeight,bounds.height+borderTopWidth),Math.max(0,brh-borderRightWidth),brv-borderBottomWidth,CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth,bounds.top+bounds.height-borderBottomWidth);this.bottomLeftPaddingBox=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth,bounds.top+leftHeight,Math.max(0,blh-borderLeftWidth),blv-borderBottomWidth,CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth,bounds.top+bounds.height-borderBottomWidth);this.topLeftContentBox=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth+paddingLeft,bounds.top+borderTopWidth+paddingTop,Math.max(0,tlh-(borderLeftWidth+paddingLeft)),Math.max(0,tlv-(borderTopWidth+paddingTop)),CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth+paddingLeft,bounds.top+borderTopWidth+paddingTop);this.topRightContentBox=trh>0||trv>0?getCurvePoints(bounds.left+Math.min(topWidth,bounds.width+borderLeftWidth+paddingLeft),bounds.top+borderTopWidth+paddingTop,topWidth>bounds.width+borderLeftWidth+paddingLeft?0:trh-borderLeftWidth+paddingLeft,trv-(borderTopWidth+paddingTop),CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-(borderRightWidth+paddingRight),bounds.top+borderTopWidth+paddingTop);this.bottomRightContentBox=brh>0||brv>0?getCurvePoints(bounds.left+Math.min(bottomWidth,bounds.width-(borderLeftWidth+paddingLeft)),bounds.top+Math.min(rightHeight,bounds.height+borderTopWidth+paddingTop),Math.max(0,brh-(borderRightWidth+paddingRight)),brv-(borderBottomWidth+paddingBottom),CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-(borderRightWidth+paddingRight),bounds.top+bounds.height-(borderBottomWidth+paddingBottom));this.bottomLeftContentBox=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth+paddingLeft,bounds.top+leftHeight,Math.max(0,blh-(borderLeftWidth+paddingLeft)),blv-(borderBottomWidth+paddingBottom),CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth+paddingLeft,bounds.top+bounds.height-(borderBottomWidth+paddingBottom));}
return BoundCurves;}());var CORNER;(function(CORNER){CORNER[CORNER["TOP_LEFT"]=0]="TOP_LEFT";CORNER[CORNER["TOP_RIGHT"]=1]="TOP_RIGHT";CORNER[CORNER["BOTTOM_RIGHT"]=2]="BOTTOM_RIGHT";CORNER[CORNER["BOTTOM_LEFT"]=3]="BOTTOM_LEFT";})(CORNER||(CORNER={}));var getCurvePoints=function(x,y,r1,r2,position){var kappa=4*((Math.sqrt(2)-1)/3);var ox=r1*kappa;var oy=r2*kappa;var xm=x+r1;var ym=y+r2;switch(position){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(x,ym),new Vector(x,ym-oy),new Vector(xm-ox,y),new Vector(xm,y));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(x,y),new Vector(x+ox,y),new Vector(xm,ym-oy),new Vector(xm,ym));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(xm,y),new Vector(xm,y+oy),new Vector(x+ox,ym),new Vector(x,ym));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(xm,ym),new Vector(xm-ox,ym),new Vector(x,y+oy),new Vector(x,y));}};var calculateBorderBoxPath=function(curves){return[curves.topLeftBorderBox,curves.topRightBorderBox,curves.bottomRightBorderBox,curves.bottomLeftBorderBox];};var calculateContentBoxPath=function(curves){return[curves.topLeftContentBox,curves.topRightContentBox,curves.bottomRightContentBox,curves.bottomLeftContentBox];};var calculatePaddingBoxPath=function(curves){return[curves.topLeftPaddingBox,curves.topRightPaddingBox,curves.bottomRightPaddingBox,curves.bottomLeftPaddingBox];};var TransformEffect=(function(){function TransformEffect(offsetX,offsetY,matrix){this.type=0;this.offsetX=offsetX;this.offsetY=offsetY;this.matrix=matrix;this.target=2|4;}
return TransformEffect;}());var ClipEffect=(function(){function ClipEffect(path,target){this.type=1;this.target=target;this.path=path;}
return ClipEffect;}());var isTransformEffect=function(effect){return effect.type===0;};var isClipEffect=function(effect){return effect.type===1;};var StackingContext=(function(){function StackingContext(container){this.element=container;this.inlineLevel=[];this.nonInlineLevel=[];this.negativeZIndex=[];this.zeroOrAutoZIndexOrTransformedOrOpacity=[];this.positiveZIndex=[];this.nonPositionedFloats=[];this.nonPositionedInlineLevel=[];}
return StackingContext;}());var ElementPaint=(function(){function ElementPaint(element,parentStack){this.container=element;this.effects=parentStack.slice(0);this.curves=new BoundCurves(element);if(element.styles.transform!==null){var offsetX=element.bounds.left+element.styles.transformOrigin[0].number;var offsetY=element.bounds.top+element.styles.transformOrigin[1].number;var matrix=element.styles.transform;this.effects.push(new TransformEffect(offsetX,offsetY,matrix));}
if(element.styles.overflowX!==OVERFLOW.VISIBLE){var borderBox=calculateBorderBoxPath(this.curves);var paddingBox=calculatePaddingBoxPath(this.curves);if(equalPath(borderBox,paddingBox)){this.effects.push(new ClipEffect(borderBox,2|4));}
else{this.effects.push(new ClipEffect(borderBox,2));this.effects.push(new ClipEffect(paddingBox,4));}}}
ElementPaint.prototype.getParentEffects=function(){var effects=this.effects.slice(0);if(this.container.styles.overflowX!==OVERFLOW.VISIBLE){var borderBox=calculateBorderBoxPath(this.curves);var paddingBox=calculatePaddingBoxPath(this.curves);if(!equalPath(borderBox,paddingBox)){effects.push(new ClipEffect(paddingBox,2|4));}}
return effects;};return ElementPaint;}());var parseStackTree=function(parent,stackingContext,realStackingContext,listItems){parent.container.elements.forEach(function(child){var treatAsRealStackingContext=contains(child.flags,4);var createsStackingContext=contains(child.flags,2);var paintContainer=new ElementPaint(child,parent.getParentEffects());if(contains(child.styles.display,2048)){listItems.push(paintContainer);}
var listOwnerItems=contains(child.flags,8)?[]:listItems;if(treatAsRealStackingContext||createsStackingContext){var parentStack=treatAsRealStackingContext||child.styles.isPositioned()?realStackingContext:stackingContext;var stack=new StackingContext(paintContainer);if(child.styles.isPositioned()||child.styles.opacity<1||child.styles.isTransformed()){var order_1=child.styles.zIndex.order;if(order_1<0){var index_1=0;parentStack.negativeZIndex.some(function(current,i){if(order_1>current.element.container.styles.zIndex.order){index_1=i;return false;}
else if(index_1>0){return true;}
return false;});parentStack.negativeZIndex.splice(index_1,0,stack);}
else if(order_1>0){var index_2=0;parentStack.positiveZIndex.some(function(current,i){if(order_1>current.element.container.styles.zIndex.order){index_2=i+1;return false;}
else if(index_2>0){return true;}
return false;});parentStack.positiveZIndex.splice(index_2,0,stack);}
else{parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);}}
else{if(child.styles.isFloating()){parentStack.nonPositionedFloats.push(stack);}
else{parentStack.nonPositionedInlineLevel.push(stack);}}
parseStackTree(paintContainer,stack,treatAsRealStackingContext?stack:realStackingContext,listOwnerItems);}
else{if(child.styles.isInlineLevel()){stackingContext.inlineLevel.push(paintContainer);}
else{stackingContext.nonInlineLevel.push(paintContainer);}
parseStackTree(paintContainer,stackingContext,realStackingContext,listOwnerItems);}
if(contains(child.flags,8)){processListItems(child,listOwnerItems);}});};var processListItems=function(owner,elements){var numbering=owner instanceof OLElementContainer?owner.start:1;var reversed=owner instanceof OLElementContainer?owner.reversed:false;for(var i=0;i<elements.length;i++){var item=elements[i];if(item.container instanceof LIElementContainer&&typeof item.container.value==='number'&&item.container.value!==0){numbering=item.container.value;}
item.listValue=createCounterText(numbering,item.container.styles.listStyleType,true);numbering+=reversed?-1:1;}};var parseStackingContexts=function(container){var paintContainer=new ElementPaint(container,[]);var root=new StackingContext(paintContainer);var listItems=[];parseStackTree(paintContainer,root,root,listItems);processListItems(paintContainer.container,listItems);return root;};var parsePathForBorder=function(curves,borderSide){switch(borderSide){case 0:return createPathFromCurves(curves.topLeftBorderBox,curves.topLeftPaddingBox,curves.topRightBorderBox,curves.topRightPaddingBox);case 1:return createPathFromCurves(curves.topRightBorderBox,curves.topRightPaddingBox,curves.bottomRightBorderBox,curves.bottomRightPaddingBox);case 2:return createPathFromCurves(curves.bottomRightBorderBox,curves.bottomRightPaddingBox,curves.bottomLeftBorderBox,curves.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(curves.bottomLeftBorderBox,curves.bottomLeftPaddingBox,curves.topLeftBorderBox,curves.topLeftPaddingBox);}};var createPathFromCurves=function(outer1,inner1,outer2,inner2){var path=[];if(isBezierCurve(outer1)){path.push(outer1.subdivide(0.5,false));}
else{path.push(outer1);}
if(isBezierCurve(outer2)){path.push(outer2.subdivide(0.5,true));}
else{path.push(outer2);}
if(isBezierCurve(inner2)){path.push(inner2.subdivide(0.5,true).reverse());}
else{path.push(inner2);}
if(isBezierCurve(inner1)){path.push(inner1.subdivide(0.5,false).reverse());}
else{path.push(inner1);}
return path;};var paddingBox=function(element){var bounds=element.bounds;var styles=element.styles;return bounds.add(styles.borderLeftWidth,styles.borderTopWidth,-(styles.borderRightWidth+styles.borderLeftWidth),-(styles.borderTopWidth+styles.borderBottomWidth));};var contentBox=function(element){var styles=element.styles;var bounds=element.bounds;var paddingLeft=getAbsoluteValue(styles.paddingLeft,bounds.width);var paddingRight=getAbsoluteValue(styles.paddingRight,bounds.width);var paddingTop=getAbsoluteValue(styles.paddingTop,bounds.width);var paddingBottom=getAbsoluteValue(styles.paddingBottom,bounds.width);return bounds.add(paddingLeft+styles.borderLeftWidth,paddingTop+styles.borderTopWidth,-(styles.borderRightWidth+styles.borderLeftWidth+paddingLeft+paddingRight),-(styles.borderTopWidth+styles.borderBottomWidth+paddingTop+paddingBottom));};var calculateBackgroundPositioningArea=function(backgroundOrigin,element){if(backgroundOrigin===0){return element.bounds;}
if(backgroundOrigin===2){return contentBox(element);}
return paddingBox(element);};var calculateBackgroundPaintingArea=function(backgroundClip,element){if(backgroundClip===BACKGROUND_CLIP.BORDER_BOX){return element.bounds;}
if(backgroundClip===BACKGROUND_CLIP.CONTENT_BOX){return contentBox(element);}
return paddingBox(element);};var calculateBackgroundRendering=function(container,index,intrinsicSize){var backgroundPositioningArea=calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin,index),container);var backgroundPaintingArea=calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip,index),container);var backgroundImageSize=calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize,index),intrinsicSize,backgroundPositioningArea);var sizeWidth=backgroundImageSize[0],sizeHeight=backgroundImageSize[1];var position=getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition,index),backgroundPositioningArea.width-sizeWidth,backgroundPositioningArea.height-sizeHeight);var path=calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat,index),position,backgroundImageSize,backgroundPositioningArea,backgroundPaintingArea);var offsetX=Math.round(backgroundPositioningArea.left+position[0]);var offsetY=Math.round(backgroundPositioningArea.top+position[1]);return[path,offsetX,offsetY,sizeWidth,sizeHeight];};var isAuto=function(token){return isIdentToken(token)&&token.value===BACKGROUND_SIZE.AUTO;};var hasIntrinsicValue=function(value){return typeof value==='number';};var calculateBackgroundSize=function(size,_a,bounds){var intrinsicWidth=_a[0],intrinsicHeight=_a[1],intrinsicProportion=_a[2];var first=size[0],second=size[1];if(isLengthPercentage(first)&&second&&isLengthPercentage(second)){return[getAbsoluteValue(first,bounds.width),getAbsoluteValue(second,bounds.height)];}
var hasIntrinsicProportion=hasIntrinsicValue(intrinsicProportion);if(isIdentToken(first)&&(first.value===BACKGROUND_SIZE.CONTAIN||first.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(intrinsicProportion)){var targetRatio=bounds.width/bounds.height;return targetRatio<intrinsicProportion!==(first.value===BACKGROUND_SIZE.COVER)?[bounds.width,bounds.width/intrinsicProportion]:[bounds.height*intrinsicProportion,bounds.height];}
return[bounds.width,bounds.height];}
var hasIntrinsicWidth=hasIntrinsicValue(intrinsicWidth);var hasIntrinsicHeight=hasIntrinsicValue(intrinsicHeight);var hasIntrinsicDimensions=hasIntrinsicWidth||hasIntrinsicHeight;if(isAuto(first)&&(!second||isAuto(second))){if(hasIntrinsicWidth&&hasIntrinsicHeight){return[intrinsicWidth,intrinsicHeight];}
if(!hasIntrinsicProportion&&!hasIntrinsicDimensions){return[bounds.width,bounds.height];}
if(hasIntrinsicDimensions&&hasIntrinsicProportion){var width_1=hasIntrinsicWidth?intrinsicWidth:intrinsicHeight*intrinsicProportion;var height_1=hasIntrinsicHeight?intrinsicHeight:intrinsicWidth/intrinsicProportion;return[width_1,height_1];}
var width_2=hasIntrinsicWidth?intrinsicWidth:bounds.width;var height_2=hasIntrinsicHeight?intrinsicHeight:bounds.height;return[width_2,height_2];}
if(hasIntrinsicProportion){var width_3=0;var height_3=0;if(isLengthPercentage(first)){width_3=getAbsoluteValue(first,bounds.width);}
else if(isLengthPercentage(second)){height_3=getAbsoluteValue(second,bounds.height);}
if(isAuto(first)){width_3=height_3*intrinsicProportion;}
else if(!second||isAuto(second)){height_3=width_3/intrinsicProportion;}
return[width_3,height_3];}
var width=null;var height=null;if(isLengthPercentage(first)){width=getAbsoluteValue(first,bounds.width);}
else if(second&&isLengthPercentage(second)){height=getAbsoluteValue(second,bounds.height);}
if(width!==null&&(!second||isAuto(second))){height=hasIntrinsicWidth&&hasIntrinsicHeight?(width/intrinsicWidth)*intrinsicHeight:bounds.height;}
if(height!==null&&isAuto(first)){width=hasIntrinsicWidth&&hasIntrinsicHeight?(height/intrinsicHeight)*intrinsicWidth:bounds.width;}
if(width!==null&&height!==null){return[width,height];}
throw new Error("Unable to calculate background-size for element");};var getBackgroundValueForIndex=function(values,index){var value=values[index];if(typeof value==='undefined'){return values[0];}
return value;};var calculateBackgroundRepeatPath=function(repeat,_a,_b,backgroundPositioningArea,backgroundPaintingArea){var x=_a[0],y=_a[1];var width=_b[0],height=_b[1];switch(repeat){case BACKGROUND_REPEAT.REPEAT_X:return[new Vector(Math.round(backgroundPositioningArea.left),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+backgroundPositioningArea.width),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+backgroundPositioningArea.width),Math.round(height+backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left),Math.round(height+backgroundPositioningArea.top+y))];case BACKGROUND_REPEAT.REPEAT_Y:return[new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.top)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.top)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.height+backgroundPositioningArea.top)),new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.height+backgroundPositioningArea.top))];case BACKGROUND_REPEAT.NO_REPEAT:return[new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.top+y+height)),new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.top+y+height))];default:return[new Vector(Math.round(backgroundPaintingArea.left),Math.round(backgroundPaintingArea.top)),new Vector(Math.round(backgroundPaintingArea.left+backgroundPaintingArea.width),Math.round(backgroundPaintingArea.top)),new Vector(Math.round(backgroundPaintingArea.left+backgroundPaintingArea.width),Math.round(backgroundPaintingArea.height+backgroundPaintingArea.top)),new Vector(Math.round(backgroundPaintingArea.left),Math.round(backgroundPaintingArea.height+backgroundPaintingArea.top))];}};var SMALL_IMAGE='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';var SAMPLE_TEXT='Hidden Text';var FontMetrics=(function(){function FontMetrics(document){this._data={};this._document=document;}
FontMetrics.prototype.parseMetrics=function(fontFamily,fontSize){var container=this._document.createElement('div');var img=this._document.createElement('img');var span=this._document.createElement('span');var body=this._document.body;container.style.visibility='hidden';container.style.fontFamily=fontFamily;container.style.fontSize=fontSize;container.style.margin='0';container.style.padding='0';body.appendChild(container);img.src=SMALL_IMAGE;img.width=1;img.height=1;img.style.margin='0';img.style.padding='0';img.style.verticalAlign='baseline';span.style.fontFamily=fontFamily;span.style.fontSize=fontSize;span.style.margin='0';span.style.padding='0';span.appendChild(this._document.createTextNode(SAMPLE_TEXT));container.appendChild(span);container.appendChild(img);var baseline=img.offsetTop-span.offsetTop+2;container.removeChild(span);container.appendChild(this._document.createTextNode(SAMPLE_TEXT));container.style.lineHeight='normal';img.style.verticalAlign='super';var middle=img.offsetTop-container.offsetTop+2;body.removeChild(container);return{baseline:baseline,middle:middle};};FontMetrics.prototype.getMetrics=function(fontFamily,fontSize){var key=fontFamily+" "+fontSize;if(typeof this._data[key]==='undefined'){this._data[key]=this.parseMetrics(fontFamily,fontSize);}
return this._data[key];};return FontMetrics;}());var MASK_OFFSET=10000;var CanvasRenderer=(function(){function CanvasRenderer(options){this._activeEffects=[];this.canvas=options.canvas?options.canvas:document.createElement('canvas');this.ctx=this.canvas.getContext('2d');this.options=options;if(!options.canvas){this.canvas.width=Math.floor(options.width*options.scale);this.canvas.height=Math.floor(options.height*options.scale);this.canvas.style.width=options.width+"px";this.canvas.style.height=options.height+"px";}
this.fontMetrics=new FontMetrics(document);this.ctx.scale(this.options.scale,this.options.scale);this.ctx.translate(-options.x+options.scrollX,-options.y+options.scrollY);this.ctx.textBaseline='bottom';this._activeEffects=[];Logger.getInstance(options.id).debug("Canvas renderer initialized ("+options.width+"x"+options.height+" at "+options.x+","+options.y+") with scale "+options.scale);}
CanvasRenderer.prototype.applyEffects=function(effects,target){var _this=this;while(this._activeEffects.length){this.popEffect();}
effects.filter(function(effect){return contains(effect.target,target);}).forEach(function(effect){return _this.applyEffect(effect);});};CanvasRenderer.prototype.applyEffect=function(effect){this.ctx.save();if(isTransformEffect(effect)){this.ctx.translate(effect.offsetX,effect.offsetY);this.ctx.transform(effect.matrix[0],effect.matrix[1],effect.matrix[2],effect.matrix[3],effect.matrix[4],effect.matrix[5]);this.ctx.translate(-effect.offsetX,-effect.offsetY);}
if(isClipEffect(effect)){this.path(effect.path);this.ctx.clip();}
this._activeEffects.push(effect);};CanvasRenderer.prototype.popEffect=function(){this._activeEffects.pop();this.ctx.restore();};CanvasRenderer.prototype.renderStack=function(stack){return __awaiter(this,void 0,void 0,function(){var styles;return __generator(this,function(_a){switch(_a.label){case 0:styles=stack.element.container.styles;if(!styles.isVisible())return[3,2];this.ctx.globalAlpha=styles.opacity;return[4,this.renderStackContent(stack)];case 1:_a.sent();_a.label=2;case 2:return[2];}});});};CanvasRenderer.prototype.renderNode=function(paint){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:if(!paint.container.styles.isVisible())return[3,3];return[4,this.renderNodeBackgroundAndBorders(paint)];case 1:_a.sent();return[4,this.renderNodeContent(paint)];case 2:_a.sent();_a.label=3;case 3:return[2];}});});};CanvasRenderer.prototype.renderTextWithLetterSpacing=function(text,letterSpacing){var _this=this;if(letterSpacing===0){this.ctx.fillText(text.text,text.bounds.left,text.bounds.top+text.bounds.height);}
else{var letters=toCodePoints(text.text).map(function(i){return fromCodePoint(i);});letters.reduce(function(left,letter){_this.ctx.fillText(letter,left,text.bounds.top+text.bounds.height);return left+_this.ctx.measureText(letter).width;},text.bounds.left);}};CanvasRenderer.prototype.createFontStyle=function(styles){var fontVariant=styles.fontVariant.filter(function(variant){return variant==='normal'||variant==='small-caps';}).join('');var fontFamily=styles.fontFamily.join(', ');var fontSize=isDimensionToken(styles.fontSize)?""+styles.fontSize.number+styles.fontSize.unit:styles.fontSize.number+"px";return[[styles.fontStyle,fontVariant,styles.fontWeight,fontSize,fontFamily].join(' '),fontFamily,fontSize];};CanvasRenderer.prototype.renderTextNode=function(text,styles){return __awaiter(this,void 0,void 0,function(){var _a,font,fontFamily,fontSize;var _this=this;return __generator(this,function(_b){_a=this.createFontStyle(styles),font=_a[0],fontFamily=_a[1],fontSize=_a[2];this.ctx.font=font;text.textBounds.forEach(function(text){_this.ctx.fillStyle=asString(styles.color);_this.renderTextWithLetterSpacing(text,styles.letterSpacing);var textShadows=styles.textShadow;if(textShadows.length&&text.text.trim().length){textShadows.slice(0).reverse().forEach(function(textShadow){_this.ctx.shadowColor=asString(textShadow.color);_this.ctx.shadowOffsetX=textShadow.offsetX.number*_this.options.scale;_this.ctx.shadowOffsetY=textShadow.offsetY.number*_this.options.scale;_this.ctx.shadowBlur=textShadow.blur.number;_this.ctx.fillText(text.text,text.bounds.left,text.bounds.top+text.bounds.height);});_this.ctx.shadowColor='';_this.ctx.shadowOffsetX=0;_this.ctx.shadowOffsetY=0;_this.ctx.shadowBlur=0;}
if(styles.textDecorationLine.length){_this.ctx.fillStyle=asString(styles.textDecorationColor||styles.color);styles.textDecorationLine.forEach(function(textDecorationLine){switch(textDecorationLine){case 1:var baseline=_this.fontMetrics.getMetrics(fontFamily,fontSize).baseline;_this.ctx.fillRect(text.bounds.left,Math.round(text.bounds.top+baseline),text.bounds.width,1);break;case 2:_this.ctx.fillRect(text.bounds.left,Math.round(text.bounds.top),text.bounds.width,1);break;case 3:var middle=_this.fontMetrics.getMetrics(fontFamily,fontSize).middle;_this.ctx.fillRect(text.bounds.left,Math.ceil(text.bounds.top+middle),text.bounds.width,1);break;}});}});return[2];});});};CanvasRenderer.prototype.renderReplacedElement=function(container,curves,image){if(image&&container.intrinsicWidth>0&&container.intrinsicHeight>0){var box=contentBox(container);var path=calculatePaddingBoxPath(curves);this.path(path);this.ctx.save();this.ctx.clip();this.ctx.drawImage(image,0,0,container.intrinsicWidth,container.intrinsicHeight,box.left,box.top,box.width,box.height);this.ctx.restore();}};CanvasRenderer.prototype.renderNodeContent=function(paint){return __awaiter(this,void 0,void 0,function(){var container,curves,styles,_i,_a,child,image,e_1,image,e_2,iframeRenderer,canvas,size,bounds,x,textBounds,img,image,url,e_3,bounds;return __generator(this,function(_b){switch(_b.label){case 0:this.applyEffects(paint.effects,4);container=paint.container;curves=paint.curves;styles=container.styles;_i=0,_a=container.textNodes;_b.label=1;case 1:if(!(_i<_a.length))return[3,4];child=_a[_i];return[4,this.renderTextNode(child,styles)];case 2:_b.sent();_b.label=3;case 3:_i++;return[3,1];case 4:if(!(container instanceof ImageElementContainer))return[3,8];_b.label=5;case 5:_b.trys.push([5,7,,8]);return[4,this.options.cache.match(container.src)];case 6:image=_b.sent();this.renderReplacedElement(container,curves,image);return[3,8];case 7:e_1=_b.sent();Logger.getInstance(this.options.id).error("Error loading image "+container.src);return[3,8];case 8:if(container instanceof CanvasElementContainer){this.renderReplacedElement(container,curves,container.canvas);}
if(!(container instanceof SVGElementContainer))return[3,12];_b.label=9;case 9:_b.trys.push([9,11,,12]);return[4,this.options.cache.match(container.svg)];case 10:image=_b.sent();this.renderReplacedElement(container,curves,image);return[3,12];case 11:e_2=_b.sent();Logger.getInstance(this.options.id).error("Error loading svg "+container.svg.substring(0,255));return[3,12];case 12:if(!(container instanceof IFrameElementContainer&&container.tree))return[3,14];iframeRenderer=new CanvasRenderer({id:this.options.id,scale:this.options.scale,backgroundColor:container.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:container.width,height:container.height,cache:this.options.cache,windowWidth:container.width,windowHeight:container.height});return[4,iframeRenderer.render(container.tree)];case 13:canvas=_b.sent();if(container.width&&container.height){this.ctx.drawImage(canvas,0,0,container.width,container.height,container.bounds.left,container.bounds.top,container.bounds.width,container.bounds.height);}
_b.label=14;case 14:if(container instanceof InputElementContainer){size=Math.min(container.bounds.width,container.bounds.height);if(container.type===CHECKBOX){if(container.checked){this.ctx.save();this.path([new Vector(container.bounds.left+size*0.39363,container.bounds.top+size*0.79),new Vector(container.bounds.left+size*0.16,container.bounds.top+size*0.5549),new Vector(container.bounds.left+size*0.27347,container.bounds.top+size*0.44071),new Vector(container.bounds.left+size*0.39694,container.bounds.top+size*0.5649),new Vector(container.bounds.left+size*0.72983,container.bounds.top+size*0.23),new Vector(container.bounds.left+size*0.84,container.bounds.top+size*0.34085),new Vector(container.bounds.left+size*0.39363,container.bounds.top+size*0.79)]);this.ctx.fillStyle=asString(INPUT_COLOR);this.ctx.fill();this.ctx.restore();}}
else if(container.type===RADIO){if(container.checked){this.ctx.save();this.ctx.beginPath();this.ctx.arc(container.bounds.left+size/2,container.bounds.top+size/2,size/4,0,Math.PI*2,true);this.ctx.fillStyle=asString(INPUT_COLOR);this.ctx.fill();this.ctx.restore();}}}
if(isTextInputElement(container)&&container.value.length){this.ctx.font=this.createFontStyle(styles)[0];this.ctx.fillStyle=asString(styles.color);this.ctx.textBaseline='middle';this.ctx.textAlign=canvasTextAlign(container.styles.textAlign);bounds=contentBox(container);x=0;switch(container.styles.textAlign){case TEXT_ALIGN.CENTER:x+=bounds.width/2;break;case TEXT_ALIGN.RIGHT:x+=bounds.width;break;}
textBounds=bounds.add(x,0,0,-bounds.height/2+1);this.ctx.save();this.path([new Vector(bounds.left,bounds.top),new Vector(bounds.left+bounds.width,bounds.top),new Vector(bounds.left+bounds.width,bounds.top+bounds.height),new Vector(bounds.left,bounds.top+bounds.height)]);this.ctx.clip();this.renderTextWithLetterSpacing(new TextBounds(container.value,textBounds),styles.letterSpacing);this.ctx.restore();this.ctx.textBaseline='bottom';this.ctx.textAlign='left';}
if(!contains(container.styles.display,2048))return[3,20];if(!(container.styles.listStyleImage!==null))return[3,19];img=container.styles.listStyleImage;if(!(img.type===CSSImageType.URL))return[3,18];image=void 0;url=img.url;_b.label=15;case 15:_b.trys.push([15,17,,18]);return[4,this.options.cache.match(url)];case 16:image=_b.sent();this.ctx.drawImage(image,container.bounds.left-(image.width+10),container.bounds.top);return[3,18];case 17:e_3=_b.sent();Logger.getInstance(this.options.id).error("Error loading list-style-image "+url);return[3,18];case 18:return[3,20];case 19:if(paint.listValue&&container.styles.listStyleType!==LIST_STYLE_TYPE.NONE){this.ctx.font=this.createFontStyle(styles)[0];this.ctx.fillStyle=asString(styles.color);this.ctx.textBaseline='middle';this.ctx.textAlign='right';bounds=new Bounds(container.bounds.left,container.bounds.top+getAbsoluteValue(container.styles.paddingTop,container.bounds.width),container.bounds.width,computeLineHeight(styles.lineHeight,styles.fontSize.number)/2+1);this.renderTextWithLetterSpacing(new TextBounds(paint.listValue,bounds),styles.letterSpacing);this.ctx.textBaseline='bottom';this.ctx.textAlign='left';}
_b.label=20;case 20:return[2];}});});};CanvasRenderer.prototype.renderStackContent=function(stack){return __awaiter(this,void 0,void 0,function(){var _i,_a,child,_b,_c,child,_d,_e,child,_f,_g,child,_h,_j,child,_k,_l,child,_m,_o,child;return __generator(this,function(_p){switch(_p.label){case 0:return[4,this.renderNodeBackgroundAndBorders(stack.element)];case 1:_p.sent();_i=0,_a=stack.negativeZIndex;_p.label=2;case 2:if(!(_i<_a.length))return[3,5];child=_a[_i];return[4,this.renderStack(child)];case 3:_p.sent();_p.label=4;case 4:_i++;return[3,2];case 5:return[4,this.renderNodeContent(stack.element)];case 6:_p.sent();_b=0,_c=stack.nonInlineLevel;_p.label=7;case 7:if(!(_b<_c.length))return[3,10];child=_c[_b];return[4,this.renderNode(child)];case 8:_p.sent();_p.label=9;case 9:_b++;return[3,7];case 10:_d=0,_e=stack.nonPositionedFloats;_p.label=11;case 11:if(!(_d<_e.length))return[3,14];child=_e[_d];return[4,this.renderStack(child)];case 12:_p.sent();_p.label=13;case 13:_d++;return[3,11];case 14:_f=0,_g=stack.nonPositionedInlineLevel;_p.label=15;case 15:if(!(_f<_g.length))return[3,18];child=_g[_f];return[4,this.renderStack(child)];case 16:_p.sent();_p.label=17;case 17:_f++;return[3,15];case 18:_h=0,_j=stack.inlineLevel;_p.label=19;case 19:if(!(_h<_j.length))return[3,22];child=_j[_h];return[4,this.renderNode(child)];case 20:_p.sent();_p.label=21;case 21:_h++;return[3,19];case 22:_k=0,_l=stack.zeroOrAutoZIndexOrTransformedOrOpacity;_p.label=23;case 23:if(!(_k<_l.length))return[3,26];child=_l[_k];return[4,this.renderStack(child)];case 24:_p.sent();_p.label=25;case 25:_k++;return[3,23];case 26:_m=0,_o=stack.positiveZIndex;_p.label=27;case 27:if(!(_m<_o.length))return[3,30];child=_o[_m];return[4,this.renderStack(child)];case 28:_p.sent();_p.label=29;case 29:_m++;return[3,27];case 30:return[2];}});});};CanvasRenderer.prototype.mask=function(paths){this.ctx.beginPath();this.ctx.moveTo(0,0);this.ctx.lineTo(this.canvas.width,0);this.ctx.lineTo(this.canvas.width,this.canvas.height);this.ctx.lineTo(0,this.canvas.height);this.ctx.lineTo(0,0);this.formatPath(paths.slice(0).reverse());this.ctx.closePath();};CanvasRenderer.prototype.path=function(paths){this.ctx.beginPath();this.formatPath(paths);this.ctx.closePath();};CanvasRenderer.prototype.formatPath=function(paths){var _this=this;paths.forEach(function(point,index){var start=isBezierCurve(point)?point.start:point;if(index===0){_this.ctx.moveTo(start.x,start.y);}
else{_this.ctx.lineTo(start.x,start.y);}
if(isBezierCurve(point)){_this.ctx.bezierCurveTo(point.startControl.x,point.startControl.y,point.endControl.x,point.endControl.y,point.end.x,point.end.y);}});};CanvasRenderer.prototype.renderRepeat=function(path,pattern,offsetX,offsetY){this.path(path);this.ctx.fillStyle=pattern;this.ctx.translate(offsetX,offsetY);this.ctx.fill();this.ctx.translate(-offsetX,-offsetY);};CanvasRenderer.prototype.resizeImage=function(image,width,height){if(image.width===width&&image.height===height){return image;}
var canvas=this.canvas.ownerDocument.createElement('canvas');canvas.width=width;canvas.height=height;var ctx=canvas.getContext('2d');ctx.drawImage(image,0,0,image.width,image.height,0,0,width,height);return canvas;};CanvasRenderer.prototype.renderBackgroundImage=function(container){return __awaiter(this,void 0,void 0,function(){var index,_loop_1,this_1,_i,_a,backgroundImage;return __generator(this,function(_b){switch(_b.label){case 0:index=container.styles.backgroundImage.length-1;_loop_1=function(backgroundImage){var image,url,e_4,_a,path,x,y,width,height,pattern,_b,path,x,y,width,height,_c,lineLength,x0,x1,y0,y1,canvas,ctx,gradient_1,pattern,_d,path,left,top_1,width,height,position,x,y,_e,rx,ry,radialGradient_1,midX,midY,f,invF;return __generator(this,function(_f){switch(_f.label){case 0:if(!(backgroundImage.type===CSSImageType.URL))return[3,5];image=void 0;url=backgroundImage.url;_f.label=1;case 1:_f.trys.push([1,3,,4]);return[4,this_1.options.cache.match(url)];case 2:image=_f.sent();return[3,4];case 3:e_4=_f.sent();Logger.getInstance(this_1.options.id).error("Error loading background-image "+url);return[3,4];case 4:if(image){_a=calculateBackgroundRendering(container,index,[image.width,image.height,image.width/image.height]),path=_a[0],x=_a[1],y=_a[2],width=_a[3],height=_a[4];pattern=this_1.ctx.createPattern(this_1.resizeImage(image,width,height),'repeat');this_1.renderRepeat(path,pattern,x,y);}
return[3,6];case 5:if(isLinearGradient(backgroundImage)){_b=calculateBackgroundRendering(container,index,[null,null,null]),path=_b[0],x=_b[1],y=_b[2],width=_b[3],height=_b[4];_c=calculateGradientDirection(backgroundImage.angle,width,height),lineLength=_c[0],x0=_c[1],x1=_c[2],y0=_c[3],y1=_c[4];canvas=document.createElement('canvas');canvas.width=width;canvas.height=height;ctx=canvas.getContext('2d');gradient_1=ctx.createLinearGradient(x0,y0,x1,y1);processColorStops(backgroundImage.stops,lineLength).forEach(function(colorStop){return gradient_1.addColorStop(colorStop.stop,asString(colorStop.color));});ctx.fillStyle=gradient_1;ctx.fillRect(0,0,width,height);if(width>0&&height>0){pattern=this_1.ctx.createPattern(canvas,'repeat');this_1.renderRepeat(path,pattern,x,y);}}
else if(isRadialGradient(backgroundImage)){_d=calculateBackgroundRendering(container,index,[null,null,null]),path=_d[0],left=_d[1],top_1=_d[2],width=_d[3],height=_d[4];position=backgroundImage.position.length===0?[FIFTY_PERCENT]:backgroundImage.position;x=getAbsoluteValue(position[0],width);y=getAbsoluteValue(position[position.length-1],height);_e=calculateRadius(backgroundImage,x,y,width,height),rx=_e[0],ry=_e[1];if(rx>0&&rx>0){radialGradient_1=this_1.ctx.createRadialGradient(left+x,top_1+y,0,left+x,top_1+y,rx);processColorStops(backgroundImage.stops,rx*2).forEach(function(colorStop){return radialGradient_1.addColorStop(colorStop.stop,asString(colorStop.color));});this_1.path(path);this_1.ctx.fillStyle=radialGradient_1;if(rx!==ry){midX=container.bounds.left+0.5*container.bounds.width;midY=container.bounds.top+0.5*container.bounds.height;f=ry/rx;invF=1/f;this_1.ctx.save();this_1.ctx.translate(midX,midY);this_1.ctx.transform(1,0,0,f,0,0);this_1.ctx.translate(-midX,-midY);this_1.ctx.fillRect(left,invF*(top_1-midY)+midY,width,height*invF);this_1.ctx.restore();}
else{this_1.ctx.fill();}}}
_f.label=6;case 6:index--;return[2];}});};this_1=this;_i=0,_a=container.styles.backgroundImage.slice(0).reverse();_b.label=1;case 1:if(!(_i<_a.length))return[3,4];backgroundImage=_a[_i];return[5,_loop_1(backgroundImage)];case 2:_b.sent();_b.label=3;case 3:_i++;return[3,1];case 4:return[2];}});});};CanvasRenderer.prototype.renderBorder=function(color,side,curvePoints){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){this.path(parsePathForBorder(curvePoints,side));this.ctx.fillStyle=asString(color);this.ctx.fill();return[2];});});};CanvasRenderer.prototype.renderNodeBackgroundAndBorders=function(paint){return __awaiter(this,void 0,void 0,function(){var styles,hasBackground,borders,backgroundPaintingArea,side,_i,borders_1,border;var _this=this;return __generator(this,function(_a){switch(_a.label){case 0:this.applyEffects(paint.effects,2);styles=paint.container.styles;hasBackground=!isTransparent(styles.backgroundColor)||styles.backgroundImage.length;borders=[{style:styles.borderTopStyle,color:styles.borderTopColor},{style:styles.borderRightStyle,color:styles.borderRightColor},{style:styles.borderBottomStyle,color:styles.borderBottomColor},{style:styles.borderLeftStyle,color:styles.borderLeftColor}];backgroundPaintingArea=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip,0),paint.curves);if(!(hasBackground||styles.boxShadow.length))return[3,2];this.ctx.save();this.path(backgroundPaintingArea);this.ctx.clip();if(!isTransparent(styles.backgroundColor)){this.ctx.fillStyle=asString(styles.backgroundColor);this.ctx.fill();}
return[4,this.renderBackgroundImage(paint.container)];case 1:_a.sent();this.ctx.restore();styles.boxShadow.slice(0).reverse().forEach(function(shadow){_this.ctx.save();var borderBoxArea=calculateBorderBoxPath(paint.curves);var maskOffset=shadow.inset?0:MASK_OFFSET;var shadowPaintingArea=transformPath(borderBoxArea,-maskOffset+(shadow.inset?1:-1)*shadow.spread.number,(shadow.inset?1:-1)*shadow.spread.number,shadow.spread.number*(shadow.inset?-2:2),shadow.spread.number*(shadow.inset?-2:2));if(shadow.inset){_this.path(borderBoxArea);_this.ctx.clip();_this.mask(shadowPaintingArea);}
else{_this.mask(borderBoxArea);_this.ctx.clip();_this.path(shadowPaintingArea);}
_this.ctx.shadowOffsetX=shadow.offsetX.number+maskOffset;_this.ctx.shadowOffsetY=shadow.offsetY.number;_this.ctx.shadowColor=asString(shadow.color);_this.ctx.shadowBlur=shadow.blur.number;_this.ctx.fillStyle=shadow.inset?asString(shadow.color):'rgba(0,0,0,1)';_this.ctx.fill();_this.ctx.restore();});_a.label=2;case 2:side=0;_i=0,borders_1=borders;_a.label=3;case 3:if(!(_i<borders_1.length))return[3,7];border=borders_1[_i];if(!(border.style!==BORDER_STYLE.NONE&&!isTransparent(border.color)))return[3,5];return[4,this.renderBorder(border.color,side,paint.curves)];case 4:_a.sent();_a.label=5;case 5:side++;_a.label=6;case 6:_i++;return[3,3];case 7:return[2];}});});};CanvasRenderer.prototype.render=function(element){return __awaiter(this,void 0,void 0,function(){var stack;return __generator(this,function(_a){switch(_a.label){case 0:if(this.options.backgroundColor){this.ctx.fillStyle=asString(this.options.backgroundColor);this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height);}
stack=parseStackingContexts(element);return[4,this.renderStack(stack)];case 1:_a.sent();this.applyEffects([],2);return[2,this.canvas];}});});};return CanvasRenderer;}());var isTextInputElement=function(container){if(container instanceof TextareaElementContainer){return true;}
else if(container instanceof SelectElementContainer){return true;}
else if(container instanceof InputElementContainer&&container.type!==RADIO&&container.type!==CHECKBOX){return true;}
return false;};var calculateBackgroundCurvedPaintingArea=function(clip,curves){switch(clip){case BACKGROUND_CLIP.BORDER_BOX:return calculateBorderBoxPath(curves);case BACKGROUND_CLIP.CONTENT_BOX:return calculateContentBoxPath(curves);case BACKGROUND_CLIP.PADDING_BOX:default:return calculatePaddingBoxPath(curves);}};var canvasTextAlign=function(textAlign){switch(textAlign){case TEXT_ALIGN.CENTER:return 'center';case TEXT_ALIGN.RIGHT:return 'right';case TEXT_ALIGN.LEFT:default:return 'left';}};var ForeignObjectRenderer=(function(){function ForeignObjectRenderer(options){this.canvas=options.canvas?options.canvas:document.createElement('canvas');this.ctx=this.canvas.getContext('2d');this.options=options;this.canvas.width=Math.floor(options.width*options.scale);this.canvas.height=Math.floor(options.height*options.scale);this.canvas.style.width=options.width+"px";this.canvas.style.height=options.height+"px";this.ctx.scale(this.options.scale,this.options.scale);this.ctx.translate(-options.x+options.scrollX,-options.y+options.scrollY);Logger.getInstance(options.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+options.width+"x"+options.height+" at "+options.x+","+options.y+") with scale "+options.scale);}
ForeignObjectRenderer.prototype.render=function(element){return __awaiter(this,void 0,void 0,function(){var svg,img;return __generator(this,function(_a){switch(_a.label){case 0:svg=createForeignObjectSVG(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,element);return[4,loadSerializedSVG$1(svg)];case 1:img=_a.sent();if(this.options.backgroundColor){this.ctx.fillStyle=asString(this.options.backgroundColor);this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale);}
this.ctx.drawImage(img,-this.options.x*this.options.scale,-this.options.y*this.options.scale);return[2,this.canvas];}});});};return ForeignObjectRenderer;}());var loadSerializedSVG$1=function(svg){return new Promise(function(resolve,reject){var img=new Image();img.onload=function(){resolve(img);};img.onerror=reject;img.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(svg));});};var _this=undefined;var parseColor$1=function(value){return color.parse(Parser.create(value).parseComponentValue());};var html2canvas=function(element,options){if(options===void 0){options={};}
return renderElement(element,options);};CacheStorage.setContext(window);var renderElement=function(element,opts){return __awaiter(_this,void 0,void 0,function(){var ownerDocument,defaultView,instanceName,_a,width,height,left,top,defaultResourceOptions,resourceOptions,defaultOptions,options,windowBounds,documentCloner,clonedElement,container,documentBackgroundColor,bodyBackgroundColor,bgColor,defaultBackgroundColor,backgroundColor,renderOptions,canvas,renderer,root,renderer;return __generator(this,function(_b){switch(_b.label){case 0:ownerDocument=element.ownerDocument;if(!ownerDocument){throw new Error("Element is not attached to a Document");}
defaultView=ownerDocument.defaultView;if(!defaultView){throw new Error("Document is not attached to a Window");}
instanceName=(Math.round(Math.random()*1000)+Date.now()).toString(16);_a=isBodyElement(element)||isHTMLElement(element)?parseDocumentSize(ownerDocument):parseBounds(element),width=_a.width,height=_a.height,left=_a.left,top=_a.top;defaultResourceOptions={allowTaint:false,imageTimeout:15000,proxy:undefined,useCORS:false};resourceOptions=__assign({},defaultResourceOptions,opts);defaultOptions={backgroundColor:'#ffffff',cache:opts.cache?opts.cache:CacheStorage.create(instanceName,resourceOptions),logging:true,removeContainer:true,foreignObjectRendering:false,scale:defaultView.devicePixelRatio||1,windowWidth:defaultView.innerWidth,windowHeight:defaultView.innerHeight,scrollX:defaultView.pageXOffset,scrollY:defaultView.pageYOffset,x:left,y:top,width:Math.ceil(width),height:Math.ceil(height),id:instanceName};options=__assign({},defaultOptions,resourceOptions,opts);windowBounds=new Bounds(options.scrollX,options.scrollY,options.windowWidth,options.windowHeight);Logger.create({id:instanceName,enabled:options.logging});Logger.getInstance(instanceName).debug("Starting document clone");documentCloner=new DocumentCloner(element,{id:instanceName,onclone:options.onclone,ignoreElements:options.ignoreElements,inlineImages:options.foreignObjectRendering,copyStyles:options.foreignObjectRendering});clonedElement=documentCloner.clonedReferenceElement;if(!clonedElement){return[2,Promise.reject("Unable to find element in cloned iframe")];}
return[4,documentCloner.toIFrame(ownerDocument,windowBounds)];case 1:container=_b.sent();documentBackgroundColor=ownerDocument.documentElement?parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor):COLORS.TRANSPARENT;bodyBackgroundColor=ownerDocument.body?parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor):COLORS.TRANSPARENT;bgColor=opts.backgroundColor;defaultBackgroundColor=typeof bgColor==='string'?parseColor$1(bgColor):bgColor===null?COLORS.TRANSPARENT:0xffffffff;backgroundColor=element===ownerDocument.documentElement?isTransparent(documentBackgroundColor)?isTransparent(bodyBackgroundColor)?defaultBackgroundColor:bodyBackgroundColor:documentBackgroundColor:defaultBackgroundColor;renderOptions={id:instanceName,cache:options.cache,canvas:options.canvas,backgroundColor:backgroundColor,scale:options.scale,x:options.x,y:options.y,scrollX:options.scrollX,scrollY:options.scrollY,width:options.width,height:options.height,windowWidth:options.windowWidth,windowHeight:options.windowHeight};if(!options.foreignObjectRendering)return[3,3];Logger.getInstance(instanceName).debug("Document cloned, using foreign object rendering");renderer=new ForeignObjectRenderer(renderOptions);return[4,renderer.render(clonedElement)];case 2:canvas=_b.sent();return[3,5];case 3:Logger.getInstance(instanceName).debug("Document cloned, using computed rendering");CacheStorage.attachInstance(options.cache);Logger.getInstance(instanceName).debug("Starting DOM parsing");root=parseTree(clonedElement);CacheStorage.detachInstance();if(backgroundColor===root.styles.backgroundColor){root.styles.backgroundColor=COLORS.TRANSPARENT;}
Logger.getInstance(instanceName).debug("Starting renderer");renderer=new CanvasRenderer(renderOptions);return[4,renderer.render(root)];case 4:canvas=_b.sent();_b.label=5;case 5:if(options.removeContainer===true){if(!DocumentCloner.destroy(container)){Logger.getInstance(instanceName).error("Cannot detach cloned iframe as it is not in the DOM anymore");}}
Logger.getInstance(instanceName).debug("Finished rendering");Logger.destroy(instanceName);CacheStorage.destroy(instanceName);return[2,canvas];}});});};return html2canvas;}));}),1116:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _modules_stripe_checkout__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1117);var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var toggleModalCloseIcon=function toggleModalCloseIcon(){var formCloseIcon=$('.formBuilder .js-trigger-close');formCloseIcon.toggleClass('trigger-close_inverse');};var showPaymentOverlay=function showPaymentOverlay(paymentInfo){if(paymentInfo.api==='Paypal'&&(paymentInfo.purchase_type==='Recurring'||!paymentInfo.smartButtonsEnabled)){$('.js-ipn-payment-overlay').show();}else{$('.js-payment-overlay').show();}
toggleModalCloseIcon();};window.hidePaymentOverlay=function(){$('.js-payment-overlay').hide();$('.js-ipn-payment-overlay').hide();toggleModalCloseIcon();};window.checkout=function(e,previewModal){getCheckoutLocals().processingPayment=null;getCheckoutLocals().checkoutData=null;APP_MODEL.calculateCheckoutData();var button=e?$(e.target):null;var locals=getCheckoutLocals();var previewModal=locals.previewModal&&locals.previewModal.toString()==='true';if(!locals.checkoutData.paymentMethods.length&&!previewModal){if(button){var previousText=button.text();button.text('No payment methods connected.');setTimeout(function(){button.text(previousText);},3000);}
return;}
showPaymentOverlay(locals.checkoutData);window.showCheckoutModal();};window.showCheckoutModal=function(){var locals=getCheckoutLocals();if(getURLParameter('confirmation_code')&&!locals.checkoutData.confirmation_code){locals.checkoutData.confirmation_code=getURLParameter('confirmation_code');return populateConfirmation();};var confirmationCode=getURLParameter('confirmation_code')||locals.checkoutData.confirmation_code;normalizeLocals();if(locals.window_checkout){initializeListeners();var confirmationCode=getURLParameter('confirmation_code')||locals.checkoutData.confirmation_code;if(confirmationCode){locals.checkoutData.confirmation_code=confirmationCode;locals.checkoutData.buyer_data=JSON.parse(getURLParameter('buyer_data'));return populateConfirmation();}
$('.checkoutModal').css({display:'block'});if(locals.checkoutData.directlyToPaypal&&!window.isWebview()){var top=screen.height/2-425;$('.checkoutModal').html('<div class="loader-overlay" id="js-loader-overlay" style="position: relative; top: 425px;"><div class="preloader"><div class="preloader__box"></div><div class="preloader__box"></div><div class="preloader__box"></div></div></div>');return processPayment(null,false);}else{populateRightSide();populateSummary();$('.checkoutModal').css('z-index','2');$('.checkoutModal').fadeIn('600');$('.checkoutModal').css({width:'100%'});$('.checkoutModal').addClass('checkoutWindow');}}else{if(window.isWebview()){$('#checkoutFormData').val(JSON.stringify(locals.checkoutData));$('#checkoutForm').attr('action','/checkout/window/');$('#checkoutForm').submit();APP_MODEL.resetCart(true);}else{window.name=META.id+'_parent';var nav=navigator.userAgent.toLowerCase();var isIE=nav.indexOf('trident')>-1||nav.indexOf("msie ")>-1;if(locals.checkoutData.directlyToPaypal&&!window.isWebview()){var left=screen.width/2-600;var top=screen.height/2-425;var dimensions='height=850, width=1200, left='+left+', top='+top;}else{var left=screen.width/2-450;var top=screen.height/2-325;var dimensions='height=650, width=900, left='+left+', top='+top;}
var uri='/checkout/window/?window_checkout_mode=true&app_id='+window.META.id;window._checkout_locals=locals;if(isIE){var newWindow=window.open('','',dimensions);newWindow._checkout_locals=locals;newWindow.location=uri;}else{var newWindow=window.open(uri,'',dimensions);newWindow._checkout_locals=locals;}
ajaxController({url:'/checkout/create_pending_transaction',method:'POST',data:JSON.stringify(locals.checkoutData),contentType:'application/json'});return;}}};window.prepCheckoutWindow=function(){$(document).ready(function(){window.loadScripts();if(window.opener){window.APP_MODEL.setLocals($.extend(true,{window_checkout:true},window.opener._checkout_locals));}else{window.APP_MODEL.setLocals($.extend(true,{window_checkout:true},window._checkout_locals));}
window.showCheckoutModal();});};window.loadScripts=function(){$.getScript('https://js.stripe.com/v3');$.getScript('https://js.braintreegateway.com/v2/braintree.js');$.getScript('https://www.paypalobjects.com/api/checkout.js');};var normalizeLocals=function normalizeLocals(){var selectedItems=getCheckoutLocals().selectedItems;if(selectedItems&&(typeof selectedItems==='undefined'?'undefined':_typeof(selectedItems))==='object'){var selectedItemsArr=[];Object.keys(selectedItems).forEach(function(key){selectedItemsArr.push(selectedItems[key]);});APP_MODEL.setLocals({selectedItems:selectedItemsArr});}};var getCheckoutLocals=function getCheckoutLocals(){if(!APP_MODEL.get('locals').checkoutData){APP_MODEL.calculateCheckoutData();};return APP_MODEL.get('locals');};var populateRightSide=function populateRightSide(opts){var checkoutData=getCheckoutLocals().checkoutData;var container=$('#right-side');container.html('');var template=$('#right-side-content').html();var html=_.template(template)({data:checkoutData,simpleCopies:APP_MODEL.meta.simple_copies});container.html(formatForCurrency(html));if(opts&&opts.page==='payment'){if(checkoutData.item){var summary=checkoutData.item.quantity+'x '+checkoutData.item.title+':';$('#subtotal').text(summary);}
$('#payment-methods-container').addClass('hidden');$('#right-side-title').text('Totals');$('#goToPaymentButtonContainer').addClass('hidden');$('#paymentButtonContainer').removeClass('hidden');}else{$('#payment-methods-container').removeClass('hidden');}
if(!checkoutData.item&&!checkoutData.selected_items.length){$('#goToPaymentButtonContainer').addClass('hidden');$('.safe-and-secure').addClass('hidden');}
if(checkoutData.purchase_type==='BuyNow'&&checkoutData.api==='Paypal'&&checkoutData.smartButtonsEnabled&&!window.isWebview()){renderSmartButton();}};var closeCheckoutModal=function closeCheckoutModal(){APP_MODEL.setLocals({previewModal:false});if(getCheckoutLocals().window_checkout){window.close();}else{var checkoutModal=$('.checkoutModal');checkoutModal.fadeOut('fast');setTimeout(function(){checkoutModal.css('z-index','-1');},618);goToSummary();}};var populateSummary=function populateSummary(){var container=$('#left-side');var checkoutData=getCheckoutLocals().checkoutData;container.html('');var template=$('#cart-summary').html();var html=_.template(template)({data:checkoutData,simpleCopies:APP_MODEL.meta.simple_copies});container.html(formatForCurrency(html));if(APP_MODEL.get('noShipping')){$('#left-side').removeClass('mobile-expanded-left-side');}
$('#note-to-seller').val(checkoutData.memo);};var renderSmartButton=function renderSmartButton(){if(!window.paypal||!$('#paypal-button').length){setTimeout(renderSmartButton,500);return;}
var checkoutData=getCheckoutLocals().checkoutData||APP_MODEL.calculateCheckoutData();checkoutData.app_id=APP_MODEL.meta.id;window.paypal.Button.render({env:ENVIRONMENT=='production'?'production':'sandbox',style:{layout:'vertical',size:'medium',shape:'rect',color:'gold',label:'checkout'},funding:{allowed:[paypal.FUNDING.CREDIT],disallowed:[paypal.FUNDING.CARD]},client:{sandbox:'AZOuKdY4-RlcWi9pwdjs3Ja4hT8ft8f0i50hv-S1y_yVbtfGaghf6f9Z97f1l3-3qr8oV5sz4vov80hi',production:'ASeEwM3xfNywcWueMJSpBfeDgwItsdAcqpvV1C47xinYQtPi4L2tiBv-cgMt-D0irLIwS_j0aG-vuM3a'},payment:function payment(data,actions){return actions.request.post('/checkout/cached/null?submit_type=form',{checkout:JSON.stringify(getCheckoutLocals().checkoutData)}).then(function(res){var c=res.confirmation_code;if(c&&typeof c==='string'&&c.slice(0,5)==='powr_'){return handleResponse(res);};checkoutData=$.extend(true,checkoutData,res);return res.id;});},validate:function validate(actions){if(missingBuyerData()){actions.disable();}else{actions.enable();}},onAuthorize:function onAuthorize(data,actions){return actions.request.post('/checkout/paypal_success/'+getURLParameter('transaction_id'),{paymentID:data.paymentID,payerID:data.payerID}).then(function(data){handleResponse(data);});},onError:function onError(data){data.checkout_error_message=data.message.split('"')[3];handleResponse(data);}},'#paypal-button');};var toggleStripeError=function toggleStripeError(showError,message){var displayError=document.getElementById('card-errors');if(showError){displayError.style.opacity=1;displayError.textContent=message;}else{displayError.style.opacity=0;}};var handleStripeError=function handleStripeError(error){toggleStripeError(true,error.message);};var paymentMethodAssets={Stripe:{icon:'fa-credit-card',text:'pay_now'},Offline:{icon:'fa-shopping-bag',text:'pay_in_store'},Paypal:{icon:'fa-paypal',text:'pay_with_paypal'},Braintree:{icon:'fa-credit-card',text:'pay_now'}};var populatePayment=function populatePayment(form){var self=this;var locals=getCheckoutLocals();var checkoutData=locals.checkoutData;var template=$('#payment').html();var container=$('#left-side');container.html('');var html=_.template(template)({data:checkoutData,assets:paymentMethodAssets,simpleCopies:APP_MODEL.meta.simple_copies});container.html(formatForCurrency(html));if(form){$('#purchaseForm').replaceWith(form);}
if(locals.total_discounts!==currency()+'0'){$('#card-element').css('opacity','1');}
if(APP_MODEL.get('stripeEnabled')&&$('#card-element')[0]){locals.stripeCheckout=new _modules_stripe_checkout__WEBPACK_IMPORTED_MODULE_0__["default"](window.stripe_user_id,APP_MODEL.meta.id,$('#card-element')[0],window.Stripe,checkoutData,handleStripeError,toggleStripeError);}
if(APP_MODEL.get('braintreeEnabled')&&checkoutData.purchase_type!=='Recurring'){getBraintreeClient();}
if(APP_MODEL.get('noShipping')){$('#left-side').addClass('mobile-expanded-left-side');}
var mobileBackButton=$('.mobile-back-button-container')[0];if(mobileBackButton){mobileBackButton.scrollIntoView();}};var getBraintreeClient=function getBraintreeClient(){ajaxController({url:'/braintree/client_token/'+APP_MODEL.meta.id},function(data){APP_MODEL.setLocals({braintreeClient:new braintree.api.Client({clientToken:data.braintree_client_token})});});};var populateConfirmation=function populateConfirmation(){var checkoutData=getCheckoutLocals().checkoutData;checkoutData.isWebview=window.isWebview();var container=$('.checkoutModal');container.html('');var template=$('#confirmation').html();var html=_.template(template)({data:checkoutData,simpleCopies:APP_MODEL.meta.simple_copies});if(checkoutData.directlyToPaypal===true&&!window.isWebview()){container.css({display:'block',top:'100px','box-shadow':'0 0 6px -2px rgba(0,0,0,.7)'});}else{container.css({display:'block',width:'100%','box-shadow':'none'});}
$('iframe').remove();container.html(formatForCurrency(html));window.opener.hidePaymentOverlay();};var goToSummary=function goToSummary(){$('.cart-summary').removeClass('hidden');$('.payment:not(.section)').addClass('hidden');$('.confirmation').addClass('hidden');if(getCheckoutLocals().window_checkout){window.resizeBy(0,550-window.innerHeight);}else{$('.checkoutModal').css('top','100px');}};var missingBuyerData=function missingBuyerData(){var missingData=false;var ignoreFields=['buyer_memo'];var checkoutData=getCheckoutLocals().checkoutData;if(!checkoutData.addressNotRequired){ignoreFields=['buyer_first_name','buyer_last_name','buyer_address','buyer_zip','buyer_city','buyer_state','buyer_memo'];}
if(checkoutData.merchantPriceMissing&&checkoutData.merchantPriceMissing.toString()==='true'&&getFloat($('#user-price-amount').val())===0&&getFloat($('#donation-amount').val())===0&&getFloat($('#donation-amount-sm').val())===0&&getFloat(checkoutData.post_trial.items_price)===0){$('#user-price-amount').addClass('border-color-red');$('#donation-amount-sm').addClass('border-color-red');$('#donation-amount').addClass('border-color-red');missingData=true;}
$('#purchaseForm').children().each(function(idx,element){$(element).find('input').each(function(idx,input){if(arrayHasValue(ignoreFields,input.name)){return;}
if(!input.value){$(input).addClass('border-color-red');if(!missingData&&!window.name){input.scrollIntoView();}
missingData=true;}});});if(arrayHasValue(checkoutData.paymentMethods,'Braintree')){$('#braintree-element').children().each(function(idx,input){if(arrayHasValue(ignoreFields,input.name)){return;}
if(!input.value&&checkoutData.api==='Braintree'){$(input).addClass('border-color-red');missingData=true;}else{$(input).removeClass('border-color-red');}});}
return missingData;};var missingOptions=function missingOptions(){return false;};var handleCheckoutSuccess=function handleCheckoutSuccess(checkoutData,successData){if(successData.window_redirect_url){var left=void 0;var top=void 0;var parentWindow=window.opener;try{if(!checkoutData.payer_id&&!checkoutData.directlyToPaypal){left=screen.width/2-600;top=screen.height/2-window.innerHeight/2;window.moveTo(left,top);window.resizeBy(300,200);}
top=screen.height/2-425;$('.checkoutModal').html('<div class="loader-overlay" id="js-loader-overlay" style="position: relative; top: 425px;"><div class="preloader"><div class="preloader__box"></div><div class="preloader__box"></div><div class="preloader__box"></div></div></div>');$(window).off('beforeunload');if(parentWindow&&parentWindow.APP_MODEL&&parentWindow.APP_MODEL.attributes&&parentWindow.APP_MODEL.attributes.locals){parentWindow.APP_MODEL.attributes.locals.processingPayment=null;parentWindow.APP_MODEL.resetCart(true);}
window.location.assign(successData.window_redirect_url);}catch(e){handleResponse(e);}}else{handleResponse(successData);}};var processPayment=function processPayment(button,requireBuyerData){requireBuyerData=requireBuyerData||true;var locals=getCheckoutLocals();var checkoutData=locals.checkoutData;if(checkoutData.formResponse){normalizeFormResponse(checkoutData);};checkoutData.app_id=APP_MODEL.meta.id;checkoutData.view_mode=APP_MODEL.meta.view_mode;checkoutData.window_checkout=locals.window_checkout;if(requireBuyerData&&missingBuyerData()){return;}
if(locals.processingPayment){return;}
if(button){var previousButtonHtml=button.html();button.text('Processing...');button.prop('disabled',true);}
getCheckoutLocals().processingPayment=true;if(requireBuyerData){var email=(checkoutData.buyer_data||{}).email;var name=(checkoutData.buyer_data||{}).name;var address=(checkoutData.buyer_data||{}).address;var city=(checkoutData.buyer_data||{}).city;var state_or_provence=(checkoutData.buyer_data||{}).state_or_provence;var zip_or_country=(checkoutData.buyer_data||{}).zip_or_country;if($('[name="buyer_email"]').val()){checkoutData.buyer_data={name:name||$('[name="buyer_first_name"]').val()+' '+$('[name="buyer_last_name"]').val(),email:email||$('[name="buyer_email"]').val(),payer_email:$('[name="buyer_email"]').val(),address:address||$('[name="buyer_address"]').val(),city:city||$('[name="buyer_city"]').val(),state_or_provence:state_or_provence||$('[name="buyer_state"]').val(),zip_or_country:zip_or_country||$('[name="buyer_zip"]').val(),memo:checkoutData.memo};}else{checkoutData.buyer_data={name:name||unescape(getURLParameter('name')).replace(/\+/g,' '),email:email||unescape(getURLParameter('email')).replace(/\+/g,' '),address:address||unescape(getURLParameter('address')).replace(/\+/g,' '),city:city||unescape(getURLParameter('city')).replace(/\+/g,' '),state_or_provence:state_or_provence||unescape(getURLParameter('state_or_provence')).replace(/\+/g,' '),zip_or_country:zip_or_country||unescape(getURLParameter('zip_or_country')).replace(/\+/g,' ')};}}
if(checkoutData.buyer_data.name.match('undefined')){checkoutData.buyer_data.name='';}
checkoutData.payer_id=getURLParameter('PayerID');checkoutData.TOKEN=getURLParameter('token');if(window.isWebview()&&locals.checkoutData.api!=='Stripe'){locals.checkoutData.isWebview=true;$('#checkoutFormData').val(JSON.stringify(locals.checkoutData));$('#checkoutForm').attr('action','/checkout');$('#checkoutForm').submit();APP_MODEL.resetCart(true);return;}
if(checkoutData.api==='Braintree'&&!locals.token){locals.braintreeClient.tokenizeCard({number:$('#braintree-card-number').val(),expirationMonth:$('#braintree-exp-month').val(),expirationYear:$('#braintree-exp-year').val(),cvv:$('#braintree-cvv').val()},function(err,nonce){if(err){if(button){button.html(previousButtonHtml);}
var errorElement=document.getElementById('card-errors');errorElement.textContent=err.message;}else if(nonce){APP_MODEL.setLocals({token:nonce});button.text('Confirm Purchase');}});button.prop('disabled',false);return;}else if(checkoutData.api==='Stripe'&&!locals.token){locals.processingPayment=true;button.prop('disabled',true);locals.stripeCheckout.processPayment(checkoutData,function(result){handleStripeError(result);button.text(previousButtonHtml);button.prop('disabled',false);locals.processingPayment=null;},function(result){toggleStripeError();button.prop('disabled',false);locals.processingPayment=null;handleCheckoutSuccess(checkoutData,result);});return;}else{checkoutData.token=getCheckoutLocals().token;}
ajaxController({url:'/checkout/',method:'POST',data:JSON.stringify(checkoutData),contentType:'application/json'},handleCheckoutSuccess.bind(null,checkoutData));};var handleResponse=function handleResponse(data){var locals=getCheckoutLocals();var checkoutData=locals.checkoutData;checkoutData.confirmation_code=data.confirmation_code;checkoutData.checkout_error_message=data.checkout_error_message;populateConfirmation();getCheckoutLocals().processingPayment=null;APP_MODEL.resetCart();};var getSelectedItemFromEvent=function getSelectedItemFromEvent(e){var checkoutData=getCheckoutLocals().checkoutData;var selectedItemIdx=parseInt($(e.target).parent().prop('id'));if(checkoutData){return checkoutData.selected_items[selectedItemIdx];}};var currency=function currency(){var currency_symbols={USD:'$',BRL:'R$',CZK:'K',DKK:'kr ',EUR:'',HUF:'Ft',ILS:'',JPY:'',MYR:'RM',NOK:'kr ',PHP:'',PLN:'z',GBP:'',RUB:'',SEK:'Kr ',CHF:'CHF',THB:'',TRY:'&#8378;'};if(currency_symbols[APP_MODEL.get('currencyCode')]==undefined){return '$';}else{return currency_symbols[APP_MODEL.get('currencyCode')];}};window.buyerDataPresent=function(){return!!getURLParameter('name')&&!!getURLParameter('email')&&!!getURLParameter('address')&&!!getURLParameter('city')&&!!getURLParameter('state_or_provence')&&!!getURLParameter('zip_or_country');};window.normalizeFormResponse=function(data){data.form_response=Object.keys(data.form_response).map(function(key){return data.form_response[key];});};window.recurringString=function(item){var preface=item.trialOn||item.paypalTrialOn?' for the first ':' every ';var unit=item.trialOn||item.paypalTrialOn?item.trialDurationUnits||item.paypalTrialDurationUnits:item.subscriptionDurationUnits||item.paypalSubscriptionDurationUnits;var numUnits=item.trialOn||item.paypalTrialOn?item.trialDuration||item.paypalTrialDuration:item.subscriptionDuration||item.paypalSubscriptionDuration;var unitString={D:'day',W:'week',M:'month',Y:'year'}[unit];if(numUnits>1){var numUnitsString=numUnits.toString()+' ';unitString+='s';}else{var numUnitsString='';}
return preface+numUnitsString+unitString;};window.getFloat=function(input){if(arrayHasValue(['object','undefined'],typeof input==='undefined'?'undefined':_typeof(input))){return 0;}
var matchData=input.toString().match(/[0-9]+[\., \,][0-9]+|[0-9]+/g)||['0'];var string=matchData[0].replace(',','.');if(arrayHasValue(['.',','],input.toString().replace('-','')[0])){string='0.'+string;}
var value=parseFloat(string);return input.toString().match('-')?-value:value;};var formatForCurrency=function formatForCurrency(html){if(!arrayHasValue(['','CHF'],currency())){return html;}
return html.replace(/[0-9]+\.[0-9]{2}/g,function(amount){return amount.replace('.',',');});};window.twoDecimals=function(number){if(typeof number==='undefined'){return '0.00';}
var integer=number.toString().split('.')[0];var decimals=number.toString().split('.')[1]||'00';while(decimals.length<2){decimals+='0';}
return integer+'.'+decimals.slice(0,2);};window.inCents=function(amountString){return parseInt(amountString.replace('.',''));};window.addTotals=function(data){var totalType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'post_trial';var total=inCents(twoDecimals(data[totalType].items_price))+inCents(twoDecimals(data[totalType].tax))+inCents(twoDecimals(data[totalType].shipping))-inCents(twoDecimals(data[totalType].discount));if(total<0){total=0;};return twoDecimals(total/100.0);};window.minimumCharge=function(currencyCode,api){if(['Paypal',"Offline"].indexOf(api)>-1){return 0;}
return{USD:0.5,CAD:0.5,GBP:0.5,EUR:0.5,DKK:5,NOK:5,SEK:5,CHF:1,AUD:1,JPY:50,MXN:10,SGD:1,HKD:4}[currencyCode]||0.5;};window.arrayHasValue=function(array,value){return $.inArray(value,array)!==-1;};window.rgb2hex=function(rgb){if(rgb[rgb.length-2]==='0'){return '#ffffff';}
rgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return rgb&&rgb.length===4?'#'+('0'+parseInt(rgb[1],10).toString(16)).slice(-2)+('0'+parseInt(rgb[2],10).toString(16)).slice(-2)+('0'+parseInt(rgb[3],10).toString(16)).slice(-2):'';};window.objectAssignIE=function(object1,object2){Object.keys(object2).forEach(function(key){object1[key]=object2[key];});return object1;};window.formatPriceChange=function(priceChange){if(!priceChange){return '';}
if(priceChange>0){return '+'+currency()+priceChange.toString();}
if(priceChange<0){return '-'+currency()+priceChange.toString();}};var initializeListeners=function initializeListeners(){$(document).on('click','#review-step, .backToCartButton',function(e){e.preventDefault();populateSummary();populateRightSide();});$(document).on('click','.payment-method-radio',function(e){getCheckoutLocals().checkoutData.api=e.target.value;APP_MODEL.calculateCheckoutData();populateRightSide();populateSummary();});$(document).on('click','.makePaymentButton',function(e){var button=$(e.target);if(!button.prop('id')){return;}
APP_MODEL.calculateCheckoutData();var locals=getCheckoutLocals();var checkoutData=locals.checkoutData;checkoutData.api=button.prop('id');var previewModal=locals.previewModal;if(previewModal&&previewModal.toString()==='true'){if(missingBuyerData()){return;}
handleResponse({confirmation_code:'TEST TRANSACTION'});}else{processPayment(button);}});$(document).on('change','#cart-item-quantity',function(e){var locals=getCheckoutLocals();var checkoutData=locals.checkoutData;if(parseInt(e.target.value)<1){e.target.value=1;}
if(checkoutData.selected_items){var selectedItem=getSelectedItemFromEvent(e);selectedItem.quantity=e.target.value;}else{getCheckoutLocals().quantity=e.target.value;}
APP_MODEL.calculateCheckoutData();populateSummary();populateRightSide();});$(document).on('change','#donation-amount, #donation-amount-sm',function(e){var checkoutData=getCheckoutLocals().checkoutData;if(getFloat(e.target.value)<0){e.target.value=0;}
getCheckoutLocals().donation=e.target.value;APP_MODEL.calculateCheckoutData();populateSummary();populateRightSide();});$(document).on('change','#user-price-amount',function(e){var checkoutData=getCheckoutLocals().checkoutData;if(getFloat(e.target.value)<0){e.target.value=0;}
getCheckoutLocals().donation=e.target.value;APP_MODEL.calculateCheckoutData();populateSummary();populateRightSide();});$(document).on('change','.checkout-dropdown',function(e){var checkoutData=getCheckoutLocals().checkoutData;if(checkoutData.selected_items){var selectedItem=getSelectedItemFromEvent(e);var optionGroupIdx=$(e.target).prop('id');var optionIdx=$(e.target).find('option:selected').prop('id');selectedItem.optionIndexes[optionGroupIdx]=parseInt(optionIdx);}else{getCheckoutLocals().selectedOptionIdx=$(e.target).find('option:selected').prop('id');}
APP_MODEL.calculateCheckoutData();populateSummary();populateRightSide();});$(document).on('click','.cancelItem',function(e){var selectedItem=getSelectedItemFromEvent(e);var checkoutData=getCheckoutLocals().checkoutData;var selectedItemIdx=checkoutData.selected_items.indexOf(selectedItem);checkoutData.selected_items.splice(selectedItemIdx,1);APP_MODEL.calculateCheckoutData();populateSummary();populateRightSide();if(!checkoutData.selected_items.length){$('.goToPaymentButton').css('opacity','0.3');}});$(document).on('click','.discount-button',function(){var discountCode=$('.payment-discount-input').val();if(!discountCode){return;};APP_MODEL.setLocals({discountCode:discountCode});APP_MODEL.calculateCheckoutData();populateSummary();populateRightSide();});$(document).on('click','.discount-container',function(){$('.discount-container').addClass('hidden');$('.discount-input-container').removeClass('hidden');});$(document).on('change','.payment-inline-input',function(e){if($(e.target).val()){$(e.target).removeClass('border-color-red');}});$(document).on('change','[name="buyer_memo"]',function(e){var checkoutData=getCheckoutLocals().checkoutData;checkoutData.memo=e.target.value;});$(document).on('change','[name="paymentMethod"]',function(e){var checkoutData=getCheckoutLocals().checkoutData;checkoutData.api=e.target.value;checkoutData.memo=$('#note-to-seller').val();populateSummary();populateRightSide();});$(document).on('click','#goToPaymentButton',function(){if(missingOptions()){return;}
var checkoutData=getCheckoutLocals().checkoutData;if(checkoutData.api==='Paypal'){if(checkoutData.addressNotRequired!=='false'||checkoutData.purchase_type==='BuyNow'||checkoutData.purchase_type==='Donate'||buyerDataPresent()){return processPayment();}}
if(!missingBuyerData()){populatePayment();populateRightSide({page:'payment'});}});$(document).on('click','#paymentButton',function(e){processPayment($(e.target));});$(document).on('focus','#note-to-seller',function(e){$(e.target).css('height','175px');$('#left-side').addClass('mobile-expanded-left-side');});$(document).on('blur','#note-to-seller',function(e){$(e.target).css('height','30px');$('#left-side').removeClass('mobile-expanded-left-side');});$(document).on('click','.backToStoreButton, .checkoutModalClose',function(){closeCheckoutModal();});$(document).on('click','*',function(e){if(!$(e.target).closest('.checkoutModal')[0]&&getCheckoutLocals().window_checkout.toString()!=='true'&&!$(e.target).closest('.cancelItem')[0]&&!$(e.target).closest('.goToPaymentButton')[0]&&!$(e.target).closest('.checkoutButtonWrapper')[0]&&!$(e.target).closest('.previewModalButton')[0]&&!$(e.target).closest('#checkoutModalSection')[0]&&!$(e.target).closest('.cart-button')[0]){closeCheckoutModal();}});};}),1117:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _class,_temp,_initialiseProps;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var StripeCheckout=(_temp=_class=function(){function StripeCheckout(stripeUserID,appID,cardContainerDomObject,stripeObject,checkoutData,cardChangeErrorHandler,cardChangeSuccessHandler){_classCallCheck(this,StripeCheckout);_initialiseProps.call(this);this.stripeUserID=stripeUserID;this.appID=appID;this.cardContainerDomObject=cardContainerDomObject;this.stripeObject=stripeObject;this.checkoutData=checkoutData;this.cardChangeErrorHandler=cardChangeErrorHandler;this.cardChangeSuccessHandler=cardChangeSuccessHandler;this.createAndMountCard();}
_createClass(StripeCheckout,[{key:'createAndMountCard',value:function createAndMountCard(){this.card=this.stripeInstance.elements().create('card',{id:'card_number'});this.card.mount(this.cardContainerDomObject);this.card.addEventListener('change',this.cardChangeHandler);}},{key:'confirmPayment',value:function confirmPayment(data){var _this=this;return this.stripeInstance.createToken(this.card).then(function(response){return fetch('/checkout/confirm-payment',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_extends({},_this.checkoutData,{token:data.paymentMethod.id,app_id:_this.appID,customer_id:data.customer_id,intent_id:data.intent_id,source:response.token.id}))}).then(function(res){return res.json();}).catch(console.log);});}},{key:'handleCardAction',value:function handleCardAction(response,data,errorHandler,successHandler){var _this2=this;this.stripeInstance.handleCardAction(response.payment_intent_client_secret).then(function(result){if(result.error){return errorHandler(result.error);}
_this2.confirmPayment(_extends({},data,{customer_id:response.customer_id,intent_id:response.intent_id})).then(function(res){if(res.error){errorHandler(res.error);}else if(res.requires_action){_this2.handleCardAction(res,data,errorHandler,successHandler);}else{successHandler(res);}});});}},{key:'createPayment',value:function createPayment(errorHandler,successHandler){var _this3=this;this.stripeInstance.createPaymentMethod('card',this.card).then(function(result){if(result.error){errorHandler(result.error);}else{_this3.confirmPayment(result).then(function(response){if(response.error){errorHandler(response.error);}else if(response.requires_action){_this3.handleCardAction(response,result,errorHandler,successHandler);}else{successHandler(response);}});}});}},{key:'stripeKey',get:function get(){return ENVIRONMENT=='production'?'pk_live_dG3PRZbeKyeq01hNmpFmk9Qs':'pk_test_VaXpTh86OgrdlsCwNacGBIAz';}},{key:'stripeInstance',get:function get(){if(!this._stripeInstance&&this.stripeUserID){this._stripeInstance=this.stripeObject(this.stripeKey,{stripeAccount:this.stripeUserID});}
return this._stripeInstance;}}]);return StripeCheckout;}(),_initialiseProps=function _initialiseProps(){var _this4=this;this.processPayment=function(checkoutData,errorHandler,successHandler){_this4.checkoutData=checkoutData;_this4.createPayment(errorHandler,successHandler);};this.cardChangeHandler=function(event){if(event.error){_this4.cardChangeErrorHandler(event.error);}else{_this4.cardChangeSuccessHandler();}};},_temp);__webpack_exports__["default"]=(StripeCheckout);}),1121:(function(module,exports,__webpack_require__){var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
__webpack_require__(1101);__webpack_require__(1091);__webpack_require__(1087);__webpack_require__(1099);__webpack_require__(1092);__webpack_require__(1086);__webpack_require__(1096);__webpack_require__(1094);__webpack_require__(382);__webpack_require__(1116);var maxHeightForLargeWatermark=500;$(function(){formBuilderBaseModel=appModel.extend({baseDefaults:function baseDefaults(){var d=_extends({},__webpack_require__(496).default,{smartButtonsEnabled:new Date(META.created_at)>new Date('2018-12-17'),afterSubmissionImage:new Date(META.created_at)>new Date('2019-06-25')?'https://powr.s3-us-west-1.amazonaws.com/images/checkmark.png':''});if(HOST=='weebly'){d['formTriggerElementStyle']='tab';d['formTriggerPositionOffset']='50%';}
if(HOST=='wix'){try{var header_font=Wix.Styles.getSiteTextPresets()['Heading-M'].fontFamily;var body_font=Wix.Styles.getSiteTextPresets()['Body-M'].fontFamily;d['inputFontFamily']=body_font;d['textFontFamily']=body_font;d['titleFontFamily']=header_font;}catch(err){}
d['titleFontColorWix']='color-5';d['textFontColorWix']='color-4';d['inputBackgroundColorWix']='color-1';d['inputFontColorWix']='color-4';d['backgroundColorWix']='color-1';d['backgroundStartColorWix']='color-1';d['backgroundEndColorWix']='color-2';d['buttonColorWix']='color-1';d['buttonBackgroundColorWix']='color-8';d['backgroundBorderColorWix']='color-2';}
return d;},chameleonMapper:{titleFontFamily:'header.fontFamily',titleFontSize:'header.fontSize',titleFontColor:'header.color',textFontFamily:'text.fontFamily',textFontSize:'text.fontSize',textFontColor:'text.color',buttonBackgroundColor:'button.background',buttonColor:'button.color',backgroundColor:'div.background',inputFontSize:'text.fontSize',inputFontFamily:'input.fontFamily'},themeMapper:{background:'backgroundColor',titleFont:'titleFontFamily',titleColor:'titleFontColor',labelFont:'textFontFamily',labelColor:'textFontColor',buttonColor:'buttonBackgroundColor'},addOrUpdatePowrMail:function addOrUpdatePowrMail(emails,conditional_emails){APP_SETTINGS.observableStore.updateValue({key:'model.emails',value:emails,refreshSettings:true});APP_SETTINGS.observableStore.updateValue({key:'model.conditionalLogicEmails',value:conditional_emails,refreshSettings:true});},resetCart:function resetCart(){var webview_reset=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(webview_reset){APP_MODEL.syncLocalData(true);APP_MODEL.setLocals({checkoutData:null});APP_MODEL.view.afterSubmission();}else if((this.get('locals').checkoutData||{}).confirmation_code){window.opener.APP_MODEL.syncLocalData(true);window.opener.APP_MODEL.setLocals({checkoutData:null});window.opener.APP_MODEL.view.afterSubmission();}},connectToStripe:function connectToStripe(){if(!META.external_data||!META.external_data.stripe_connected){var redirect=baseUri()+'/stripe/connect/';if(ENVIRONMENT=='production'){var client_id='ca_AXJPUCBikBt9fKD9Oy3keLEGlommaUyd';}else{var client_id='ca_AXJPkT7jXZWeoXBz1AcNdGlY6Uc5VlWY';}
var url='https://connect.stripe.com/oauth/authorize?response_type=code&client_id='+client_id+'&scope=read_write&state='+META.id+'&redirect_uri='+redirect;var w=Math.round(screen.width/2);var h=screen.height;window.name=META.id;window.open(url,'','width='+w+',height='+h+',scrollbars=1');}},shouldShowDiscount:function shouldShowDiscount(){return this.attributes.discounts.length>0;},calculateCheckoutData:function calculateCheckoutData(){var self=this;var m=this.attributes;var discountCodeStatus=null;if(m.paypalAllowUserToSpecifyPrice&&m.paypalPurchaseType==='Recurring'){m.paypalAllowUserToSpecifyPrice=false;}
var quantity=getFloat(m.locals.quantity)||getFloat(m.paypalQuantity)||1;var purchaseType=m.paypalPurchaseType;var itemPrice=getFloat(this.formElementsViewModule.calculatePrice().replace(/[^\d.,-]/g,''));itemPrice=twoDecimals((m.paypalAllowUserToSpecifyPrice?m.locals.donation||itemPrice:itemPrice)*quantity);var merchantPriceMissing=m.paypalAllowUserToSpecifyPrice?true:m.paypalPurchaseType==='BuyNow'&&getFloat(itemPrice)===0||m.paypalPurchaseType==='Donate'&&getFloat(itemPrice)===0.0;if((merchantPriceMissing||!!m.donation)&&getFloat(itemPrice)<0){itemPrice=twoDecimals(parseFloat($('#user-price-amount').val())||0);}
if(getFloat(itemPrice)<0){itemPrice='0.00';}
if(m.paypalTrialOn){var trialPrice=getFloat(m.paypalTrialPrice);if(m.locals&&m.locals.checkoutData&&m.locals.checkoutData.api){var min=minimumCharge(m.paypalCurrencyCode,m.locals.checkoutData.api);if(trialPrice<min){trialPrice=min;}}}
var paymentMethods=[];if(m.paypalEnabled&&m.paypalPaypalAccount){paymentMethods.push('Paypal');}
if(m.stripeEnabled&&(META.external_data||{}).stripe_connected){paymentMethods.push('Stripe');}
if(m.braintreeEnabled&&(META.external_data||{}).braintree_connected){paymentMethods.push('Braintree');}
if(m.offlineEnabled){paymentMethods.push('Offline');}
var discount=0;var discountCode=self.get('locals').discountCode;var validCode=false;m.discounts.forEach(function(d){if(d.discountCode==discountCode){validCode=d;}});if(validCode){discountCodeStatus='success';if(validCode.discountType==='rate'){discount=getFloat(itemPrice)*(validCode.discountAmount/100);if(m.paypalTrialOn){var trialDiscount=getFloat(m.paypalTrialPrice)*(getFloat(validCode.discountAmount)/100);}}else{discount=getFloat(validCode.discountAmount);}}
if(discountCode&&!validCode){discountCodeStatus='failure';}
if(m.paypalTaxType==='rate'){var tax=(getFloat(itemPrice)-getFloat(discount))*(getFloat(m.paypalTaxRate)/100);if(m.paypalTrialOn){var trialTax=getFloat(m.paypalTrialPrice)*(getFloat(m.paypalTaxRate)/100);}}else{var tax=getFloat(m.paypalTaxAmount);}
if(!m.locals.window_checkout){try{var formResponse=this.view.getSubmitData();}catch(e){}}
var formResponse=formResponse||(m.locals.checkoutData&&m.locals.checkoutData.form_response?m.locals.checkoutData.form_response:[]);var addressNotRequired=m.paypalNoShipping!=='2'&&m.paypalNoShipping!==true||m.data.filter(function(d){return d.isShippingAddress;}).length>0;var directlyToPaypal=paymentMethods.length===1&&arrayHasValue(paymentMethods,'Paypal')&&!merchantPriceMissing&&!m.paypalAllowUserToSpecifyPrice&&!m.paypalAllowUserToSpecifyQuantity&&!m.showQuantityInput&&!m.noteToSeller&&!m.smartButtonsEnabled&&!this.shouldShowDiscount()&&m.paypalPurchaseType!=='Donate';if(purchaseType==='Recurring'&&m.paypalTrialOn){var trial={items_price:trialPrice,tax:trialTax,shipping:getFloat(m.paypalShippingCost),discount:trialDiscount,total:null};}else{var trial=null;}
var data={purchase_type:purchaseType,currency:m.paypalCurrencyCode,item:{title:m.paypalItemName,quantity:quantity,displayPrice:trial?twoDecimals(trial.items_price):itemPrice},totals:{post_trial:null,trial:null},post_trial:{items_price:getFloat(itemPrice),tax:tax,shipping:getFloat(m.paypalShippingCost),discount:discount,total:null},trial:trial,paymentMethods:paymentMethods,api:m.locals.checkoutData&&m.locals.checkoutData.api&&paymentMethods.indexOf(m.locals.checkoutData.api)>-1?m.locals.checkoutData.api:paymentMethods[0],addressNotRequired:addressNotRequired,allowUserToSpecifyQuantity:m.paypalAllowUserToSpecifyQuantity||m.showQuantityInput||false,allowUserToSpecifyPrice:m.paypalAllowUserToSpecifyPrice||false,donation:m.locals.donation||twoDecimals(getFloat(itemPrice)/quantity),showDiscount:this.shouldShowDiscount(),discount_code:this.get('locals').discountCode,discountCodeStatus:discountCodeStatus,directlyToPaypal:directlyToPaypal,merchantPriceMissing:merchantPriceMissing||!!m.locals.donation,memo:m.locals.checkoutData?m.locals.checkoutData.memo:null,smartButtonsEnabled:m.smartButtonsEnabled&&!window.isWebview(),form_response:formResponse,app_id:META.id};data.post_trial.total=addTotals(data);data.totals.post_trial=addTotals(data);var min=minimumCharge(data.currency,data.api);if(data.post_trial.total<min){data.post_trial.total=twoDecimals(min);data.totals.post_trial=twoDecimals(min);data.detailedRecurringString=data.recurringString||'';data.detailedRecurringString+='\n*minimum charge allowed';}
if(purchaseType==='Recurring'){data.recurringString=recurringString(m);if(m.paypalTrialOn){data.trial.total=addTotals(data,'trial');data.totals.trial=addTotals(data,'trial');var m2=$.extend(true,{},m);m2.paypalTrialOn=false;data.detailedRecurringString=recurringString(m)+', then '+currency()+data.post_trial.total+' '+recurringString(m2);if(min&&trialPrice===min){data.detailedRecurringString+='\n*minimum charge allowed';}}}
try{var buyerEmail=this.view.getConfirmationEmail(formResponse);}catch(e){var buyerEmail='';}
try{var buyerAddress=this.view.getConfirmationAddress(formResponse);}catch(e){var buyerAddress=null;}
data.buyer_data={email:buyerEmail};if(buyerAddress){var _buyerAddress$split=buyerAddress.split(', '),_buyerAddress$split2=_slicedToArray(_buyerAddress$split,6),address1=_buyerAddress$split2[0],address2=_buyerAddress$split2[1],city=_buyerAddress$split2[2],state=_buyerAddress$split2[3],zip=_buyerAddress$split2[4],country=_buyerAddress$split2[5];data.buyer_data['address']=address1+' '+address2;data.buyer_data['city']=''+city;data.buyer_data['state_or_provence']=''+state;data.buyer_data['zip_or_country']=country+' '+zip;}
this.setLocals({checkoutData:data});return data;},syncLocalData:function syncLocalData(erasePreviousData){erasePreviousData=erasePreviousData||false;var self=this;var locals=this.get('locals');var localDataExists=locals.data&&locals.data.length;var data=JSON.parse(JSON.stringify(this.get('data')));data=data.map(function(element,i){if(!element.idx)element.idx=window.uniqueLabel(true);if(!erasePreviousData){var localElement=localDataExists?_.findWhere(locals.data,{idx:element.idx}):null;if(localElement&&!locals.data[0].isDefault){['value','src','selectedOption','dateTimeHidden','selectedOptions','selectedPrices','address1','address2','city','state','zip','country','checked'].forEach(function(property){element[property]=localElement[property];});}}
if(element.type==='signature'){var src=$('#signature-'+element.idx).next('.signatureImage').prop('src');if(src){element.src=src;}}
return element;});this.setLocals({data:data});},afterMount:function afterMount(){if(this.get('formTriggerElementType')=='fixed'){this.setLocals({displayMode:this.get('formTriggerElementStyle')});}else{this.setLocals({displayMode:'default'});}}});formBuilderAppModel=formBuilderBaseModel;orderFormAppModel=formBuilderBaseModel;contactFormAppModel=formBuilderBaseModel;mailingListAppModel=formBuilderBaseModel;surveyAppModel=formBuilderBaseModel;pollAppModel=formBuilderBaseModel;wixDevAppModel=formBuilderAppModel;stagingDevAppModel=formBuilderAppModel;localDevAppModel=formBuilderAppModel;formBuilderAppSettings=appSettings.extend({beforeInitialize:function beforeInitialize(){var self=this;self.formElementsSettingsModule=new formElementsSettingsModule(this,{formDataKey:'data',paymentRequiredKey:'paymentRequired'});self.model.settings=self;},googleSheetsAuthSuccess:function googleSheetsAuthSuccess(){this.observableStore.updateValue({key:'model.googleSheetsConnected',value:true,refreshSettings:true});},stripeAuthSuccess:function stripeAuthSuccess(){META.external_data=META.external_data||{};META.external_data.stripe_connected=true;if(this.observableStore){this.observableStore.updateValue({key:'model.stripeEnabled',value:true,refreshSettings:true});}else{this.$el.find('[name=stripeEnabled]').prop('checked',true).trigger('forceUpdateComponent');this.update();}},googleSheetsDisconnectSuccess:function googleSheetsDisconnectSuccess(){this.observableStore.updateValue({key:'model.googleSheetsConnected',value:false,refreshSettings:true});},afterInitialize:function afterInitialize(){var self=this;var m=this.model;var el=this.$el;Promise.all([__webpack_require__.e(90),__webpack_require__.e(91),__webpack_require__.e(111),__webpack_require__.e(89),__webpack_require__.e(97),__webpack_require__.e(10),__webpack_require__.e(116),__webpack_require__.e(110),__webpack_require__.e(99),__webpack_require__.e(100),__webpack_require__.e(88),__webpack_require__.e(96),__webpack_require__.e(114),__webpack_require__.e(95),__webpack_require__.e(117),__webpack_require__.e(98)]).then((function(require){var componentRenderer=__webpack_require__(2261).default;componentRenderer(self,'form_builder',[{component:'content',querySelector:'#powr-form-builder-content'},{component:'settings',querySelector:'#powr-form-builder-settings'},{component:'payment',querySelector:'#powr-form-builder-payment'},{component:'design',querySelector:'#powr-form-builder-design'},{component:'import',querySelector:'#powr-get-started'}]);}).bind(null,__webpack_require__)).catch(__webpack_require__.oe);self.loadTemplates();},getPowrMailFormResponse:function getPowrMailFormResponse(){var labeled=[];this.model.attributes.data.forEach(function(el){if(el.label&&['signature','label'].indexOf(el.type)===-1){labeled.push(el);}});return labeled.map(function(formElement){return{label:formElement.label,display_label:formElement['label']};}).filter(function(response){return response;});},afterUpdate:function afterUpdate(){var self=this;var steps=self.model.get('data').filter(function(formElement){return formElement.type==='step';});var multistepForm=steps.length>1;try{localStorage.removeItem('Form_'+self.model.meta.id+'_locals');localStorage.removeItem('Form_'+self.model.meta.id+'_timestamp');}catch(e){}
this.model.set({multistepForm:multistepForm},{silent:true});this.model.triggerChange();this.handleMultistepForms();},afterSort:function afterSort(){this.afterUpdate();this.handleMultistepForms();},maxNumberOfElements:function maxNumberOfElements(){var numElements=this.model.get('data').length;var maxNumberOfElements=parseInt(this.$el.find('.triggerElementModal').attr('data-'+this.model.meta.premium_status+'-limit'));return maxNumberOfElements<numElements;},handleMultistepForms:function handleMultistepForms(clickedEl){clickedEl=clickedEl||null;var data=this.model.get('data');if(clickedEl){if(clickedEl.prop('checked')){if(data[0].type!=='step'){this.model.setLocals({currenStepIdx:0,previousStepIdxs:[],nextStepIdx:null});this.model.set({multistepForm:true,data:[{type:'step'}].concat(data)});}}else{data=data.filter(function(element){return element.type!=='step';});this.model.setLocals({currenStepIdx:0,previousStepIdxs:[],nextStepIdx:null});this.model.set({multistepForm:false,data:data});}}else{if(this.model.get('multistepForm')&&!this.maxNumberOfElements()){this.model.setLocals({currenStepIdx:0,previousStepIdxs:[],nextStepIdx:null});if(data[0].type!=='step'){this.model.set({data:[{type:'step'}].concat(data)});}}else{data=data.filter(function(element){return element.type!=='step';});this.model.set({data:data});}}
this.$el.find('#formBackButton').hide();this.model.syncLocalData(true);var expandedPanels=this.$el.find('.formElements .panel-collapse').map(function(idx,el){if(el.style.display==='block'){return $(el).find('.form-element.hid').prop('id');}}).toArray();var expandedAdvancedSections=this.$el.find('.formElements .hideText').map(function(idx,el){return $(el).parent().find('.form-element').first().prop('id');}).toArray();var scrollHeight=this.$el.find('.connect').scrollTop()||this.$el.find('.wixSection.connectTabSelector').scrollTop();this.model.setLocals({expandedPanels:expandedPanels,expandedAdvancedSections:expandedAdvancedSections});var scrollHeight=this.$el.find('.connect').scrollTop()||this.$el.find('.wixSection.connectTabSelector').scrollTop();var currentFocus=this.$el.find(':focus');if(this.model.get('locals').editingSteps){this.model.setLocals({editingSteps:false});}
if(this.maxNumberOfElements()){this.$el.find('.triggerElementModal').addClass('premium');}},afterRender:function afterRender(){var self=this;if(HOST=='wix'){Wix.Settings.getDashboardAppUrl(function(url){if(url){url+='&powr_app_id='+self.model.meta.id;}else{url='/apps/'+self.model.meta.id+'/responses';}
debug()('Setting dashboard to '+url);self.$el.find('.openDashboard').attr('href',url);});Wix.Dashboard.getEditorUrl(function(url){self.$el.find('.openSite').attr('href',url);});}}});formBuilderAppView=appView.extend({beforeInitialize:function beforeInitialize(){var self=this;try{var stored=JSON.parse(localStorage.getItem('Form_'+self.model.meta.id+'_locals'));var timestamp=new Date(localStorage.getItem('Form_'+self.model.meta.id+'_timestamp'));var oldAF=new Date()-timestamp>604800000?true:false;if(oldAF){localStorage.removeItem('Form_'+self.model.meta.id+'_locals');localStorage.removeItem('Form_'+self.model.meta.id+'_timestamp');}else{self.model.setLocals(stored);}}catch(e){}
self.model.get('data').forEach(function(formElement){if(!formElement.idx)formElement.idx=window.uniqueLabel(true);});this.$el.on('mouseup touchstart','.js-trigger-close',function(e){self.model.setLocals({displayMode:self.model.get('formTriggerElementStyle')});self.render();self.captchaHeightHack();});this.$el.on('click touchstart','.js-trigger-modal-form',function(){self.model.setLocals({displayMode:'modalForm'});self.render();self.captchaHeightHack();});self.formElementsViewModule=new formElementsViewModule(this,{});self.model.formElementsViewModule=self.formElementsViewModule;self.model.view=self;if(getURLParameter('confirmation_code')){this.model.calculateCheckoutData();window.showCheckoutModal(false);$('.checkoutModal').css('z-index','1');}},nextStep:function nextStep(e){this.formElementsViewModule.saveData();if(this.model.get('locals').lastStep){this.submitForm(e);}
this.formElementsViewModule.renderFormElements('next');this.triggerChange();},previousStep:function previousStep(){this.formElementsViewModule.renderFormElements('previous');this.triggerChange();},triggerChange:function triggerChange(){if(window.APP_SETTINGS)window.APP_SETTINGS.observableStore.forceUpdate();},afterCorrectPassword:function afterCorrectPassword(){this.formElementsViewModule.renderFormElements();this.$el.find('#formBackButton').hide();},setPosition:function setPosition(){var postCss={display:'block',position:'fixed',zIndex:9999999,top:'auto',left:'auto',right:'auto',bottom:'auto',height:'unset',transform:'none',webkitTransform:'none',transformOrigin:'unset',webkitTransformOrigin:'unset',width:'100%'};if(this.model.get('locals').displayMode=='default'){$.extend(postCss,{position:'unset',zIndex:'unset'});var overridePostCssHeight=true;}
if(this.model.get('locals').displayMode=='modalForm'){$.extend(postCss,{top:0,left:0,right:0,bottom:0,height:'100%',width:'100%'});var overridePostCssHeight=false;}else if(['tab','floatingButton'].indexOf(this.model.get('locals').displayMode)>-1){var overridePostCssHeight=true;this.$el.css('width','1000px');var width=this.$el.find('.fixed-element').outerWidth();this.$el.css('width','auto');postCss.minWidth='unset';postCss.width=width+'px';var is_standalone=this.model.meta.is_standalone;if(is_standalone){var window_width=$(window).width();var window_height=$(window).height();var available_width=window_width-400;var available_height=window_height-64;var offset_percentage=parseInt(this.model.get('formTriggerPositionOffset'));var horizontal_offset_in_pixels=400+offset_percentage*available_width/100+'px';var vertical_offset_in_pixels=64+offset_percentage*available_height/100+'px';}
if(this.model.get('locals').displayMode=='tab'){postCss.display='table';switch(this.model.get('formTriggerTabLocation')){case 'right':if(is_standalone){postCss.top=vertical_offset_in_pixels;}else{postCss.top=this.model.get('formTriggerPositionOffset');}
postCss.right=0;postCss.transform='rotate(-90deg) translateY(-100%) translateX('+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';postCss.webkitTransform='rotate(-90deg) translateY(-100%) translateX('+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';postCss.transformOrigin='right top';postCss.webkitTransformOrigin='right top';break;case 'left':if(is_standalone){postCss.top=vertical_offset_in_pixels;postCss.left='400px';}else{postCss.top=this.model.get('formTriggerPositionOffset');postCss.left=0;}
postCss.transform='rotate(90deg) translateY(-100%) translateX(-'+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';postCss.webkitTransform='rotate(90deg) translateY(-100%) translateX(-'+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';postCss.transformOrigin='left top';postCss.webkitTransformOrigin='left top';break;case 'bottom':if(is_standalone){postCss.left=horizontal_offset_in_pixels;}else{postCss.left=this.model.get('formTriggerPositionOffset');}
postCss.bottom='0px';postCss.transform='translateX(-'+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';postCss.webkitTransform='translateX(-'+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';break;}}else if(this.model.get('locals').displayMode=='floatingButton'){if(is_standalone){postCss.left=horizontal_offset_in_pixels;postCss.height='60px';}else{postCss.left=this.model.get('formTriggerPositionOffset');}
postCss.bottom='20px';postCss.transform='translateX(-'+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';postCss.webkitTransform='translateX(-'+parseInt(this.model.get('formTriggerPositionOffset'))+'%)';}}
this.model.setLocals({postCss:postCss,overridePostCssHeight:overridePostCssHeight});this.postSizeToSocket();if(is_standalone){this.$el.find('.fixed-element').css(postCss);}},afterInitialize:function afterInitialize(){var self=this;var removeFormElementValidationMessage=function removeFormElementValidationMessage(formElement){formElement.removeClass('requiredAndBlank');formElement.find('input, textarea, select, label, button').removeClass('requiredAndBlank');formElement.find('#'+formElement.prop('id').toString()+'_errors').remove();};this.$el.on('keyup change','.paypalQuantity',function(){var val=$(this).val();if(isNaN(val)||parseInt(Number(val))!=val||isNaN(parseInt(val,10))||val<1){$(this).val(1);}
self.formElementsViewModule.calculatePrice();});this.$el.on('click','#quantity-up, #quantity-down',function(e){var id=e.target.id||$(e.target).parent().prop('id');if(id==='quantity-up'){self.model.set({paypalQuantity:parseInt(self.model.get('paypalQuantity'))+1});}else{self.model.set({paypalQuantity:parseInt(self.model.get('paypalQuantity'))-1||1});}});this.$el.on('change','input[type="text"], input[type="date"], input[type="time"], input[type="email"], input[type="password"], input[type="hidden"], input[type="number"], textarea, select, input[type="radio"]:checked, .multipleCheckbox, .checkbox input[type="checkbox"], input.fileURL, input[type="tel"], input[type="url"], input[type="signature"], .addressWrapper',function(e){if($(e.target).parent().prop('id')==='protectionForm'){return;}
var parent=$(e.target).closest('.formElement');var idx=parent.prop('id');var localElement=_.findWhere(self.model.attributes.locals.data,{idx:idx});if(!localElement){return;}
if(localElement.type==='multipleCheckbox'||localElement.type==='gdpr'){localElement.selectedOptions=[];localElement.selectedPrices=[];$(e.target).closest('.formElement').find(':checked').each(function(selectedOptionIdx,el){localElement.selectedOptions.push($(el).val());localElement.selectedPrices.push(parseFloat($(el).data('price')));});if(localElement.selectedOptions.length&&!localElement.hasOtherChoice||localElement.hasOtherChoice&&localElement.selectedOptions.length&&localElement.selectedOptions.indexOf(localElement.otherChoiceName)!==-1&&localElement.value||localElement.hasOtherChoice&&localElement.selectedOptions.length&&localElement.selectedOptions.indexOf(localElement.otherChoiceName)===-1||localElement.hasOtherChoice&&!localElement.selectedOptions.length&&!e.target.required){removeFormElementValidationMessage(parent);}}else if(localElement.type==='radio'||localElement.type==='select'||localElement.type==='radioimage'||localElement.type==='emoji'||localElement.type==='rating'){localElement.selectedOption=$(e.target).closest('.formElement').find(':checked').val();if(localElement.selectedOption){parent.removeClass('requiredAndBlank');parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}}else if(localElement.type==='checkbox'){localElement.checked=$(e.target).prop('checked');if(localElement.checked){parent.removeClass('requiredAndBlank');parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}}else if(localElement.type==='address'){$(e.target).closest('.formElement').find('input, select').each(function(inputIdx,el){localElement[el.name]=$(el).val();if(localElement[el.name]){parent.removeClass('requiredAndBlank');parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}});}else if(localElement.type==='date'){$(e.target).closest('.formElement').find('input').each(function(inputIdx,el){var dateString=self.getDateString(el);localElement[$(el).attr('pwr-mod-attr')]=dateString;if(localElement[$(el).attr('pwr-mod-attr')]){parent.removeClass('requiredAndBlank');parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}});}else if(localElement.type==='signature'){var src=$(e.target).closest('.formElement').find('img').prop('src');if(src){localElement.src=src;}
localElement.value=$(e.target).val();}else if(localElement.type==='url'){localElement.value=urlFormat($(e.target).val());}else{localElement.value=$(e.target).val();}
if(localElement.value&&localElement.type!=='email'||localElement.type==='email'&&localElement.value.indexOf('@')>-1){parent.removeClass('requiredAndBlank');parent.find('#invalidEmail').remove();parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}
self.model.formElementsViewModule.updateConditionalElements();if(self.model.attributes.paymentRequired){self.model.calculateCheckoutData();}});this.$el.on('change','input[type="radio"], input[type="checkbox"], select',function(e){var parent=$(e.target).closest('.formElement');var idx=parent.prop('id');var formElement=_.findWhere(self.model.attributes.locals.data,{idx:idx});if(formElement&&formElement.hasOtherChoice){var showOtherTextBoxForBlockLabels=function showOtherTextBoxForBlockLabels(otherTextBox,needFocus){if(otherTextBox){if(window.APP_MODEL.get('labelType')==='blockLabels'){otherTextBox.removeClass('option__othertext--hidden').addClass('option__othertext--visible');}
if(needFocus){otherTextBox.focus();}}};var hideOtherTextBoxForBlockLabels=function hideOtherTextBoxForBlockLabels(otherTextBox){if(otherTextBox){if(window.APP_MODEL.get('labelType')==='blockLabels'){otherTextBox.removeClass('option__othertext--visible').addClass('option__othertext--hidden');}}};var otherTextBox=parent.find('.otherChoiceValue-js');if(formElement&&formElement.type==='radio'){if(formElement.selectedOption===formElement.otherChoiceName){showOtherTextBoxForBlockLabels(otherTextBox,true);}else{hideOtherTextBoxForBlockLabels(otherTextBox);}}else if(formElement&&formElement.type==='select'){var otherTextLabel=parent.find('.otherChoiceValueLabel-js');if(formElement.selectedOption===formElement.otherChoiceName){var showOtherTextBox=function showOtherTextBox(otherTextBox){if(otherTextBox){otherTextBox.removeClass('option__othertext--hidden').addClass('option__othertext--visible');otherTextBox.focus();}};showOtherTextBox(otherTextBox);var showOtherTextLabelForBlockLabels=function showOtherTextLabelForBlockLabels(otherLabel){if(otherLabel){if(window.APP_MODEL.get('labelType')==='blockLabels'){otherLabel.removeClass('option__otherlabel--hidden').addClass('option__otherlabel--visible');}}};showOtherTextLabelForBlockLabels(otherTextLabel);}else{var hideOtherTextBox=function hideOtherTextBox(otherTextBox){if(otherTextBox){otherTextBox.removeClass('option__othertext--visible').addClass('option__othertext--hidden');}};hideOtherTextBox(otherTextBox);var hideOtherTextLabelForBlockLabels=function hideOtherTextLabelForBlockLabels(otherLabel){if(otherLabel){if(window.APP_MODEL.get('labelType')==='blockLabels'){otherLabel.removeClass('option__otherlabel--visible').addClass('option__otherlabel--hidden');}}};hideOtherTextLabelForBlockLabels(otherTextLabel);}}else if(formElement&&formElement.type==='multipleCheckbox'){var selectedOptions=[];$(e.target).closest('.formElement').find(':checked').each(function(selectedOptionIdx,el){selectedOptions.push($(el).val());});if(selectedOptions&&selectedOptions.length&&selectedOptions.indexOf(formElement.otherChoiceName)!==-1){var isOtherClicked=e.target.value===formElement.otherChoiceName;showOtherTextBoxForBlockLabels(otherTextBox,isOtherClicked);}else{hideOtherTextBoxForBlockLabels(otherTextBox);}}}});this.$el.on('change','.otherChoiceValue-js',function(e){var parent=$(e.target).closest('.formElement');var idx=parent.prop('id');var localElement=_.findWhere(self.model.attributes.locals.data,{idx:idx});localElement.value=e.target.value;});this.$el.on('click','.emojiOption-js',function(e){var parent=$(e.target).closest('.formElement');var idx=parent.prop('id');var localElement=void 0;$(e.target).closest('.formElement').find('.checked').removeClass('checked');$(this).addClass('checked');localElement=_.findWhere(self.model.attributes.locals.data,{idx:idx});localElement.selectedOption=$(this).data('emojivalue');if(localElement.selectedOption){parent.removeClass('requiredAndBlank');parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}
localElement.value=localElement.selectedOption;});this.$el.on('click','.ratingOptionItem-js svg',function(e){var item=$(this).parent();var parent=item.closest('.formElement');var allPrevSiblingsAndSelf=item.prevAll().andSelf();var allNextSiblings=item.nextAll();var idx=parent.prop('id');var localElement=_.findWhere(self.model.attributes.locals.data,{idx:idx});var inputOption=parent.find('.ratingOptionValue');var starsNumber=''+(item.index()+1);localElement.selectedOption=starsNumber;if(localElement.selectedOption){parent.removeClass('requiredAndBlank');parent.find('input, textarea, select, label, button').removeClass('requiredAndBlank');parent.find('#'+localElement.idx.toString()+'_errors').remove();}
localElement.value=starsNumber;inputOption.val(starsNumber);allNextSiblings.removeClass('ratingOptionItemActive');allPrevSiblingsAndSelf.addClass('ratingOptionItemActive');});this.$el.on('mouseenter','.ratingOptionItem-js svg',function(e){var item=$(this).parent();var inputOptionValue=item.closest('.formElement').find('.ratingOptionValue').val();var allPrevItemsAndSelf=item.prevAll().andSelf();if(item.index()>=inputOptionValue){allPrevItemsAndSelf.addClass('ratingOptionItemHover');}});this.$el.on('mouseleave','.ratingOptionItem-js svg',function(e){var item=$(this).parent();var allPrevSiblingsAndSelf=item.prevAll().andSelf();allPrevSiblingsAndSelf.removeClass('ratingOptionItemHover');});this.$el.on('upload_start','.fileUploadInput',function(e){self.model.setLocals({upoadInProgress:true});});this.$el.on('upload_fail','.fileUploadInput',function(e){self.model.setLocals({upoadInProgress:false});});this.$el.on('upload_success','.fileUploadInput',function(e){var idx=$(e.target).closest('.formElement').prop('id');var localElement=_.findWhere(self.model.attributes.locals.data,{idx:idx});var value=$(e.target).closest('.formElement').find('.fileURL').val();localElement.value=value;self.model.setLocals({upoadInProgress:false});});this.$el.on('click','.triggerPayment',function(e){checkout(e);});this.$el.on('click','#formBackButton',function(e){e.preventDefault();$(this).blur();self.previousStep();});this.$el.on('click','.js-payment-done',function(e){e.preventDefault();$('.js-ipn-payment-overlay').fadeOut();});this.$el.on('click','.js-afterSubmissionMessage-powrMark',function(e){if(!self.model.meta.is_standalone){e.preventDefault();window.open('https://www.powr.io/?utm_source=watermark&utm_medium=thankyoupage&utm_campaign=watermark_2019&utm_content=form_builder');}});this.$el.on('click','#submitButton',function(e){e.preventDefault();debug()('Form submit triggered. Event:',e);if(!self.formElementsViewModule.validate()){return false;}
if(self.model.get('captchaRequired')&&!self.model.get('paymentRequired')&&self.model.get('locals').lastStep){if(grecaptcha.getResponse(self.model.get('locals').captchaID)!==''){self.submitForm(e);}}else if(self.model.get('multistepForm')){self.model.syncLocalData();self.nextStep(e);}else{self.submitForm(e);}
return false;});this.$el.on('click','.scrollTop-js',function(){var appViewHeight=$('#appView').height();var windowHeight=$(window).height();var duration=600;if(appViewHeight>windowHeight){$([document.documentElement,document.body]).animate({scrollTop:$('#appView').offset().top},duration);}});if(self.model.get('captchaRequired')){setInterval(function(){self.captchaHeightHack();},2000);}
this.$el.on('click','.printer',function(){if(self.model.get('locals').isDirty||!self.model.meta.saved){$('.saveModal').modal('show');return;}
window.open('/plugins/form-builder/view?form-builder-print=true&id='+self.model.meta.id);});this.$el.on('focus','.otherChoiceValue-js',function(){var $element=$(this).parent().find('.otherChoice-js');if($element.attr('type')==='radio'){$element.click();}else if($element.attr('type')==='checkbox'){if(!$element.prop('checked')){$element.click();}}});self.model.setLocals({loadTime:new Date().getTime()});if(HOST=='wix'){this.$el.on('click','.powrMark a',function(){var w=Math.round(0.7*screen.width);var h=screen.height;window.open($(this).attr('href'),'','width='+w+',height='+h+',scrollbars=1');return false;});}},checkSubmissionLimit:function checkSubmissionLimit(){if(this.model.meta.is_standalone)return;var submissions=this.model.attributes.submissions;if(submissions.limits.active&&submissions.limits.max){if(submissions.limits.total>=submissions.limits.max){this.displaySubmissionLimitMessage();}}
if(submissions.deadline.active){if(Date.parse(submissions.deadline.dateTime)<new Date()){this.displaySubmissionLimitMessage();}}},displaySubmissionLimitMessage:function displaySubmissionLimitMessage(){$('.js-formBuilder-toggle ').addClass('hid-with-height');$('.js-submissionLimitMessage-toggle').show();},captchaHeightHack:function captchaHeightHack(){var self=this;if(!self.model.get('captchaRequired')){return false;}
if(self.model.get('locals').displayMode=='modalForm'){self.$el.css('height','100%');}else if(self.model.get('locals').displayMode=='default'){if($('.g-recaptcha-bubble-arrow').length>0&&$('.g-recaptcha-bubble-arrow').parent().css('opacity')==1){self.$el.css('height','auto');var old_ht=self.$el.height();var captcha_ht=$('.g-recaptcha-bubble-arrow').parent().height()*0.5;self.$el.height(old_ht+captcha_ht);}else{self.$el.css('height','auto');}}else{self.$el.css('height','auto');}},getDateString:function getDateString(dateEl){var dateElIdx=$(dateEl).closest('.formElement').prop('id');var formElement=_.findWhere(this.model.get('locals').data,{idx:dateElIdx});var date=new Date($(dateEl).val());var hour=date.getHours();var hourVal=formElement.istwentyfour?hour:hour%12===0?12:hour%12;var minutes=date.getMinutes();if(minutes<10){minutes='0'+minutes;}
var ampm=formElement.istwentyfour?'':hour>12?'PM':'AM';return date.getMonth()+1+'/'+date.getDate()+'/'+date.getFullYear()+', '+hourVal+':'+minutes+ampm;},formatForPrint:function formatForPrint(){$('html').css('margin','5%');$('.formBuilder').css('max-width','100%');$('.formBuilder').css('border','none');$('.formBuilder').css('text-align','center');$('#editMe').hide();$('.formTitle').css('text-align','center');$('.adminAppInfo').hide();$('.errors').hide();$('.printer').hide();$('.success').hide();$('.triggerPayment').hide();$('.formResponses').hide();$('.resultsButton').hide();$('.datePickerParent').hide();$('.submitButton').hide();$('#spamDetection').hide();$('.lengthSummary').hide();$('.description').hide();$('.honeypot').hide();$('.stepLabel').hide();$('.radio').removeClass('radio');$('.checkbox').removeClass('checkbox');$('input, textarea').prop('placeholder','');if($('[name="zip"]')[0]){var newCountryInput=$('[name="zip"]')[0].outerHTML;newCountryInput=newCountryInput.replace('zip','country');$('[name="country"]').replaceWith(newCountryInput);}
$('.fitText').css('display','block');$('.lengthSummary').hide();$('.buttonAndSummaryWrapper').hide();$('.success').hide();$('input, label, textarea').each(function(index,el){var distanceFromPageTop=el.getBoundingClientRect().top%1100;var elHeight=parseFloat($(el).css('height'))*3;if(distanceFromPageTop<elHeight||distanceFromPageTop>1100-elHeight){$(el).css('margin-top',elHeight.toString()+'px');}});},setMetaContent:function setMetaContent(){var description=this.model.get('description').length>0?this.model.get('description'):this.model.get('title');var title=this.model.get('title');this.writeMetaContent(description,title);},paymentsActive:function paymentsActive(){return this.model.get('paymentRequired')&&(parseFloat(this.model.get('locals').fullPrice)>0||this.model.get('paypalAllowUserToSpecifyPrice')&&$.inArray(this.model.get('paypalPurchaseType'),['Donate','BuyNow'])>-1);},formElementIsConditional:function formElementIsConditional(formElement){return formElement.conditionalElement&&formElement.conditionalValue;},conditionalElementActive:function conditionalElementActive(conditionalFormElement,conditionalElementParents){var idx=conditionalFormElement.conditionalElement;var conditionalElementParent=conditionalElementParents[idx];return conditionalElementParent&&(conditionalElementParent.selectedOption&&conditionalElementParent.selectedOption===conditionalFormElement.conditionalValue||conditionalElementParent.selectedOptions&&conditionalElementParent.selectedOptions.indexOf(conditionalFormElement.conditionalValue)===-1||conditionalElementParent.checked);},getSubmitData:function getSubmitData(){var self=this;var labels=[];var conditionalElementParents={};return this.model.get('locals').data.filter(function(formElement){return $.inArray(formElement.type,['image','linebreak','step','space','label','text_content'])===-1;}).map(function(formElement){conditionalElementParents[formElement.idx]={selectedOption:formElement.selectedOption,selectedOptions:formElement.selectedOptions,checked:formElement.checked};var selectedPrices=void 0;if(formElement.type==='gdpr'){formElement.label='Marketing Permissions';}
labels.push(formElement.label);var getOtherValue=function getOtherValue(formElement){var otherUserResponse=self.$el.find('.otherChoiceValue-js[name='+formElement.idx+']').val()||'';return formElement.otherChoiceName+': ['+otherUserResponse+']';};var value;if(formElement.type==='gdpr'){value=formElement.selectedOptions?formElement.selectedOptions.join(', '):'';if(formElement.selectedPrices){selectedPrices=formElement.selectedPrices;}}else if(formElement.type==='multipleCheckbox'){var otherCheckBoxSelected=function otherCheckBoxSelected(formElement){return formElement.hasOtherChoice&&formElement.selectedOptions&&formElement.selectedOptions.length&&self.$el.find('[name=\''+formElement.idx+'\']:checked').hasClass('otherChoice-js');};if(otherCheckBoxSelected(formElement)){var getMultipleCheckBoxWithOtherValues=function getMultipleCheckBoxWithOtherValues(formElement){var otherUserResponse=self.$el.find('.otherChoiceValue-js[name='+formElement.idx+']').val()||'';var otherValue=formElement.otherChoiceName+': ['+otherUserResponse+']';var options=formElement.selectedOptions.slice(0);var idxOther=options.indexOf(formElement.otherChoiceName);idxOther=idxOther!==-1?idxOther:options.length;options[idxOther]=otherValue;return options.join(', ');};value=getMultipleCheckBoxWithOtherValues(formElement);}else{value=formElement.selectedOptions?formElement.selectedOptions.join(', '):'';}
if(formElement.selectedPrices){selectedPrices=formElement.selectedPrices;}}else if(formElement.type==='radio'){var otherChoiceSelected=function otherChoiceSelected(formElement){return formElement.hasOtherChoice&&formElement.selectedOption&&self.$el.find('[name=\''+formElement.idx+'\']:checked').hasClass('otherChoice-js');};if(otherChoiceSelected(formElement)){value=getOtherValue(formElement);}else{value=formElement.selectedOption;}}else if(formElement.type==='select'){var otherItemSelected=function otherItemSelected(formElement){return formElement.hasOtherChoice&&formElement.selectedOption&&self.$el.find('[name=\''+formElement.idx+'\']').closest('.formElement').find(':checked').hasClass('otherChoice-js');};if(otherItemSelected(formElement)){value=getOtherValue(formElement);}else{value=formElement.selectedOption;}}else if(formElement.type==='radioimage'||formElement.type==='emoji'||formElement.type==='rating'){value=formElement.selectedOption;}else if(formElement.type==='checkbox'){value=formElement.checked;if(value===undefined){if(formElement.defaultChecked){value=true;}else{value=false;}}}else if(formElement.type==='address'){value=[formElement.address1,formElement.address2,formElement.city,formElement.state,formElement.zip,formElement.country].join(', ');}else if(formElement.type==='date'){if(formElement.displayType==='date'){try{formElement.dateTimeHidden=formElement.dateTimeHidden.split(',')[0];}catch(e){}}else if(formElement.displayType==='time'){try{formElement.dateTimeHidden=formElement.dateTimeHidden.split(', ')[1];}catch(e){}}
if(formElement.displayType==='both'&&formElement.nativeTimeElement){var yearMonthDay=self.$el.find('#'+formElement.idx).find('[type="date"]').val().split('-');date=yearMonthDay[1]+'/'+yearMonthDay[2]+'/'+yearMonthDay[0];formElement.datePickerContainer=date+' '+self.ensureTenCharacters(formElement.dateTimeHidden.split(' ')[1]);}
if(formElement.dateFormat&&formElement.dateFormat[0]==='D'){formElement.dateTimeHidden=self.euroDate(formElement.dateTimeHidden);if(formElement.datePickerContainer){var dateTime=formElement.datePickerContainer.split(' ');formElement.datePickerContainer=self.euroDate(dateTime[0])+' '+dateTime[1];}}
var value=$.inArray(formElement.displayType,['date','both'])&&!formElement.nativeTimeElement?formElement.dateTimeHidden:formElement.datePickerContainer;if(formElement.displayType==='date'){value=formElement.dateTimeHidden;}
if(formElement.displayType==='time'){value=formElement.dateTimeHidden;}
var ampm=self.$el.find('#'+formElement.idx).find('.ampm').val();if(ampm&&value){value=value.match('AM')?value.replace('AM',ampm):value.replace('PM',ampm);}
return{label:self.uniqueLabel(labels,formElement),idx:formElement.idx,value:value,date_format:formElement.dateFormat,is_twenty_four:formElement.istwentyfour,exportField:formElement.exportField};}else if(formElement.type==='signature'){var src=$('#signature-'+formElement.idx).next('.signatureImage').prop('src');if(src){formElement.src=src;}
value=formElement.value;}else{value=formElement.value;}
if(self.formElementIsConditional(formElement)&&!self.conditionalElementActive(formElement,conditionalElementParents)){value=null;}
var result=_defineProperty({label:POWr.removeHTML(self.uniqueLabel(labels,formElement)),idx:formElement.idx,type:formElement.type,value:value,src:formElement.src,exportField:formElement.exportField},'idx',formElement.idx);if(selectedPrices){result.selectedPrices=selectedPrices;}
return result;}).filter(function(el){return el;});},uniqueLabel:function uniqueLabel(labels,formElement){var num=0;labels.forEach(function(label){num+=label===formElement.label?1:0;});return num>1?formElement.label+'_'+num:formElement.label;},euroDate:function euroDate(dateString){if(!dateString){return;}
var dateArray=dateString.split('/');var day=dateArray[1];var month=dateArray[0];dateArray[0]=day;dateArray[1]=month;return dateArray.join('/');},ensureTenCharacters:function ensureTenCharacters(dateString){return dateString.split('/').map(function(d){return d.length<2?'0'+d:d;}).join('/');},submitForm:function submitForm(e){var self=this;var formEl=this.$el.find('.realForm');var buttonEl=this.$el.find('#submitButton');var data=self.formElementsViewModule.currentPageData();var allData=this.getSubmitData();if(this.model.get('locals').discountCode){allData.push({label:'Discount Code Used',type:'text',value:this.model.get('locals').discountCode,exportField:''});}
if(this.model.get('trackUserId')&&window.CURRENT_USER){allData.push({label:'Submitter Id:',idx:'submitterId',type:'text',value:window.CURRENT_USER.id});}
self.formElementsViewModule.saveData();if(self.model.get('locals').uploadInProgress){return;}
debug()(data);if(self.formElementsViewModule.preventMultipleSubmission()){return;}
if(self.formElementsViewModule.isLastPage()){if(self.model.get('paymentRequired')){var responseToken=Math.floor(Math.random()*10000+1)+'_'+(d=new Date()).getTime();allData.push({label:'Quantity',type:'paypalQuantity',value:self.$el.find('.paypalQuantity').val()});}else{var responseToken=null;}
self.model.setLocals({responseToken:responseToken});var postData={appId:self.model.meta.id,data:allData,confirmationEmail:self.getConfirmationEmail(allData),subscribeEmail:self.getMailchimpSubscribeEmail(),responseToken:self.model.get('locals').responseToken,isStandalone:self.model.meta.is_standalone};debug()('All data is ',allData);debug()('Post Data is ',postData);if(self.paymentsActive()){if(self.model.get('submissionFrequency')==='perUser'){var ipCheckOptions={url:'/form-responses/already_submitted/'+self.model.meta.id,type:'GET',buttonElement:buttonEl,errorsElement:self.$el.find('#validationErrors')};ajaxController(ipCheckOptions,function(r){if(!r.success){checkout(e);}else{errorsElement.html('<i class="fa fa-warning"></i> You\'ve already submitted a response').removeClass('hid').show();}});}else{checkout(e);}}else{var options={url:'/app_form_response.json',data:postData,type:'POST',buttonElement:buttonEl,errorsElement:self.$el.find('#validationErrors')};ajaxController(options,function(r){if(r.success){self.afterSubmission();}else{errorsElement.html(r.errors[0]).removeClass('hid').show();}});}
self.postSizeToSocket();if(HOST=='wix'&&window.VIEW_MODE=='site'){var email='';var phone='';var address='';var fields=[];var emails=[];var phones=[];var additionalFields=[];var emailAdded=false;var phoneAdded=false;var addressAdded=false;for(var i in allData){if(emailAdded==false&&allData[i].type=='email'&&allData[i].value.length>0){email=allData[i].value;fields.push({name:'email',value:email});emails.push({tag:'main',email:email});emailAdded=true;continue;}
if(phoneAdded==false&&allData[i].type=='phone'&&allData[i].value.length>0){phone=allData[i].value;fields.push({name:'phone',value:phone});phones.push({tag:'main',phone:phone});phoneAdded=true;continue;}
if(addressAdded==false&&allData[i].type=='address'&&allData[i].value.length>0){address=allData[i].value;fields.push({name:'address',value:address});addressAdded=true;continue;}
if(allData[i].label!=undefined&&allData[i].value!=undefined){additionalFields.push({name:allData[i].label,value:allData[i].value});}}
if($.inArray(self.model.meta.app_type,['formBuilder','contactForm','poll','wixDev','localDev','wixLocal'])>-1&&(fields.length>0||emails.length>0)){var activity={type:Wix.Activities.Type.FORM_CONTACT_FORM,info:{content:{},additionalFields:additionalFields},details:{additionalInfoUrl:null,summary:'Adding contact from POWr'},contactUpdate:{emails:emails,phones:phones}};debug()('Sending contact activity to wix: ',activity);Wix.Activities.postActivity(activity,function(r){debug()('Wix activity success:',r);},function(r){debug()('Wix activity failure:',r);});}
if($.inArray(self.model.meta.app_type,['mailingList'])>-1&&email.length>0){var activity={type:Wix.Activities.Type.SUBSCRIPTION_FORM,info:{email:email,phone:phone},details:{additionalInfoUrl:null,summary:'Adding contact from POWr'},contactUpdate:{emails:emails,phones:phones}};debug()('Sending subscription activity to wix: ',activity);Wix.Activities.postActivity(activity,function(r){debug()('Wix activity success:',r);},function(r){debug()('Wix activity failure:',r);});}}}else{self.model.setLocals({data:allData});self.formElementsViewModule.renderPage(self.model.get('locals').page+1);}},getMailchimpSubscribeEmail:function getMailchimpSubscribeEmail(){if(this.model.attributes.mailchimpList){var mailchimpEl=this.model.get('locals').data.filter(function(d){return d.subscribeToMailchimp;});if(mailchimpEl.length){return mailchimpEl[0].value;}}else{if(this.model.attributes.integrations.mailchimpData&&this.model.attributes.integrations.mailchimpData.mailchimpComplete==='complete')return this.model.get('locals').data.filter(function(element){return element.exportField==='EMAIL';})[0].value;}},getConfirmationEmail:function getConfirmationEmail(data){var ownerSelectedConfirmationEmailField=this.model.attributes['confirmationEmailFieldIdx'];var confirmationEmail=null;if(ownerSelectedConfirmationEmailField){this.model.get('locals').data.forEach(function(d){if(d.type==='email'&&d.idx===ownerSelectedConfirmationEmailField){confirmationEmail=d.value;}});}
if(confirmationEmail){return confirmationEmail;}
var emailEl=null;var firstEmailEl=null;(data||this.model.get('locals').data).forEach(function(d){if(d.type==='email'&&!firstEmailEl){firstEmailEl=d;}
if(d.sendConfirmationEmail){emailEl=d;}});emailEl=emailEl||firstEmailEl;if(emailEl){return emailEl.value;}},getConfirmationAddress:function getConfirmationAddress(data){var addressEl=null;var firstAddressEl=null;(data||this.model.get('locals').data).forEach(function(d){if(d.type==='address'&&!firstAddressEl){firstAddressEl=d;}
if(d.isShippingAddress){addressEl=d;}});addressEl=addressEl||firstAddressEl;if(addressEl){return addressEl.value;}},isEmptyPrice:function isEmptyPrice(){return!this.model.get('locals').fullPrice&&this.model.get('afterSubmission')==='redirect'&&!this.model.get('locals').window_checkout;},afterSubmission:function afterSubmission(){var redirectPage=function redirectPage(){var link=window.urlFormat(self.model.get('redirectLink'));try{window.top.location.href=link;}catch(e){showSubmissionMessage();window.open(link);}};var showSubmissionMessage=function showSubmissionMessage(){self.$el.find('.js-formBuilder-toggle').addClass('hid-with-height');self.$el.find('.js-afterSubmissionForm-toggle').fadeIn('fast');if(self.$el.find('.formBuilder').outerHeight(true)<maxHeightForLargeWatermark){self.$el.find('.afterSubmissionMessage-powrMark').hide();self.$el.find('.free-user-wm-adjustment').removeClass('free-user-wm-adjustment');};};var self=this;var buttonEl=this.$el.find('#submitButton');this.$el.find('.formBackButton').hide();this.$el.find("[role='progressbar']").css('width','100%');this.$el.find('.progress-bar-percentage').html('100%');this.$el.find('.progressBarBox, .progress-bar-percentage').hide();if(this.isEmptyPrice())redirectPage();if(!window.isWebview()&&!self.model.get('locals').window_checkout&&self.model.get('afterSubmission')==='redirect'&&self.model.get('paypalPurchaseType')==='BuyNow'&&self.model.get('smartButtonsEnabled')){redirectPage();}
if(self.model.get('submissionFrequency')==='perUser'){setCookie('powr_form_'+self.model.meta.id,'blocked',14);}
try{localStorage.removeItem('Form_'+self.model.meta.id+'_locals');localStorage.removeItem('Form_'+self.model.meta.id+'_timestamp');}catch(e){}
buttonEl.fadeOut('fast',function(){debug()('Button faded out');switch(self.model.get('afterSubmission')){case 'showForm':showSubmissionMessage();if(self.paymentsActive()){self.$el.find('.realForm input, .realForm textarea, .realForm select').prop('disabled',false);}
if(self.model.get('submissionFrequency')==='multiple'){self.submitAgain();}
break;case 'redirect':if(self.model.get('paymentRequired')&&self.model.get('afterSubmission')=='redirect'&&self.model.get('redirectLink').length>0){self.$el.find('.realForm input, .realForm textarea, .realForm select').prop('disabled',true);self.$el.find('.success').fadeIn('fast').trigger('change');}else{self.render();debug()('Re-rendering and setting location');var link=urlFormat(self.model.get('redirectLink'));if(link.indexOf('?')==-1){link=link.replace('#','?#');}
if(link!=='http://'){redirectPage();}else{self.$el.find('.formBuilder').slideUp(function(){self.postSizeToSocket();});self.$el.find('.success').fadeIn('fast');}}
break;case 'hideForm':self.$el.find('.redirectLink').slideUp();self.$el.find('.successText').slideUp();self.$el.find('.formBuilder').slideUp(function(){self.postSizeToSocket();});self.$el.find('.modal-form-wrapper').fadeOut('fast',function(){if(self.model.get('formTriggerElementType')==='fixed'){self.model.setLocals({displayMode:self.model.get('formTriggerElementStyle')});self.model.syncLocalData(true);self.render();}});break;case 'responses':self.$el.find('.js-formBuilder-toggle').css("visibility","hidden");self.$el.find('.js-afterSubmissionForm-toggle').fadeIn('fast');self.$el.find('.progress').hide();self.showResponses();if(self.model.get('submissionFrequency')==='multiple'){self.submitAgain();}
break;}
self.postSizeToSocket(true);});},submitAgain:function submitAgain(){var _this=this;var submitAgainButton=this.$el.find('.js-submit-again');submitAgainButton.on('click',function(){_this.$el.find('.js-afterSubmissionForm-toggle').fadeOut('fast',function(){_this.$el.find('.js-formBuilder-toggle').fadeIn('fast');_this.model.syncLocalData(true);_this.render();_this.$el.find("[role='progressbar']").css('width','100%');_this.$el.find('.progress-bar-percentage').html('100%');_this.$el.find('.success').fadeIn('fast').trigger('change');});});},showResponses:function showResponses(){var self=this;var response_link='/form-responses/'+this.model.meta.id+'/show';this.$el.find('.js-linkResponses a').attr('href',response_link);var responsesEl=self.$el.find('.js-formResponses');responsesEl.show();var realData=self.model.get('data').filter(function(a){return!!a.showResponse;});var questionNum=realData.length;if(questionNum==0){}else{responsesEl.find('.js-linkResponses').show();}},beforeRender:function beforeRender(){$('.previewSelectWrapper').show();if(this.model.get('locals').displayModeOverride){this.model.setLocals({displayModeOverride:false});}else{}
if(['tab','floatingButton'].indexOf(this.model.get('locals').displayMode)>-1){this.changePreview('desktop',false);$('.previewSelectWrapper').hide();}},afterRender:function afterRender(){var self=this;if(['default','modalForm'].indexOf(this.model.get('locals').displayMode)>-1){var successMessage=self.model.get('locals').successMessageDraft;if(successMessage){self.$el.find('#successAlert').text(successMessage).fadeIn('fast');setTimeout(function(){self.$el.find('#successAlert').fadeOut('fast');},5000);}
this.formElementsViewModule.renderFormElements();this.updatePowrMarkLink();this.$el.find('.radioImage img').csswatch({props:'height'});this.$el.find('.radioImage img').on('css-change',function(){self.makeRadioImagesSameHeight();});this.makeRadioImagesSameHeight();}else{this.$el.find('.js-form-modal-floating-tab-text, .js-form-modal-floating-tab-icon').csswatch({props:'width'});this.$el.find('.js-form-modal-floating-tab-text, .js-form-modal-floating-tab-icon').on('css-change',function(){self.setPosition();});}
this.setPosition();if(self.$el.find('.formBuilder').outerHeight(true)<maxHeightForLargeWatermark&&this.model.attributes.locals.show_after_submission_message){self.$el.find('.afterSubmissionMessage-powrMark').hide();self.$el.find('.free-user-wm-adjustment').removeClass('free-user-wm-adjustment');self.$el.find('.js-powrMark').show();}
this.checkSubmissionLimit();},makeRadioImagesSameHeight:function makeRadioImagesSameHeight(){this.turnOffCssWatch();this.$el.find('.radioImage').each(function(){var maxHt=0;$(this).find('.imageWrapper').height('auto');$(this).find('.radioOption').each(function(){var currentHt=$(this).find('img').height();if(currentHt>maxHt){maxHt=currentHt;}});$(this).find('.imageWrapper').height(maxHt);});this.turnOnCssWatch();},updatePowrMarkLink:function updatePowrMarkLink(){},buildCaptcha:function buildCaptcha(){if(window.location.href.match('form-builder-print')){return;}
if(this.model.get('captchaRequired')&&$('.captchaImgWrapper').html()===''){try{var captchaID=grecaptcha.render($('.captchaImgWrapper')[0],{sitekey:'6Le7gisUAAAAAL3VennxOM93GaltIhkqNXlTnCOA'});this.model.setLocals({captchaID:captchaID});}catch(e){}
$('.captchaImgWrapper').animate({opacity:1});}},initializeDateTimePickers:function initializeDateTimePickers(){var usingNativeInputs=usingHtml5Datetime();var $dateTimeElements=this.$el.find('.datetimeWrapper');var now=moment();$dateTimeElements.each(function(){register($(this));});function register($dateTimeElement){var format=$dateTimeElement.findAndSelf("[pwr-mod-attr='formatElement']").attr('data-format');var inputType;var targetAttr='data-form-type';var $specialInput=$dateTimeElement.find('input').fxnMap(function(){return $(this);}).filter(function($domEl){return!!$domEl.attr(targetAttr);})[0];inputType=$specialInput.attr(targetAttr);switch(inputType){case 'datetime':handleDateTime($dateTimeElement,format);break;case 'date':handleDate($dateTimeElement,format);break;case 'time':handleTime($dateTimeElement,format);break;default:throw 'Bad stuff, couldnt find input type';}
function handleDateTime($element,format){var $dateInput=$element.find('.dateSelector');var $timeInputs=$element.find('.timePicker');var conf={using_native_inputs:usingNativeInputs,$body:$element,use_local:true,formatString:format,dateSelectEls:$dateInput,timeSelectEls:$timeInputs};new POWrDateTimeComponentWithIncrementer(conf).on('change',function($component){});}
function handleDate($element,format){var conf={use_local:true,formatString:format,using_native_inputs:usingNativeInputs,$body:$element,dateState:now};new POWrDatePickerComponent(conf).on('change',function($component){$specialInput.attr('value',$component.dateState.toLocaleISOString());$specialInput.val($component.dateState.toLocaleISOString());$($component).find('input').trigger('change');});}
function handleTime($element,format){var conf={use_local:true,formatString:format,using_native_inputs:usingNativeInputs,$body:$element,timeState:now};new POWrTimePickerComponent(conf).on('change',function($component){$specialInput.attr('value',$component.timeState.toLocaleISOString());$specialInput.val($component.timeState.toLocaleISOString());$($component).find('input').trigger('change');});}
$specialInput.val(now.toLocaleISOString());$specialInput.attr('value',now.toLocaleISOString());}},_initializeDateTimePickers:function _initializeDateTimePickers(){var self=this;this.$el.find('.datetimeWrapper').each(function(){var datetimeWrapper=$(this);var datetime=datetimeWrapper.find('.datetime').val();debug()('Parsing datetime, current value is '+datetime);if(datetime.length==0){var datetimeObj=new Date();}else{if(datetime.search('am')>-1){datetime=datetime.replace('am','');}else if(datetime.search('pm')>-1){datetime=datetime.replace(/\d\d:/,function(match){return pad2(parseInt(match.substr(0,2))+12)+':';});datetime=datetime.replace('pm','');}
debug()('Datetime after am/pm parsing: '+datetime);if(datetime.search('/')>-1){datetimeObj=new Date(datetime);}else{datetimeObj=new Date();datetimeObj.setHours(datetime.split(':')[0]);datetimeObj.setMinutes(datetime.split(':')[1]);}
debug()('Datetime Object:',datetimeObj);}
var is_twentyfour=datetimeWrapper.find('.datetime').data('is-twenty-four')||false;var hour=datetimeObj.getHours();var m=datetimeObj.getMinutes();var h=Array(3-hour.toString().length).join('0')+h;m=Array(3-m.toString().length).join('0')+m;var time=h+':'+m;debug()('Parsed time is '+time+'; datetime obj is',datetimeObj);var hourVal=is_twentyfour?hour:hour%12==0?12:hour%12;var ampm=is_twentyfour?'':hour>12?'PM':'AM';datetimeWrapper.find('.hour').val(hourVal);datetimeWrapper.find('.minute').val(m);datetimeWrapper.find('.ampm').val(ampm);var stringifyDate=function stringifyDate(opts){debug()('Stringify date called with opts ',opts);var dateVar=opts.date;var is_twentyfour=opts.is_twentyfour||false;var hour=dateVar.getHours();var minute=dateVar.getMinutes();var day=dateVar.getDate();var month=dateVar.getMonth()+1;var year=dateVar.getFullYear();var hourVal=is_twentyfour?hour:hour%12==0?12:hour%12;var ampm=is_twentyfour?'':hour>12?'pm':'am';var pad=function pad(value){var length=2;value=value.toString();if(value.length<length){value='0'+value;}
return value;};var dateStr=''+month+'/'+day+'/'+year;var timeStr=''+pad(hourVal)+':'+pad(minute)+ampm;if(opts.type=='date'){return dateStr;}else if(opts.type=='time'){return timeStr;}else if(opts.type=='datetime'){return dateStr+' '+timeStr;}
return dateStr+' '+timeStr;};function updateDatetime(){var resultEl=datetimeWrapper.find('.datetime');is_twentyfour=resultEl.data('is-twenty-four')||false;var ampmVal=datetimeWrapper.find('.ampm').val();var time_obj=new Date();if(usingHtml5Datetime()){var dateEl=datetimeWrapper.find('.htmlDate');var timeEl=datetimeWrapper.find('.htmlTime');var dateInfo=dateEl.length==0?[2000,1,1]:dateEl.val().split('-');time_obj.setFullYear(parseInt(dateInfo[0])||2000);time_obj.setDate(1);time_obj.setMonth((parseInt(dateInfo[1])||1)-1);time_obj.setDate(parseInt(dateInfo[2])||1);var timeInfo=timeEl.length==0?[0,0]:timeEl.val().split(':');time_obj.setHours(parseInt(timeInfo[0])||0);time_obj.setMinutes(parseInt(timeInfo[1])||0);}else{if(datetimeWrapper.find('.dateSelector').length>0){var dateVar=datetimeWrapper.find('.dateSelector').datepicker('getDate');time_obj.setFullYear($.datepicker.formatDate('yy',dateVar));time_obj.setDate(1);time_obj.setMonth(parseInt($.datepicker.formatDate('m',dateVar))-1);time_obj.setDate($.datepicker.formatDate('d',dateVar));debug()('Date var',dateVar);}
if(is_twentyfour){time_obj.setHours(parseInt(datetimeWrapper.find('.hour').val())||0);}else{if(ampmVal=='PM'){time_obj.setHours((parseInt(datetimeWrapper.find('.hour').val())||0)+12);}else{time_obj.setHours(parseInt(datetimeWrapper.find('.hour').val())||0);}}
time_obj.setMinutes(parseInt(datetimeWrapper.find('.minute').val())||0);}
time_obj.setSeconds(0);var use_local_time=datetimeWrapper.find('.datetime').data('use-local-time');if(use_local_time){var datetime_string=time_obj.toLocaleString();}else{var datetime_string=time_obj.toString();}
resultEl.val(stringifyDate({date:time_obj,is_twentyfour:is_twentyfour,type:resultEl.data('form-type')}));debug()('Formbuilder Datetime string is '+resultEl.val());}
$(this).find('.dateSelector').datepicker({onSelect:function onSelect(){updateDatetime();}});var dateSelectorEl=$(this).find('.dateSelector');if(dateSelectorEl.length>0){dateSelectorEl.change(function(){updateDatetime();});dateSelectorEl.datepicker('setDate',datetimeObj);}
var newdate=new Date();var dateString=newdate.toLocaleTimeString();debug()('datestring: '+dateString);if(dateString.match(/am|pm/i)||newdate.toString().match(/am|pm/i)){debug()('12 hour clock');}else{debug()('24 hour clock');if(usingHtml5Datetime()){datetimeWrapper.find('.htmlTime').addClass('twentyfour');}else{var hour=datetimeWrapper.find('.hour');hour.addClass('twentyfour');hour.val(pad2(parseInt(hour.val())));datetimeWrapper.find('.ampmPicker').hide();}}
function incrementHour(){var val=parseInt(datetimeWrapper.find('.hour').val());if(val<23&&is_twentyfour){datetimeWrapper.find('.hour').val(pad2(val+1));}else if(val<12){datetimeWrapper.find('.hour').val(val+1);}else if(is_twentyfour){datetimeWrapper.find('.hour').val(pad2(0));}else{datetimeWrapper.find('.hour').val(1);}
updateDatetime();}
function decrementHour(){var val=parseInt(datetimeWrapper.find('.hour').val());if(is_twentyfour){if(val>0){datetimeWrapper.find('.hour').val(pad2(val-1));}else{datetimeWrapper.find('.hour').val(23);}}else{if(val>1){datetimeWrapper.find('.hour').val(val-1);}else{datetimeWrapper.find('.hour').val(12);}}
updateDatetime();}
function incrementMinute(){var val=parseInt(datetimeWrapper.find('.minute').val());if(val<59){datetimeWrapper.find('.minute').val(pad2(val+1));}else{datetimeWrapper.find('.minute').val(pad2(0));}
updateDatetime();}
function decrementMinute(){var val=parseInt(datetimeWrapper.find('.minute').val());if(val>0){datetimeWrapper.find('.minute').val(pad2(val-1));}else{datetimeWrapper.find('.minute').val(pad2(59));}
updateDatetime();}
datetimeWrapper.find('.upHour').on('click',function(){incrementHour();});datetimeWrapper.find('.downHour').on('click',function(){decrementHour();});datetimeWrapper.find('.hour').on('blur',function(){var numberRegex=/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/;var str=$(this).val();var isTwentyFour=$(this).parents('.datePickerParent').first().hasClass('twentyFour');var maxVal=isTwentyFour?24:12;if(numberRegex.test(str)){if(str>maxVal){$(this).val(maxVal);}else{$(this).val(str);}}else{$(this).val(1);}
updateDatetime();});datetimeWrapper.find('.upMinute').on('click',function(){incrementMinute();});datetimeWrapper.find('.downMinute').on('click',function(){decrementMinute();});datetimeWrapper.find('.minute').on('blur',function(){var numberRegex=/^[+-]?\d+(\.\d+)?([eE][+-]?\d+)?$/;var str=$(this).val();if(numberRegex.test(str)){if(str>59){$(this).val(59);}else{$(this).val(pad2(str));}}else{$(this).val(pad2(0));}
updateDatetime();});datetimeWrapper.find('.minute').on('keydown',function(e){if(e.keyCode==38){incrementMinute();return false;}else if(e.keyCode==40){decrementMinute();return false;}});datetimeWrapper.find('.hour').on('keydown',function(e){if(e.keyCode==38){incrementHour();return false;}else if(e.keyCode==40){decrementHour();return false;}});datetimeWrapper.find('.ampm').on('keydown',function(e){if(e.keyCode==38||e.keyCode==40){$(this).val($(this).val()=='AM'?'PM':'AM');return false;}});datetimeWrapper.find('.upAmpm, .downAmpm').on('click',function(){var val=datetimeWrapper.find('.ampm').val();debug()(val);if(val=='PM'){datetimeWrapper.find('.ampm').val('AM');}else{datetimeWrapper.find('.ampm').val('PM');}
updateDatetime();});datetimeWrapper.find('.ampm').on('blur',function(){var inputVal=$(this).val().toUpperCase();if(!(inputVal=='PM'||inputVal=='AM')){$(this).val('PM');}else{$(this).val(inputVal);}
updateDatetime();});function pad2(number){if(number.length>1&&number<10){return number;}else{return(number<10?'0':'')+number;}}
updateDatetime();});}});__webpack_require__(1066);});window.usingHtml5Datetime=function(){return isMobile();};window.mailingListChosen=function(data){debug()('Called',data);if(APP_SETTINGS.observableStore){APP_SETTINGS.observableStore.updateValue({key:'model.mailchimpList',value:data.list_id});APP_SETTINGS.observableStore.updateValue({key:'model.mailchimpListName',value:data.name});APP_MODEL.attributes.data.map(function(el,i){if(el.type==='email'){APP_MODEL.attributes.data[i].subscribeToMailchimp=true;}});APP_SETTINGS.observableStore.forceUpdate();}else{APP_MODEL.set({mailchimpList:data.list_id,mailchimpListName:data.name});$('[data-namespace="mailchimplist"]').data('mailchimpList',data.list_id).data('mailchimpListName',data.name).change();$('[name="subscribeToMailchimp"]').prop('checked',true);APP_MODEL.attributes.data.map(function(el,i){if(el.type==='email'){APP_MODEL.attributes.data[i].subscribeToMailchimp=true;}});APP_SETTINGS.initializeCheckboxes();APP_SETTINGS.initializeWixCheckboxes();}};window.currency=function(){var currency_symbols={USD:'$',BRL:'R$',CZK:'K',DKK:'kr',EUR:'',HUF:'Ft',ILS:'',JPY:'',MYR:'RM',NOK:'kr',PHP:'',PLN:'z',GBP:'',RUB:'',SEK:'kr',CHF:'CHF',THB:'',TRY:'&#8378;'};if(currency_symbols[APP_MODEL.get('paypalCurrencyCode')]==undefined){return '$';}else{return currency_symbols[APP_MODEL.get('paypalCurrencyCode')];}};}),208:(function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){var root=typeof self=='object'&&self.self===self&&self||typeof global=='object'&&global.global===global&&global||this||{};var previousUnderscore=root._;var ArrayProto=Array.prototype,ObjProto=Object.prototype;var SymbolProto=typeof Symbol!=='undefined'?Symbol.prototype:null;var push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create;var Ctor=function(){};var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj;};if(true&&!exports.nodeType){if(true&&!module.nodeType&&module.exports){exports=module.exports=_;}
exports._=_;}else{root._=_;}
_.VERSION='1.9.1';var optimizeCb=function(func,context,argCount){if(context===void 0)return func;switch(argCount==null?3:argCount){case 1:return function(value){return func.call(context,value);};case 3:return function(value,index,collection){return func.call(context,value,index,collection);};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection);};}
return function(){return func.apply(context,arguments);};};var builtinIteratee;var cb=function(value,context,argCount){if(_.iteratee!==builtinIteratee)return _.iteratee(value,context);if(value==null)return _.identity;if(_.isFunction(value))return optimizeCb(value,context,argCount);if(_.isObject(value)&&!_.isArray(value))return _.matcher(value);return _.property(value);};_.iteratee=builtinIteratee=function(value,context){return cb(value,context,Infinity);};var restArguments=function(func,startIndex){startIndex=startIndex==null?func.length-1:+startIndex;return function(){var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;for(;index<length;index++){rest[index]=arguments[index+startIndex];}
switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest);}
var args=Array(startIndex+1);for(index=0;index<startIndex;index++){args[index]=arguments[index];}
args[startIndex]=rest;return func.apply(this,args);};};var baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;Ctor.prototype=null;return result;};var shallowProperty=function(key){return function(obj){return obj==null?void 0:obj[key];};};var has=function(obj,path){return obj!=null&&hasOwnProperty.call(obj,path);}
var deepGet=function(obj,path){var length=path.length;for(var i=0;i<length;i++){if(obj==null)return void 0;obj=obj[path[i]];}
return length?obj:void 0;};var MAX_ARRAY_INDEX=Math.pow(2,53)-1;var getLength=shallowProperty('length');var isArrayLike=function(collection){var length=getLength(collection);return typeof length=='number'&&length>=0&&length<=MAX_ARRAY_INDEX;};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj)){for(i=0,length=obj.length;i<length;i++){iteratee(obj[i],i,obj);}}else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++){iteratee(obj[keys[i]],keys[i],obj);}}
return obj;};_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length);for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj);}
return results;};var createReduce=function(dir){var reducer=function(obj,iteratee,memo,initial){var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;if(!initial){memo=obj[keys?keys[index]:index];index+=dir;}
for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj);}
return memo;};return function(obj,iteratee,memo,context){var initial=arguments.length>=3;return reducer(obj,optimizeCb(iteratee,context,4),memo,initial);};};_.reduce=_.foldl=_.inject=createReduce(1);_.reduceRight=_.foldr=createReduce(-1);_.find=_.detect=function(obj,predicate,context){var keyFinder=isArrayLike(obj)?_.findIndex:_.findKey;var key=keyFinder(obj,predicate,context);if(key!==void 0&&key!==-1)return obj[key];};_.filter=_.select=function(obj,predicate,context){var results=[];predicate=cb(predicate,context);_.each(obj,function(value,index,list){if(predicate(value,index,list))results.push(value);});return results;};_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context);};_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return false;}
return true;};_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length;for(var index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return true;}
return false;};_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){if(!isArrayLike(obj))obj=_.values(obj);if(typeof fromIndex!='number'||guard)fromIndex=0;return _.indexOf(obj,item,fromIndex)>=0;};_.invoke=restArguments(function(obj,path,args){var contextPath,func;if(_.isFunction(path)){func=path;}else if(_.isArray(path)){contextPath=path.slice(0,-1);path=path[path.length-1];}
return _.map(obj,function(context){var method=func;if(!method){if(contextPath&&contextPath.length){context=deepGet(context,contextPath);}
if(context==null)return void 0;method=context[path];}
return method==null?method:method.apply(context,args);});});_.pluck=function(obj,key){return _.map(obj,_.property(key));};_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs));};_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs));};_.max=function(obj,iteratee,context){var result=-Infinity,lastComputed=-Infinity,value,computed;if(iteratee==null||typeof iteratee=='number'&&typeof obj[0]!='object'&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value!=null&&value>result){result=value;}}}else{iteratee=cb(iteratee,context);_.each(obj,function(v,index,list){computed=iteratee(v,index,list);if(computed>lastComputed||computed===-Infinity&&result===-Infinity){result=v;lastComputed=computed;}});}
return result;};_.min=function(obj,iteratee,context){var result=Infinity,lastComputed=Infinity,value,computed;if(iteratee==null||typeof iteratee=='number'&&typeof obj[0]!='object'&&obj!=null){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value!=null&&value<result){result=value;}}}else{iteratee=cb(iteratee,context);_.each(obj,function(v,index,list){computed=iteratee(v,index,list);if(computed<lastComputed||computed===Infinity&&result===Infinity){result=v;lastComputed=computed;}});}
return result;};_.shuffle=function(obj){return _.sample(obj,Infinity);};_.sample=function(obj,n,guard){if(n==null||guard){if(!isArrayLike(obj))obj=_.values(obj);return obj[_.random(obj.length-1)];}
var sample=isArrayLike(obj)?_.clone(obj):_.values(obj);var length=getLength(sample);n=Math.max(Math.min(n,length),0);var last=length-1;for(var index=0;index<n;index++){var rand=_.random(index,last);var temp=sample[index];sample[index]=sample[rand];sample[rand]=temp;}
return sample.slice(0,n);};_.sortBy=function(obj,iteratee,context){var index=0;iteratee=cb(iteratee,context);return _.pluck(_.map(obj,function(value,key,list){return{value:value,index:index++,criteria:iteratee(value,key,list)};}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1;}
return left.index-right.index;}),'value');};var group=function(behavior,partition){return function(obj,iteratee,context){var result=partition?[[],[]]:{};iteratee=cb(iteratee,context);_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key);});return result;};};_.groupBy=group(function(result,value,key){if(has(result,key))result[key].push(value);else result[key]=[value];});_.indexBy=group(function(result,value,key){result[key]=value;});_.countBy=group(function(result,value,key){if(has(result,key))result[key]++;else result[key]=1;});var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(_.isString(obj)){return obj.match(reStrSymbol);}
if(isArrayLike(obj))return _.map(obj,_.identity);return _.values(obj);};_.size=function(obj){if(obj==null)return 0;return isArrayLike(obj)?obj.length:_.keys(obj).length;};_.partition=group(function(result,value,pass){result[pass?0:1].push(value);},true);_.first=_.head=_.take=function(array,n,guard){if(array==null||array.length<1)return n==null?void 0:[];if(n==null||guard)return array[0];return _.initial(array,array.length-n);};_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(n==null||guard?1:n)));};_.last=function(array,n,guard){if(array==null||array.length<1)return n==null?void 0:[];if(n==null||guard)return array[array.length-1];return _.rest(array,Math.max(0,array.length-n));};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n);};_.compact=function(array){return _.filter(array,Boolean);};var flatten=function(input,shallow,strict,output){output=output||[];var idx=output.length;for(var i=0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){if(shallow){var j=0,len=value.length;while(j<len)output[idx++]=value[j++];}else{flatten(value,shallow,strict,output);idx=output.length;}}else if(!strict){output[idx++]=value;}}
return output;};_.flatten=function(array,shallow){return flatten(array,shallow,false);};_.without=restArguments(function(array,otherArrays){return _.difference(array,otherArrays);});_.uniq=_.unique=function(array,isSorted,iteratee,context){if(!_.isBoolean(isSorted)){context=iteratee;iteratee=isSorted;isSorted=false;}
if(iteratee!=null)iteratee=cb(iteratee,context);var result=[];var seen=[];for(var i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;if(isSorted&&!iteratee){if(!i||seen!==computed)result.push(value);seen=computed;}else if(iteratee){if(!_.contains(seen,computed)){seen.push(computed);result.push(value);}}else if(!_.contains(result,value)){result.push(value);}}
return result;};_.union=restArguments(function(arrays){return _.uniq(flatten(arrays,true,true));});_.intersection=function(array){var result=[];var argsLength=arguments.length;for(var i=0,length=getLength(array);i<length;i++){var item=array[i];if(_.contains(result,item))continue;var j;for(j=1;j<argsLength;j++){if(!_.contains(arguments[j],item))break;}
if(j===argsLength)result.push(item);}
return result;};_.difference=restArguments(function(array,rest){rest=flatten(rest,true,true);return _.filter(array,function(value){return!_.contains(rest,value);});});_.unzip=function(array){var length=array&&_.max(array,getLength).length||0;var result=Array(length);for(var index=0;index<length;index++){result[index]=_.pluck(array,index);}
return result;};_.zip=restArguments(_.unzip);_.object=function(list,values){var result={};for(var i=0,length=getLength(list);i<length;i++){if(values){result[list[i]]=values[i];}else{result[list[i][0]]=list[i][1];}}
return result;};var createPredicateIndexFinder=function(dir){return function(array,predicate,context){predicate=cb(predicate,context);var length=getLength(array);var index=dir>0?0:length-1;for(;index>=0&&index<length;index+=dir){if(predicate(array[index],index,array))return index;}
return-1;};};_.findIndex=createPredicateIndexFinder(1);_.findLastIndex=createPredicateIndexFinder(-1);_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);var value=iteratee(obj);var low=0,high=getLength(array);while(low<high){var mid=Math.floor((low+high)/2);if(iteratee(array[mid])<value)low=mid+1;else high=mid;}
return low;};var createIndexFinder=function(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if(typeof idx=='number'){if(dir>0){i=idx>=0?idx:Math.max(idx+length,i);}else{length=idx>=0?Math.min(idx+1,length):idx+length+1;}}else if(sortedIndex&&idx&&length){idx=sortedIndex(array,item);return array[idx]===item?idx:-1;}
if(item!==item){idx=predicateFind(slice.call(array,i,length),_.isNaN);return idx>=0?idx+i:-1;}
for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir){if(array[idx]===item)return idx;}
return-1;};};_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex);_.lastIndexOf=createIndexFinder(-1,_.findLastIndex);_.range=function(start,stop,step){if(stop==null){stop=start||0;start=0;}
if(!step){step=stop<start?-1:1;}
var length=Math.max(Math.ceil((stop-start)/step),0);var range=Array(length);for(var idx=0;idx<length;idx++,start+=step){range[idx]=start;}
return range;};_.chunk=function(array,count){if(count==null||count<1)return[];var result=[];var i=0,length=array.length;while(i<length){result.push(slice.call(array,i,i+=count));}
return result;};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype);var result=sourceFunc.apply(self,args);if(_.isObject(result))return result;return self;};_.bind=restArguments(function(func,context,args){if(!_.isFunction(func))throw new TypeError('Bind must be called on a function');var bound=restArguments(function(callArgs){return executeBound(func,bound,context,this,args.concat(callArgs));});return bound;});_.partial=restArguments(function(func,boundArgs){var placeholder=_.partial.placeholder;var bound=function(){var position=0,length=boundArgs.length;var args=Array(length);for(var i=0;i<length;i++){args[i]=boundArgs[i]===placeholder?arguments[position++]:boundArgs[i];}
while(position<arguments.length)args.push(arguments[position++]);return executeBound(func,bound,this,this,args);};return bound;});_.partial.placeholder=_;_.bindAll=restArguments(function(obj,keys){keys=flatten(keys,false,false);var index=keys.length;if(index<1)throw new Error('bindAll must be passed function names');while(index--){var key=keys[index];obj[key]=_.bind(obj[key],obj);}});_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache;var address=''+(hasher?hasher.apply(this,arguments):key);if(!has(cache,address))cache[address]=func.apply(this,arguments);return cache[address];};memoize.cache={};return memoize;};_.delay=restArguments(function(func,wait,args){return setTimeout(function(){return func.apply(null,args);},wait);});_.defer=_.partial(_.delay,_,1);_.throttle=function(func,wait,options){var timeout,context,args,result;var previous=0;if(!options)options={};var later=function(){previous=options.leading===false?0:_.now();timeout=null;result=func.apply(context,args);if(!timeout)context=args=null;};var throttled=function(){var now=_.now();if(!previous&&options.leading===false)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null;}
previous=now;result=func.apply(context,args);if(!timeout)context=args=null;}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining);}
return result;};throttled.cancel=function(){clearTimeout(timeout);previous=0;timeout=context=args=null;};return throttled;};_.debounce=function(func,wait,immediate){var timeout,result;var later=function(context,args){timeout=null;if(args)result=func.apply(context,args);};var debounced=restArguments(function(args){if(timeout)clearTimeout(timeout);if(immediate){var callNow=!timeout;timeout=setTimeout(later,wait);if(callNow)result=func.apply(this,args);}else{timeout=_.delay(later,wait,this,args);}
return result;});debounced.cancel=function(){clearTimeout(timeout);timeout=null;};return debounced;};_.wrap=function(func,wrapper){return _.partial(wrapper,func);};_.negate=function(predicate){return function(){return!predicate.apply(this,arguments);};};_.compose=function(){var args=arguments;var start=args.length-1;return function(){var i=start;var result=args[start].apply(this,arguments);while(i--)result=args[i].call(this,result);return result;};};_.after=function(times,func){return function(){if(--times<1){return func.apply(this,arguments);}};};_.before=function(times,func){var memo;return function(){if(--times>0){memo=func.apply(this,arguments);}
if(times<=1)func=null;return memo;};};_.once=_.partial(_.before,2);_.restArguments=restArguments;var hasEnumBug=!{toString:null}.propertyIsEnumerable('toString');var nonEnumerableProps=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'];var collectNonEnumProps=function(obj,keys){var nonEnumIdx=nonEnumerableProps.length;var constructor=obj.constructor;var proto=_.isFunction(constructor)&&constructor.prototype||ObjProto;var prop='constructor';if(has(obj,prop)&&!_.contains(keys,prop))keys.push(prop);while(nonEnumIdx--){prop=nonEnumerableProps[nonEnumIdx];if(prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)){keys.push(prop);}}};_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)if(has(obj,key))keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys;};_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);if(hasEnumBug)collectNonEnumProps(obj,keys);return keys;};_.values=function(obj){var keys=_.keys(obj);var length=keys.length;var values=Array(length);for(var i=0;i<length;i++){values[i]=obj[keys[i]];}
return values;};_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);var keys=_.keys(obj),length=keys.length,results={};for(var index=0;index<length;index++){var currentKey=keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj);}
return results;};_.pairs=function(obj){var keys=_.keys(obj);var length=keys.length;var pairs=Array(length);for(var i=0;i<length;i++){pairs[i]=[keys[i],obj[keys[i]]];}
return pairs;};_.invert=function(obj){var result={};var keys=_.keys(obj);for(var i=0,length=keys.length;i<length;i++){result[obj[keys[i]]]=keys[i];}
return result;};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key);}
return names.sort();};var createAssigner=function(keysFunc,defaults){return function(obj){var length=arguments.length;if(defaults)obj=Object(obj);if(length<2||obj==null)return obj;for(var index=1;index<length;index++){var source=arguments[index],keys=keysFunc(source),l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(!defaults||obj[key]===void 0)obj[key]=source[key];}}
return obj;};};_.extend=createAssigner(_.allKeys);_.extendOwn=_.assign=createAssigner(_.keys);_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);var keys=_.keys(obj),key;for(var i=0,length=keys.length;i<length;i++){key=keys[i];if(predicate(obj[key],key,obj))return key;}};var keyInObj=function(value,key,obj){return key in obj;};_.pick=restArguments(function(obj,keys){var result={},iteratee=keys[0];if(obj==null)return result;if(_.isFunction(iteratee)){if(keys.length>1)iteratee=optimizeCb(iteratee,keys[1]);keys=_.allKeys(obj);}else{iteratee=keyInObj;keys=flatten(keys,false,false);obj=Object(obj);}
for(var i=0,length=keys.length;i<length;i++){var key=keys[i];var value=obj[key];if(iteratee(value,key,obj))result[key]=value;}
return result;});_.omit=restArguments(function(obj,keys){var iteratee=keys[0],context;if(_.isFunction(iteratee)){iteratee=_.negate(iteratee);if(keys.length>1)context=keys[1];}else{keys=_.map(flatten(keys,false,false),String);iteratee=function(value,key){return!_.contains(keys,key);};}
return _.pick(obj,iteratee,context);});_.defaults=createAssigner(_.allKeys,true);_.create=function(prototype,props){var result=baseCreate(prototype);if(props)_.extendOwn(result,props);return result;};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj);};_.tap=function(obj,interceptor){interceptor(obj);return obj;};_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(object==null)return!length;var obj=Object(object);for(var i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return false;}
return true;};var eq,deepEq;eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return false;if(a!==a)return b!==b;var type=typeof a;if(type!=='function'&&type!=='object'&&typeof b!='object')return false;return deepEq(a,b,aStack,bStack);};deepEq=function(a,b,aStack,bStack){if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!==toString.call(b))return false;switch(className){case '[object RegExp]':case '[object String]':return ''+a===''+b;case '[object Number]':if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case '[object Date]':case '[object Boolean]':return+a===+b;case '[object Symbol]':return SymbolProto.valueOf.call(a)===SymbolProto.valueOf.call(b);}
var areArrays=className==='[object Array]';if(!areArrays){if(typeof a!='object'||typeof b!='object')return false;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&('constructor'in a&&'constructor'in b)){return false;}}
aStack=aStack||[];bStack=bStack||[];var length=aStack.length;while(length--){if(aStack[length]===a)return bStack[length]===b;}
aStack.push(a);bStack.push(b);if(areArrays){length=a.length;if(length!==b.length)return false;while(length--){if(!eq(a[length],b[length],aStack,bStack))return false;}}else{var keys=_.keys(a),key;length=keys.length;if(_.keys(b).length!==length)return false;while(length--){key=keys[length];if(!(has(b,key)&&eq(a[key],b[key],aStack,bStack)))return false;}}
aStack.pop();bStack.pop();return true;};_.isEqual=function(a,b){return eq(a,b);};_.isEmpty=function(obj){if(obj==null)return true;if(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj)))return obj.length===0;return _.keys(obj).length===0;};_.isElement=function(obj){return!!(obj&&obj.nodeType===1);};_.isArray=nativeIsArray||function(obj){return toString.call(obj)==='[object Array]';};_.isObject=function(obj){var type=typeof obj;return type==='function'||type==='object'&&!!obj;};_.each(['Arguments','Function','String','Number','Date','RegExp','Error','Symbol','Map','WeakMap','Set','WeakSet'],function(name){_['is'+name]=function(obj){return toString.call(obj)==='[object '+name+']';};});if(!_.isArguments(arguments)){_.isArguments=function(obj){return has(obj,'callee');};}
var nodelist=root.document&&root.document.childNodes;if(true&&typeof Int8Array!='object'&&typeof nodelist!='function'){_.isFunction=function(obj){return typeof obj=='function'||false;};}
_.isFinite=function(obj){return!_.isSymbol(obj)&&isFinite(obj)&&!isNaN(parseFloat(obj));};_.isNaN=function(obj){return _.isNumber(obj)&&isNaN(obj);};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)==='[object Boolean]';};_.isNull=function(obj){return obj===null;};_.isUndefined=function(obj){return obj===void 0;};_.has=function(obj,path){if(!_.isArray(path)){return has(obj,path);}
var length=path.length;for(var i=0;i<length;i++){var key=path[i];if(obj==null||!hasOwnProperty.call(obj,key)){return false;}
obj=obj[key];}
return!!length;};_.noConflict=function(){root._=previousUnderscore;return this;};_.identity=function(value){return value;};_.constant=function(value){return function(){return value;};};_.noop=function(){};_.property=function(path){if(!_.isArray(path)){return shallowProperty(path);}
return function(obj){return deepGet(obj,path);};};_.propertyOf=function(obj){if(obj==null){return function(){};}
return function(path){return!_.isArray(path)?obj[path]:deepGet(obj,path);};};_.matcher=_.matches=function(attrs){attrs=_.extendOwn({},attrs);return function(obj){return _.isMatch(obj,attrs);};};_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum;};_.random=function(min,max){if(max==null){max=min;min=0;}
return min+Math.floor(Math.random()*(max-min+1));};_.now=Date.now||function(){return new Date().getTime();};var escapeMap={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;','`':'&#x60;'};var unescapeMap=_.invert(escapeMap);var createEscaper=function(map){var escaper=function(match){return map[match];};var source='(?:'+_.keys(map).join('|')+')';var testRegexp=RegExp(source);var replaceRegexp=RegExp(source,'g');return function(string){string=string==null?'':''+string;return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string;};};_.escape=createEscaper(escapeMap);_.unescape=createEscaper(unescapeMap);_.result=function(obj,path,fallback){if(!_.isArray(path))path=[path];var length=path.length;if(!length){return _.isFunction(fallback)?fallback.call(obj):fallback;}
for(var i=0;i<length;i++){var prop=obj==null?void 0:obj[path[i]];if(prop===void 0){prop=fallback;i=length;}
obj=_.isFunction(prop)?prop.call(obj):prop;}
return obj;};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+'';return prefix?prefix+id:id;};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'",'\\':'\\','\r':'r','\n':'n','\u2028':'u2028','\u2029':'u2029'};var escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;var escapeChar=function(match){return '\\'+escapes[match];};_.template=function(text,settings,oldSettings){if(!settings&&oldSettings)settings=oldSettings;settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join('|')+'|$','g');var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escapeRegExp,escapeChar);index=offset+match.length;if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'";}else if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'";}else if(evaluate){source+="';\n"+evaluate+"\n__p+='";}
return match;});source+="';\n";if(!settings.variable)source='with(obj||{}){\n'+source+'}\n';source="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+
source+'return __p;\n';var render;try{render=new Function(settings.variable||'obj','_',source);}catch(e){e.source=source;throw e;}
var template=function(data){return render.call(this,data,_);};var argument=settings.variable||'obj';template.source='function('+argument+'){\n'+source+'}';return template;};_.chain=function(obj){var instance=_(obj);instance._chain=true;return instance;};var chainResult=function(instance,obj){return instance._chain?_(obj).chain():obj;};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return chainResult(this,func.apply(_,args));};});return _;};_.mixin(_);_.each(['pop','push','reverse','shift','sort','splice','unshift'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name==='shift'||name==='splice')&&obj.length===0)delete obj[0];return chainResult(this,obj);};});_.each(['concat','join','slice'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return chainResult(this,method.apply(this._wrapped,arguments));};});_.prototype.value=function(){return this._wrapped;};_.prototype.valueOf=_.prototype.toJSON=_.prototype.value;_.prototype.toString=function(){return String(this._wrapped);};if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=(function(){return _;}).apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}}());}.call(this,__webpack_require__(209),__webpack_require__(210)(module)))}),209:(function(module,exports){var g;g=(function(){return this;})();try{g=g||new Function("return this")();}catch(e){if(typeof window==="object")g=window;}
module.exports=g;}),210:(function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l;}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i;}});module.webpackPolyfill=1;}
return module;};}),220:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"isPaymentApp",function(){return isPaymentApp;});__webpack_require__.d(__webpack_exports__,"isFormOrPopup",function(){return isFormOrPopup;});__webpack_require__.d(__webpack_exports__,"simpleCopies",function(){return simpleCopies;});__webpack_require__.d(__webpack_exports__,"premiumStatusLabel",function(){return premiumStatusLabel;});__webpack_require__.d(__webpack_exports__,"baseURI",function(){return baseURI;});__webpack_require__.d(__webpack_exports__,"grantAccess",function(){return grantAccess;});__webpack_require__.d(__webpack_exports__,"removeHTML",function(){return removeHTML;});__webpack_require__.d(__webpack_exports__,"toTitleCase",function(){return toTitleCase;});__webpack_require__.d(__webpack_exports__,"isInABTest",function(){return isInABTest;});__webpack_require__.d(__webpack_exports__,"changePremiumStatus",function(){return changePremiumStatus;});__webpack_require__.d(__webpack_exports__,"openPowrzillaEditorWindow",function(){return openPowrzillaEditorWindow;});__webpack_require__.d(__webpack_exports__,"getNestedValue",function(){return getNestedValue;});__webpack_require__.d(__webpack_exports__,"hideZendesk",function(){return hideZendesk;});__webpack_require__.d(__webpack_exports__,"truncate",function(){return truncate;});__webpack_require__.d(__webpack_exports__,"isInPriceGroup",function(){return isInPriceGroup;});__webpack_require__.d(__webpack_exports__,"isInFeatureGroup",function(){return isInFeatureGroup;});__webpack_require__.d(__webpack_exports__,"getABGroup",function(){return getABGroup;});__webpack_require__.d(__webpack_exports__,"validateUrl",function(){return validateUrl;});__webpack_require__.d(__webpack_exports__,"a_or_an",function(){return a_or_an;});__webpack_require__.d(__webpack_exports__,"enableChatbot",function(){return enableChatbot;});__webpack_require__.d(__webpack_exports__,"REVIEW_LINKS",function(){return REVIEW_LINKS;});__webpack_require__.d(__webpack_exports__,"SQUARE_SPACE_REVIEW_LINK",function(){return SQUARE_SPACE_REVIEW_LINK;});__webpack_require__.d(__webpack_exports__,"getP1AppTypes",function(){return getP1AppTypes;});__webpack_require__.d(__webpack_exports__,"isP1App",function(){return isP1App;});__webpack_require__.d(__webpack_exports__,"getUserJourneyStepName",function(){return getUserJourneyStepName;});__webpack_require__.d(__webpack_exports__,"getVideoTestimonialAwardPrice",function(){return getVideoTestimonialAwardPrice;});__webpack_require__.d(__webpack_exports__,"detectPromoBanner",function(){return detectPromoBanner;});__webpack_require__.d(__webpack_exports__,"netElementLength",function(){return netElementLength;});function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
if(!window._){window._=__webpack_require__(208);}
var simpleCopies=function simpleCopies(key,data){var translation=window.SIMPLE_COPIES_DICTIONARY[key];if(!translation)return key;_.each(data,function(value,variable){translation=translation.replace(new RegExp('{'+variable+'}','g'),value);});return translation;};var premiumStatusLabel={enterprise:'Business',pro:'Pro',premium:'Starter',free:'Free'};var removeHTML=function removeHTML(string){var temp=document.createElement('div');temp.innerHTML=string;return temp.textContent;};var truncate=function truncate(str,length){return str.length>length?str.substring(0,length-3)+'...':str;};var ABTestInitialization=function ABTestInitialization(globals,attach_to_window){if(!globals)globals={ACTIVE_AB_TESTS:{}};var parent_window_globals=window.opener&&window.opener.GLOBALS?window.opener.GLOBALS:null;if(parent_window_globals){Object.keys(parent_window_globals.ACTIVE_AB_TESTS).forEach(function(key){globals.ACTIVE_AB_TESTS[key]=parent_window_globals.ACTIVE_AB_TESTS[key];});}
window.GLOBALS=globals;return globals;};var renderUserJourney=function renderUserJourney(){Promise.all([__webpack_require__.e(90),__webpack_require__.e(91),__webpack_require__.e(97),__webpack_require__.e(99),__webpack_require__.e(96),__webpack_require__.e(113)]).then((function(require){__webpack_require__(2254);}).bind(null,__webpack_require__)).catch(__webpack_require__.oe);};if(!window.POWr){window.POWr={paypalRedirectUrl:function paypalRedirectUrl(url){var redirect=void 0;if(HOST=='wix'){redirect=baseUri()+'/paramless-mirror/'+encodeURIComponent(urlFormat(url));}else{redirect=urlFormat(url);}
return redirect;},simpleCopies:simpleCopies,premiumStatusLabel:premiumStatusLabel,removeHTML:removeHTML,truncate:truncate,ABTestInitialization:ABTestInitialization,renderUserJourney:renderUserJourney};}
var baseURI=window.baseUri;var grantAccess=window.grantAccess;var toTitleCase=function toTitleCase(txt){return ''+txt.charAt(0).toUpperCase()+txt.slice(1);};var getNestedValue=function getNestedValue(base,str){var returnedVal=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var keys=str.split('.');var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=keys[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var key=_step.value;if(!base)return returnedVal;base=base[key];}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}
return base;};var openPowrzillaEditorWindow=function openPowrzillaEditorWindow(options){window.name=options.app_id+'_parent';var url=options.templates_present&&!options.email_id?'/powrzilla/templates':'/powrzilla';var params='app_id='+options.app_id+'&email_type='+options.email_type+'&host='+options.host;if(options.email_id){params=params+'&id='+options.email_id;}
window.open(url+'?'+params);};var isInABTest=function isInABTest(testName){var groupName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'test_group_1';var exposed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var ab_test_key='ACTIVE_AB_TESTS';if(testName==='ab_starter_removes_watermark'&&META.app_namespace!=='formBuilder'){return false;}
var value=getNestedValue(window,'GLOBALS.'+ab_test_key+'.'+testName+'.group',null);if(exposed)markUserExposedToAb(testName);return value===groupName;};var getABGroup=function getABGroup(testName){var exposed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(exposed)markUserExposedToAb(testName);return getNestedValue(window,'GLOBALS.ACTIVE_AB_TESTS.'+testName+'.group',null);};var markUserExposedToAb=function markUserExposedToAb(testName){window.ajaxController({url:'/users/exposed_to_ab',data:{ab_name:testName},type:'PUT'},function(){});};var isInPriceGroup=function isInPriceGroup(groupName){return window.GLOBALS&&window.GLOBALS['PRICE_GROUP']&&window.GLOBALS['PRICE_GROUP']===groupName;};var isInFeatureGroup=function isInFeatureGroup(groupName){return window.GLOBALS&&window.GLOBALS['FEATURE_GROUP']&&window.GLOBALS['FEATURE_GROUP']===groupName;};var changePremiumStatus=function changePremiumStatus(options,newPremiumStatus){return options.map(function(item){if(newPremiumStatus[item.name]||newPremiumStatus[item.value]){item.premium_status=newPremiumStatus[item.name];}
return item;});};function hideZendesk(){var delay=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1000;if($('.zEWidget-launcher--active').length>0){$('.zEWidget-launcher--active').hide();}else{setTimeout(function(){hideZendesk(delay);},delay);}}
var isPaymentApp=function isPaymentApp(namespace){return['paypalButton','ecommerce'].indexOf(namespace)!==-1;};var isFormOrPopup=function isFormOrPopup(namespace){return['formBuilder','popup'].indexOf(namespace)!==-1;};var validateUrl=function validateUrl(url){try{new URL(url);return true;}catch(_){return false;}};var enableChatbot=function enableChatbot(){__webpack_require__.e(176).then((function(require){__webpack_require__(1253);if(window.CURRENT_USER){window.drift.on('ready',function(){var _window$CURRENT_USER=window.CURRENT_USER,first_name=_window$CURRENT_USER.first_name,last_name=_window$CURRENT_USER.last_name,email=_window$CURRENT_USER.email,platform=_window$CURRENT_USER.platform;var firstName=first_name;var lastName=last_name;var subscription_level=window.META.premium_status;var attributes={firstName:firstName,lastName:lastName,email:email,subscription_level:subscription_level,platform:platform};attributes=_.pick(attributes,_.identity);window.drift.api.setUserAttributes(attributes);});}}).bind(null,__webpack_require__)).catch(__webpack_require__.oe);};var a_or_an=function a_or_an(word){if(word){return['a','e','i','o','u'].indexOf(word.charAt(0).toLowerCase())!==-1?'an '+word:'a '+word;}
return '';};var REVIEW_LINKS={development:'https://localhost:3000/admin/review_urls/',staging:'https://www.powr-staging.io/admin/review_urls/',production:'https://www.powr.io/admin/review_urls/'};var SQUARE_SPACE_REVIEW_LINK='/admin/review_urls/';var getP1AppTypes=function getP1AppTypes(){return['formBuilder','socialFeed','mediaGallery','popup','multiSlider','comments','countdownTimer','faq','paypalButton'];};var isP1App=function isP1App(appType){var p1AppTypes=getP1AppTypes();return p1AppTypes.indexOf(appType)!==-1;};var getUserJourneyStepName=function getUserJourneyStepName(stepNumber){var stepNames=['create_account','create_plugin','leave_review','leave_video_testimonial'];return stepNames[stepNumber];};var getVideoTestimonialAwardPrice=function getVideoTestimonialAwardPrice(platform){return platform==='bigcommerce'?159.99:79.99;};var detectPromoBanner=function detectPromoBanner(){var bodyElement=document.getElementsByTagName('body')[0];return bodyElement?[].concat(_toConsumableArray(bodyElement.classList)).indexOf('has-promo-banner')!==-1:false;};var netElementLength=function netElementLength(modelData){return modelData.filter(function(item){return item.type!=='step';}).length;};}),382:(function(module,exports,__webpack_require__){var require;var require;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++){s(r[o]);}return s;})({1:[function(require,module,exports){module.exports=function arbitrator(callback,interval){return function(val){setTimeout(function(){callback(val);},interval);};};},{}],2:[function(require,module,exports){module.exports=function changeDate(date,units,_interval){var interval=_interval.slice(-1)==="s"?_interval.slice(0,-1):_interval;var ret=new Date(date);switch(interval.toLowerCase()){case "year":ret.setFullYear(ret.getFullYear()+units);break;case "quarter":ret.setMonth(ret.getMonth()+3*units);break;case "month":ret.setMonth(ret.getMonth()+units);break;case "week":ret.setDate(ret.getDate()+7*units);break;case "day":ret.setDate(ret.getDate()+units);break;case "hour":ret.setTime(ret.getTime()+units*36e5);break;case "minute":ret.setTime(ret.getTime()+units*6e4);break;case "second":ret.setTime(ret.getTime()+units*1e3);break;default:ret=new Date(NaN);break;}return ret;};},{}],3:[function(require,module,exports){window.moment_custom=require("./momentlte.js");window.moment=require("./momentlte.js");},{"./momentlte.js":6}],4:[function(require,module,exports){var ordinalSuffix=require("./ordinalSuffix.js");var offsetFix=require("./offsetFix.js");dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]};function pad(val,len){val=String(val);len=len||2;while(val.length<len){val="0"+val;}return val;}function getWeek(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-(targetThursday.getDay()+6)%7+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-(firstThursday.getDay()+6)%7+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/(864e5*7);return 1+Math.floor(weekDiff);}function getDayOfWeek(date){var dow=date.getDay();if(dow===0){dow=7;}return dow;}function kindOf(val){if(val===null){return "null";}if(val===undefined){return "undefined";}if((typeof val==="undefined"?"undefined":_typeof(val))!=="object"){return typeof val==="undefined"?"undefined":_typeof(val);}if(Array.isArray(val)){return "array";}return{}.toString.call(val).slice(8,-1).toLowerCase();}function dateFormat(){var token=/([YyMmDdSsH]{1,4})|([h]){1,2}|([AaoZ])/g;var timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;var timezoneClip=/[^-+\dA-Z]/g;return function(date,mask,localFlag,gmt){var _flags;var utc=!localFlag;if(arguments.length===1&&kindOf(date)==="string"&&!/\d/.test(date)){mask=date;date=undefined;}date=date||new Date();if(!(date instanceof Date)){date=new Date(date);}if(isNaN(date)){return new Date(date);}mask=String(dateFormat.masks[mask]||mask||dateFormat.masks["default"]);var _=utc?"getUTC":"get";var D=date[_+"Date"]();var d=date[_+"Day"]();var M=date[_+"Month"]();var Y=date[_+"FullYear"]();var H=date[_+"Hours"]();var m=date[_+"Minutes"]();var s=date[_+"Seconds"]();var L=date[_+"Milliseconds"]();var o=utc?0:date.getTimezoneOffset();var W=getWeek(date);var N=getDayOfWeek(date);var flags=(_flags={Q:"TO BE IMPLEMENTED",Qo:"TO BE IMPLEMENTED",Do:ordinalSuffix(D),D:D,DD:pad(D),DDD:"TO BE IMPLEMENTED",d:d,dd:pad(d),ddd:dateFormat.i18n.dayNames[D],dddd:dateFormat.i18n.dayNames[D]+"day",m:m,mm:pad(m),M:M+1,Mo:ordinalSuffix(M+1),MM:pad(M+1),MMM:dateFormat.i18n.monthNames[M].slice(0,3),MMMM:dateFormat.i18n.monthNames[M],YY:String(Y).slice(2),yy:String(Y).slice(2),yyyy:Y,YYYY:Y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H)},_defineProperty(_flags,"M",M),_defineProperty(_flags,"s",s),_defineProperty(_flags,"ss",pad(s)),_defineProperty(_flags,"l",pad(L,3)),_defineProperty(_flags,"L",pad(Math.round(L/10))),_defineProperty(_flags,"A",H<12?"AM":"PM"),_defineProperty(_flags,"a",H<12?"AM":"PM"),_defineProperty(_flags,"Z",o?offsetFix(o):"Z"),_defineProperty(_flags,"S",["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]),_defineProperty(_flags,"W",W),_defineProperty(_flags,"N",N),_flags);return mask.replace(token,function(match){if(match in flags){return flags[match];}return match.slice(1,match.length-1);});};}module.exports=dateFormat();},{"./offsetFix.js":7,"./ordinalSuffix.js":8}],5:[function(require,module,exports){var fromISOString=function(){var origParse=Date.parse,numericKeys=[1,4,5,6,7,10,11];return function(date){var timestamp,struct,minutesOffset=0;if(struct=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(date)){for(var i=0,k;k=numericKeys[i];++i){struct[k]=+struct[k]||0;}struct[2]=(+struct[2]||1)-1;struct[3]=+struct[3]||1;if(struct[8]!=="Z"&&struct[9]!==undefined){minutesOffset=struct[10]*60+struct[11];if(struct[9]==="+"){minutesOffset=0-minutesOffset;}}timestamp=Date.UTC(struct[1],struct[2],struct[3],struct[4],struct[5]+minutesOffset,struct[6],struct[7]);}else{console.warn("Bad date object passed",date);return new Date();}return new Date(timestamp);};}();module.exports=fromISOString;},{}],6:[function(require,module,exports){var dateFormatter=require("./format.js");var dateFromISO=require("./fromISOString.js");var Arbitrator=require("./arbitrator.js");var changeDate=require("./changeDate.js");var offsetFix=require("./offsetFix.js");var CONF={ISOFORMAT:"isoDateTime"};var isoFormat=function isoFormat(dateObj){function pad(number){if(number<10){return "0"+number;}return number;}var toISOString=function toISOString(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"Z";};return toISOString.call(dateObj);};TYPE={STRING:"STRING",DATE:"DATE",OBJECT:"OBJECT",MOMENT:"MOMENT",FUNCTION:"FUNCTION"};function typeDetect(object){var string=typeof object==="string"?TYPE.STRING:null;var DateObject=Object.prototype.toString.call(object)==="[object Date]"?TYPE.DATE:null;var object=(typeof object==="undefined"?"undefined":_typeof(object))==="object"?TYPE.OBJECT:null;var Moment=typeof object==="function"&&object._isAMomentObject?TYPE.MOMENT:null;var fxn=typeof object==="function"?TYPE.FUNCTION:null;return[string,DateObject,object,fxn].reduce(function(val,nextVal){return val?val:nextVal;});}function isPresent(thing){return thing!=null||!!thing;}var momentlte=function momentlte(dateObjOrString){var _date;var paramType=typeDetect(dateObjOrString);switch(paramType){case TYPE.STRING:_date=dateFromISO(dateObjOrString);break;case TYPE.DATE:_date=new Date(dateObjOrString);break;case TYPE.OBJECT:_date=new Date(dateObjOrString["year"],dateObjOrString["month"],dateObjOrString["date"],dateObjOrString["hours"],dateObjOrString["minutes"],dateObjOrString["seconds"],dateObjOrString["milliseconds"]);break;case TYPE.MOMENT:_date=new Date(dateObjOrString._d);break;case TYPE.NUMBER:throw "We dont support numbers.";break;default:_date=new Date();}var _response=function _response(val){var valType=typeDetect(val);if(valType===TYPE.DATE){_date=val;}else if(valType===TYPE.OBJECT){Object.keys(val).forEach(function(key,idx,keys){_response[key](val[key]);});return _response;}else{_date=new Date();}return _response;};_response._d=_date;_response._isAMomentObject=true;_response.every=function(numValue,_unit,callback){var arbitrator=Arbitrator(callback,numValue*1e3);return arbitrator;};_response.add=function(interval,unit){_date=changeDate(_date,interval,unit);_response._d=_date;return _response;};_response.minus=function(val,unit){return _response.add(-1*val,unit);};_response.toLocaleISOString=function(){var initial=dateFormatter(_date,"YYYY-MM-DDTHH:mm:ss",true);var offset=_date.getTimezoneOffset();var offsetString=offsetFix(offset);return initial+offsetString;};_response.toISOString=function(){return _response.format("yyyy-MM-DDTHH:mm:ssZ");};_response.format=function(formatStr,localFlag){return dateFormatter(_date,formatStr,localFlag);};_response.valueOf=function(){return+_date;};_response.get=_response.set=function(key,val){if(typeDetect(key)===TYPE.OBJECT){Object.keys(key).forEach(function(_key){_response.set(_key,key[_key]);});return _response;}else{return isPresent(val)?_response[key](val):_response[key]();}};_response.year=_response.years=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="FullYear";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.month=_response.months=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Month";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.date=_response.dates=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Date";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.hour=_response.hours=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Hours";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.minute=_response.minutes=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Minutes";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.second=_response.seconds=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Seconds";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.millisecond=_response.milliseconds=function(val,localFlag){var valPresent=isPresent(val);var getOrSet=valPresent?"set":"get";var mode=localFlag?"":"UTC";var _method="Milliseconds";var method=getOrSet+mode+_method;if(valPresent){_date[method](val);return _response;}else{return _date[method]();}};_response.localYear=_response.localYears=function(){return _date.getFullYear();};_response.localMonth=_response.localMonths=function(){return _date.getMonth();};_response.localDate=_response.localDates=function(){return _date.getDate();};_response.localHour=_response.localHours=function(){return _date.getHours();};_response.localMinute=_response.localMinutes=function(){return _date.getMinutes();};_response.localSecond=_response.localSeconds=function(){return _date.getSeconds();};_response.localMillisecond=_response.localMilliseconds=function(){return _date.getMilliseconds();};return _response;};module.exports=momentlte;},{"./arbitrator.js":1,"./changeDate.js":2,"./format.js":4,"./fromISOString.js":5,"./offsetFix.js":7}],7:[function(require,module,exports){function offsetFix(numMinutes){var numMinutes=parseInt(numMinutes);if(!numMinutes)return "+00:00";function pad(number){var resp;var isNeg=number<0;var number=isNeg?number*-1:number;if(number<10){return "0"+number;}return number;}var isNeg=numMinutes<0;var numMinutes=isNeg?numMinutes*-1:numMinutes;var numHours=Math.floor(numMinutes/60);var remainMin=numMinutes%60;var numHoursString=pad(numHours);var remainMinString=pad(remainMin);var _resp=numHoursString+":"+remainMinString;return(isNeg?"+":"-")+_resp;}module.exports=offsetFix;},{}],8:[function(require,module,exports){module.exports=function getOrdinal(n){var s=["th","st","nd","rd"],v=n%100;return n+(s[(v-20)%10]||s[v]||s[0]);};},{}]},{},[3]);}),496:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var setDefaultSubmissionDeadline=function setDefaultSubmissionDeadline(){var date=new Date();if(date.getDate()>28){date.setDate(28);}
date.setMonth(date.getMonth()+1);return date;};__webpack_exports__["default"]=({defaultDateFormat:'MM-DD-YYYY',afterSubmission:'showForm',submissionFrequency:'perPage',redirectLink:'',ownerEmail:'',carrier:'',carrierLabel:'',phoneNumber:'',phoneValid:false,pattern:false,printable:false,stripeEnabled:false,braintreeEnabled:false,offlineEnabled:false,noteToSeller:false,sendCartAbandonmentEmailsTo:'',confirmationRecipients:'all',conditionalLogicEmails:[{}],sendConfirmationEmailHack:false,confirmationEmailFieldIdx:null,patternType:'subtle_white_feathers',removePowrLogo:false,multistepForm:false,title:'Form Title',powrMail:'zilla',emails:{},description:'',data:[{type:'text',label:'Example text field',half:false,required:false,isDefault:true},{type:'select',label:'Example Dropdown',options:['Option 1','Option 2','Option 3'],half:false,required:false,isDefault:true},{type:'textarea',label:'Example textarea',half:false,required:false,isDefault:true},{type:'radio',label:'Example Radio',options:['Option A','Option B','Option C'],half:false,required:false,radioAlign:'vertical',isDefault:true}],mailchimpList:'',mailchimpListName:'',popupForm:false,formTriggerElementType:'default',formTriggerElementStyle:'floatingButton',formTriggerTabLocation:'right',formTriggerPositionOffset:'100%',formTriggerIcon:'envelope-o',formTriggerText:'Your Text Here',fixedButtonColor:'rgb(255,255,255)',fixedButtonBackgroundColor:'rgb(30,136,229)',emailSubject:'',emailBody:'',emailName:'',emailAddress:'',customAdminEmails:false,adminSubjectVariable:'',adminEmailName:'',adminSubjectMessage:'',includeSkippedFields:false,paymentRequired:false,paypalEnabled:true,paypalQuantity:1,quantityLabel:'Quantity',paypalButtonText:'Purchase',showQuantityInput:false,showPriceSummary:true,paypalPaypalAccount:'',paypalCurrencyCode:'USD',paypalPurchaseType:'BuyNow',paypalItemName:'My product',paypalItemCost:5.0,paypalAllowUserToSpecifyPrice:false,paypalAllowUserToSpecifyQuantity:false,paypalTrialOn:false,paypalTrialPrice:0.0,paypalTrialDuration:30,paypalTrialDurationUnits:'D',paypalSubscriptionPrice:0,paypalSubscriptionDuration:1,paypalSubscriptionDurationUnits:'M',paypalShippingCost:'',paypalNoShipping:'0',paypalTaxType:'rate',paypalTaxRate:'0',paypalTaxAmount:'0',showGoogleSheetsAlert:true,titleFontFamily:'Open Sans',titleFontSize:'28px',titleFontColor:'rgb(56, 56, 56)',textFontFamily:'Open Sans',textFontSize:'12px',textFontColor:'rgb(86, 86, 86)',googleSheetsConnected:false,buttonBackgroundColor:'rgb(86, 86, 86)',buttonColor:'#FFF',buttonRadius:'4px',backgroundGradient:false,backgroundColor:'#FFF',backgroundStartColor:'#d5d5d5',backgroundEndColor:'#333',backgroundBorderColor:'rgb(238, 238, 238)',backgroundBorderRadius:'4px',backgroundBorderWidth:'1px',backgroundShadow:'none',inputBackgroundColor:'#FFF',inputBorderRadius:'4px',inputFontColor:'#333',inputFontSize:'12px',inputFontFamily:'Open Sans',discountCodeText:'Discount Code',discounts:[],passwordProtectOn:false,titleAlign:'left',buttonText:'Submit',nextButtonText:'Next',backButtonText:'Back',buttonAlign:'leftBtn',captchaRequired:false,labelType:'inlineLabels',pluginWidth:'500px',introAnimation:'none',buttonAnimation:'none',customCSS:'',customJS:'',template:'form_template_custom',limitingCharacters:false,conditionalLogic:'',showResponse:false,view_form_responses:[],paragraphHeight:'50px',pauseDisplay:false,successText:'Your submission has been received!',afterSubmissionImageAlign:'center',afterSubmissionImageSize:'20%',resubmitButtonText:'Submit again',trackUserId:false,submissions:{limits:{active:false,total:0,max:10},deadline:{active:false,dateTime:setDefaultSubmissionDeadline(),timezone:''},limitReachedMessage:'<p><strong><span style="font-size:20px">The submission limit has been reached for this form.</span></strong></p>'},integrations:{mailchimpData:{}}});})});